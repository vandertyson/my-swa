(function(e){function t(t){for(var n,o,s=t[0],l=t[1],c=t[2],d=0,p=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&p.push(i[o][0]),i[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(e[n]=l[n]);u&&u(t);while(p.length)p.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],n=!0,s=1;s<a.length;s++){var l=a[s];0!==i[l]&&(n=!1)}n&&(r.splice(t--,1),e=o(o.s=a[0]))}return e}var n={},i={app:0},r=[];function o(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=n,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(a,n,function(t){return e[t]}.bind(null,n));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("cd49")},"07c3":function(e,t,a){},"094a":function(e,t,a){},"0bdb":function(e,t,a){},"0f7d":function(e,t,a){"use strict";var n=a("75e2"),i=a.n(n);i.a},1:function(e,t){},"109b":function(e,t,a){},1718:function(e,t,a){},"196b":function(e,t,a){"use strict";var n=a("26b6"),i=a.n(n);i.a},2:function(e,t){},"24b3":function(e,t,a){},"257b":function(e,t,a){},2625:function(e,t,a){},"26b6":function(e,t,a){},"2aec":function(e,t,a){},"2d8b":function(e,t,a){"use strict";var n=a("1718"),i=a.n(n);i.a},3:function(e,t){},"313c":function(e,t,a){"use strict";var n=a("3c2c"),i=a.n(n);i.a},3619:function(e,t,a){"use strict";var n=a("820e"),i=a.n(n);i.a},3653:function(e,t,a){"use strict";var n=a("ee71"),i=a.n(n);i.a},"37dc":function(e,t,a){},"395c":function(e,t,a){"use strict";var n=a("a7f2"),i=a.n(n);i.a},"3c2c":function(e,t,a){},"3d32":function(e,t,a){"use strict";var n=a("adfa"),i=a.n(n);i.a},"3ef2":function(e,t,a){},4:function(e,t){},"406e":function(e,t,a){"use strict";var n=a("f978"),i=a.n(n);i.a},4678:function(e,t,a){var n={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(e){var t=r(e);return a(t)}function r(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}i.keys=function(){return Object.keys(n)},i.resolve=r,e.exports=i,i.id="4678"},4695:function(e,t,a){"use strict";var n=a("094a"),i=a.n(n);i.a},"4bae":function(e,t,a){"use strict";var n=a("f65c"),i=a.n(n);i.a},"4e76":function(e,t,a){"use strict";var n=a("2aec"),i=a.n(n);i.a},5:function(e,t){},5631:function(e,t,a){"use strict";var n=a("5c83"),i=a.n(n);i.a},"57a0":function(e,t,a){"use strict";var n=a("c0d3"),i=a.n(n);i.a},"5c0b":function(e,t,a){"use strict";var n=a("9c0c"),i=a.n(n);i.a},"5c83":function(e,t,a){},6142:function(e,t,a){"use strict";var n=a("f22d"),i=a.n(n);i.a},"68f6":function(e,t,a){"use strict";var n=a("257b"),i=a.n(n);i.a},"6bc6":function(e,t,a){},"6c1d":function(e,t,a){"use strict";var n=a("e518"),i=a.n(n);i.a},"6c66":function(e,t,a){},"6fed":function(e,t,a){"use strict";var n=a("37dc"),i=a.n(n);i.a},"752d":function(e,t,a){"use strict";var n=a("81a8"),i=a.n(n);i.a},"75e2":function(e,t,a){},"7bfc":function(e,t,a){"use strict";var n=a("2625"),i=a.n(n);i.a},"80b8":function(e,t,a){},"81a8":function(e,t,a){},"820e":function(e,t,a){},"83c3":function(e,t,a){},"8c8a7":function(e,t,a){"use strict";var n=a("07c3"),i=a.n(n);i.a},"93c4":function(e,t,a){"use strict";var n=a("3ef2"),i=a.n(n);i.a},9847:function(e,t,a){"use strict";var n=a("0bdb"),i=a.n(n);i.a},"9c0c":function(e,t,a){},"9fb3":function(e,t,a){"use strict";var n=a("83c3"),i=a.n(n);i.a},a7f2:function(e,t,a){},adfa:function(e,t,a){},b2ae:function(e,t,a){"use strict";var n=a("f59a"),i=a.n(n);i.a},b3ac:function(e,t,a){"use strict";var n=a("24b3"),i=a.n(n);i.a},babf:function(e,t,a){"use strict";var n=a("c914"),i=a.n(n);i.a},c0d3:function(e,t,a){},c914:function(e,t,a){},cd49:function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("47a9");n["Component"].registerHooks(["beforeRouteEnter","beforeRouteLeave","beforeRouteUpdate"]);var i=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("router-view")},o=[],s=a("d4ec"),l=a("262e"),c=a("2caf"),u=a("9ab4");n["Component"].registerHooks(["beforeRouteEnter","beforeRouteLeave","beforeRouteUpdate"]);var d=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return a}(i["default"]);d=Object(u["a"])([Object(n["Component"])({})],d);var p=d,v=p,f=(a("5c0b"),a("2877")),m=Object(f["a"])(v,r,o,!1,null,null,null),h=m.exports,b=a("9483");Object(b["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var y=a("8c4f"),g=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("main",[a("div",{staticClass:"background"},[a("div",{staticClass:"facets"}),a("div",{staticClass:"overlay"})]),a("div",{staticClass:"social"},[a("div",{staticStyle:{"padding-top":"240px"}},[a("social-button",{attrs:{settings:e.settings,type:"Discord",svg:e.discordSvgContent,title:e.discordTitle,url:"https://discord.gg/sq7sH7B",width:"400",height:"400"}}),a("social-button",{attrs:{settings:e.settings,type:"GitHub",svg:e.githubSvgContent,title:e.githubTitle,url:"https://github.com/sitewhere/sitewhere",width:"400",height:"400"}}),a("social-button",{attrs:{settings:e.settings,type:"Website",svg:e.websiteSvgContent,title:e.websiteTitle,url:"http://sitewhere.io/en/",width:"400",height:"400"}}),a("social-button",{attrs:{settings:e.settings,type:"Twitter",svg:e.twitterSvgContent,title:e.twitterTitle,url:"https://twitter.com/sitewhere",width:"400",height:"400"}})],1)]),a("v-container",[a("div",{staticClass:"login-wrapper"},[a("div",{staticClass:"sitewhere-logo"}),a("sw-error-banner",{attrs:{error:e.error}}),a("v-card-text",{staticClass:"ma-0 pa-1"},[a("div",{staticStyle:{width:"100%","text-align":"center",color:"#333","font-size":"35px","font-family":"RobotoRegular"}},[e._v("Instance Administration")])]),a("v-card-text",[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"mb-2",attrs:{xs12:""}},[a("v-text-field",{attrs:{"hide-details":"",label:"Username"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),a("div",{staticClass:"verror"},[e.$v.username.$invalid&&e.$v.$dirty?a("span",[e._v("Username is required.")]):e._e()])],1),a("v-flex",{staticClass:"mb-4",attrs:{xs12:""}},[a("v-text-field",{attrs:{"hide-details":"",label:"Password",type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),a("div",{staticClass:"verror"},[e.$v.password.$invalid&&e.$v.$dirty?a("span",[e._v("Password is required.")]):e._e()])],1),a("v-flex",{attrs:{xs11:""}},[a("remotes-dropdown",{attrs:{remotes:e.remotes},on:{selected:e.onConnectionUpdated}})],1),a("v-flex",{attrs:{xs1:""}},[a("v-icon",{staticClass:"pt-2 pl-3 blue--grey text--darken-2",on:{click:e.onEditRemotes}},[e._v("edit")])],1)],1)],1),a("v-card-actions",{staticClass:"pr-2"},[a("v-spacer"),a("v-btn",{attrs:{type:"submit",color:"primary",dark:"",loading:e.loggingIn},on:{click:e.onLogin}},[e._v("Login")])],1),a("v-dialog",{attrs:{"max-width":"300"},model:{value:e.noserver,callback:function(t){e.noserver=t},expression:"noserver"}},[a("v-card",[a("v-card-title",{staticClass:"headline"},[e._v("Instance Not Available")]),a("v-card-text",[e._v(" The server location specified could not be contacted. Verify that you have started a SiteWhere instance and the microservices have started successfully. ")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",flat:""},on:{click:function(t){e.noserver=!1}}},[e._v("OK")])],1)],1)],1),a("remotes-dialog",{ref:"remotes",on:{save:e.onRemotesUpdated}})],1)]),a("div",{staticClass:"draggable-area",staticStyle:{"-webkit-app-region":"drag"}}),a("v-system-bar",{staticClass:"title-bar",attrs:{color:"transparent"}},[a("v-btn",{staticClass:"ma-0 mt-2 title-bar-button",attrs:{flat:"",icon:"",small:"",color:"grey"},on:{click:e.openWebTools}},[a("v-icon",[e._v("menu")])],1),a("v-spacer"),a("v-btn",{staticClass:"ma-0 mt-2 title-bar-button",attrs:{flat:"",icon:"",small:"",color:"grey"},on:{click:e.minWindow}},[a("v-icon",[e._v("remove")])],1),a("v-btn",{staticClass:"ma-0 mt-2 title-bar-button",attrs:{flat:"",icon:"",small:"",color:"grey"},on:{click:e.maxWindow}},[a("v-icon",[e._v("check_box_outline_blank")])],1),a("v-btn",{staticClass:"ma-0 mt-2 title-bar-button",attrs:{flat:"",icon:"",small:"",color:"grey"},on:{click:e.closeWindow}},[a("v-icon",[e._v("close")])],1)],1)],1)])},k=[],O=(a("96cf"),a("1da1")),j=a("bee2"),C=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-tooltip",{attrs:{left:""}},[a("div",{staticClass:"sizer",attrs:{slot:"activator"},on:{click:function(t){return e.openLink()}},slot:"activator"},[a("svg",{staticClass:"cfill",attrs:{viewBox:e.viewBox},domProps:{innerHTML:e._s(e.svg)}})]),a("span",[e._v(e._s(e.title))])])},x=[],$=a("07bd"),_=a.n($),T=function(){function e(){Object(s["a"])(this,e)}return Object(j["a"])(e,null,[{key:"sendStartupEvent",value:function(t){e.targetUser(t)}},{key:"sendSocialMediaEvent",value:function(t,a){e.targetUser(t)}},{key:"sendApplicationUpdateEvent",value:function(t){e.targetUser(t)}},{key:"targetUser",value:function(t){return _()(e.GA_PROPERTY_ID,t.userId)}}]),e}();T.GA_PROPERTY_ID="UA-122806506-2";var D=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"openLink",value:function(){this.url&&(console.log("Removed Electron"),T.sendSocialMediaEvent(this.settings,this.type))}},{key:"viewBox",get:function(){return"0 0 "+this.width+" "+this.height}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],D.prototype,"settings",void 0),Object(u["a"])([Object(n["Prop"])(String)],D.prototype,"svg",void 0),Object(u["a"])([Object(n["Prop"])(String)],D.prototype,"title",void 0),Object(u["a"])([Object(n["Prop"])(String)],D.prototype,"url",void 0),Object(u["a"])([Object(n["Prop"])(String)],D.prototype,"type",void 0),Object(u["a"])([Object(n["Prop"])(String)],D.prototype,"width",void 0),Object(u["a"])([Object(n["Prop"])(String)],D.prototype,"height",void 0),D=Object(u["a"])([n["Component"]],D);var w=D,S=w,A=(a("4e76"),Object(f["a"])(S,C,x,!1,null,"7fc20eea",null)),P=A.exports,E=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-select",{attrs:{items:e.connections,solo:""},scopedSlots:e._u([{key:"selection",fn:function(t){return[a("v-icon",{staticClass:"pr-2",attrs:{small:""}},[e._v("router")]),e._v(" "+e._s(e.getNameAndUrl(t.item))+" ")]}},{key:"item",fn:function(t){return[a("v-icon",{staticClass:"pr-2",attrs:{small:""}},[e._v("router")]),e._v(" "+e._s(e.getNameAndUrl(t.item))+" ")]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})},L=[],U=(a("99af"),a("4160"),a("b0c0"),a("159b"),function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.selected=null,e}return Object(j["a"])(a,[{key:"onConnectionsUpdated",value:function(e){var t=this;e.forEach((function(e){t.remotes&&t.remotes.default&&t.remotes.default===e.id&&(t.selected=e)}))}},{key:"onSelectionChanged",value:function(e){this.$emit("selected",e)}},{key:"getNameAndUrl",value:function(e){return"".concat(e.name," (").concat(e.protocol,"://").concat(e.host,":").concat(e.port,")")}},{key:"connections",get:function(){return this.remotes?this.remotes.connections:[]}}]),a}(i["default"]));Object(u["a"])([Object(n["Prop"])()],U.prototype,"remotes",void 0),Object(u["a"])([Object(n["Watch"])("connections",{immediate:!0})],U.prototype,"onConnectionsUpdated",null),Object(u["a"])([Object(n["Watch"])("selected",{immediate:!0})],U.prototype,"onSelectionChanged",null),U=Object(u["a"])([n["Component"]],U);var I,q=U,R=q,M=Object(f["a"])(R,E,L,!1,null,null,null),F=M.exports,N=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-base-dialog",{ref:"dialog",attrs:{icon:e.icon,title:"Edit Remote Connection Settings",loaded:e.loaded,visible:e.dialogVisible,createLabel:"Ok",cancelLabel:"Cancel"},on:{createClicked:e.onCreateClicked,cancelClicked:e.onCancelClicked}},[a("v-card",{staticClass:"ma-2",attrs:{flat:""}},[a("remote-connections-list",{attrs:{remotes:e.remotes}})],1),a("v-divider"),a("v-card",{staticClass:"ml-2 mr-2 mb-0 mt-4",attrs:{flat:""}},[a("remote-connection-details",{staticClass:"pa-1",on:{added:e.onConnectionAdded}})],1)],1)},z=[],B=a("05eb");(function(e){e["Tenant"]="layers",e["User"]="people",e["Global"]="language",e["Device"]="developer_board",e["DeviceType"]="settings",e["DeviceAssignment"]="link",e["DeviceCommand"]="call_made",e["DeviceStatus"]="warning",e["DeviceGroup"]="apps",e["Customer"]="account_balance",e["CustomerType"]="settings",e["Area"]="collections",e["AreaType"]="settings",e["Asset"]="devices_other",e["AssetType"]="settings",e["BatchOperation"]="view_module",e["Schedule"]="access_alarm",e["Zone"]="timeline",e["Location"]="room",e["Alert"]="warning",e["Measurement"]="ballot",e["Emulator"]="settings_remote",e["Add"]="add_circle",e["Edit"]="create",e["Delete"]="delete_forever",e["Filter"]="filter_list",e["Up"]="arrow_upward",e["Script"]="description",e["Remotes"]="router"})(I||(I={}));var V=[{text:"25",value:25},{text:"50",value:50},{text:"100",value:100}],G=[{align:"left",sortable:!1,text:"Asset",value:"asset"},{align:"left",sortable:!1,text:"Latitude/Longitude/Elevation",value:"lle"},{align:"left",sortable:!1,text:"Event Date",value:"event"},{align:"left",sortable:!1,text:"Received Date",value:"received"}],Z=[{align:"left",sortable:!1,text:"Latitude/Longitude/Elevation",value:"lle"},{align:"left",sortable:!1,text:"Event Date",value:"event"},{align:"left",sortable:!1,text:"Received Date",value:"received"}],W=[{align:"left",sortable:!1,text:"Asset",value:"asset"},{align:"left",sortable:!1,text:"Measurement Name",value:"mxname"},{align:"left",sortable:!1,text:"Measurement Value",value:"mxvalue"},{align:"left",sortable:!1,text:"Event Date",value:"event"},{align:"left",sortable:!1,text:"Received Date",value:"received"}],H=[{align:"left",sortable:!1,text:"Measurement Name",value:"mxname"},{align:"left",sortable:!1,text:"Measurement Value",value:"mxvalue"},{align:"left",sortable:!1,text:"Event Date",value:"event"},{align:"left",sortable:!1,text:"Received Date",value:"received"}],J=[{align:"left",sortable:!1,text:"Asset",value:"asset"},{align:"left",sortable:!1,text:"Type",value:"type"},{align:"left",sortable:!1,text:"Message",value:"message"},{align:"left",sortable:!1,text:"Event Date",value:"event"},{align:"left",sortable:!1,text:"Received Date",value:"received"}],Q=[{align:"left",sortable:!1,text:"Type",value:"type"},{align:"left",sortable:!1,text:"Message",value:"message"},{align:"left",sortable:!1,text:"Event Date",value:"event"},{align:"left",sortable:!1,text:"Received Date",value:"received"}],Y=[{align:"left",sortable:!1,text:"Originating Event Id",value:"oeid"},{align:"left",sortable:!1,text:"Response",value:"response"},{align:"left",sortable:!1,text:"Event Date",value:"event"},{align:"left",sortable:!1,text:"Received Date",value:"received"}],K=[{align:"left",sortable:!1,text:"Command",value:"command"},{align:"left",sortable:!1,text:"Source",value:"source"},{align:"left",sortable:!1,text:"Target",value:"target"},{align:"left",sortable:!1,text:"Event Date",value:"event"},{align:"left",sortable:!1,text:"Received Date",value:"received"}],X=[{text:"String",datatype:B["ParameterType"].String},{text:"Double",datatype:B["ParameterType"].Double},{text:"Float",datatype:B["ParameterType"].Float},{text:"Boolean",datatype:B["ParameterType"].Bool},{text:"Int32",datatype:B["ParameterType"].Int32},{text:"Int64",datatype:B["ParameterType"].Int64},{text:"UInt32",datatype:B["ParameterType"].UInt32},{text:"UInt64",datatype:B["ParameterType"].UInt64},{text:"SInt32",datatype:B["ParameterType"].SInt32},{text:"SInt64",datatype:B["ParameterType"].SInt64},{text:"Fixed32",datatype:B["ParameterType"].Fixed32},{text:"Fixed64",datatype:B["ParameterType"].Fixed64},{text:"SFixed32",datatype:B["ParameterType"].SFixed32},{text:"SFixed64",datatype:B["ParameterType"].SFixed64}],ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticStyle:{height:"300px","overflow-y":"auto",border:"1px solid #ddd"}},[a("v-data-table",{attrs:{items:e.connections,"item-key":"id","hide-headers":"","hide-actions":""},scopedSlots:e._u([{key:"items",fn:function(t){return[a("tr",{staticStyle:{cursor:"pointer"},attrs:{active:t.selected},on:{click:function(a){return e.onSelect(t.item)}}},[a("td",{staticClass:"pa-2",attrs:{width:"5%"}},[a("v-icon",[e._v(e._s("https"===t.item.protocol?"lock":"lock_open"))])],1),a("td",{staticClass:"subheading pa-2",style:e.textStyle(t.item),attrs:{width:"90%"}},[e._v(e._s(e.getNameAndUrl(t.item)))]),a("td",{staticClass:"pa-2",attrs:{width:"5%"}},[t.item.id===e.remotes.default?a("v-icon",[e._v("star")]):e._e()],1)])]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1),a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"pa-1",attrs:{xs3:""}},[a("v-btn",{attrs:{small:"",block:"",disabled:e.isUpDisabled},on:{click:e.onConnectionMoveUp}},[a("v-icon",{attrs:{left:""}},[e._v("arrow_upward")]),e._v("Up ")],1)],1),a("v-flex",{staticClass:"pa-1",attrs:{xs3:""}},[a("v-btn",{attrs:{small:"",block:"",disabled:e.isDownDisabled},on:{click:e.onConnectionMoveDown}},[a("v-icon",{attrs:{left:""}},[e._v("arrow_downward")]),e._v("Down ")],1)],1),a("v-flex",{staticClass:"pa-1",attrs:{xs3:""}},[a("v-btn",{attrs:{small:"",block:"",disabled:e.isDefaultDisabled},on:{click:e.onConnectionDefault}},[a("v-icon",{attrs:{left:""}},[e._v("star")]),e._v("Default ")],1)],1),a("v-flex",{staticClass:"pa-1",attrs:{xs3:""}},[a("v-btn",{attrs:{small:"",block:"",disabled:e.isDeleteDisabled},on:{click:e.onConnectionDelete}},[a("v-icon",{attrs:{left:""}},[e._v("delete")]),e._v("Delete ")],1)],1)],1)],1)},te=[],ae=(a("c975"),a("a434"),a("a623"),a("a9e3"),a("b680"),a("d3b7"),a("ac1f"),a("25f0"),a("5319"),a("5cc6"),a("9a8c"),a("a975"),a("735e"),a("c1ac"),a("d139"),a("3a7b"),a("d5d6"),a("82f8"),a("e91f"),a("60bd"),a("5f96"),a("3280"),a("3fcc"),a("ca91"),a("25a1"),a("cd26"),a("3c5d"),a("2954"),a("649e"),a("219c"),a("170b"),a("b39a"),a("72f7"),a("c1df")),ne=a.n(ae);function ie(e){console.log(e)}function re(e,t){var a={message:t,type:"info"};return e.$store.commit("message",a),a}function oe(e,t){var a={message:t,type:"error"};return e.$store.commit("message",a),a}function se(e){return e?ne()(e).format("YYYY-MM-DD H:mm:ss"):"N/A"}function le(e){return e?ne()(e).toISOString():null}function ce(e){return Number(Math.round(parseFloat(e+"e4"))+"e-4").toFixed(4)}function ue(e,t){var a=e.$store.getters.selectedTenant;if(a){var n="/tenants/"+a.token+t;console.log("route to",n),e.$router.push(n)}else console.log("tenant was not set")}function de(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=crypto.getRandomValues(new Uint8Array(1))[0]%16|0,a="x"===e?t:3&t|8;return a.toString(16)}))}function pe(e,t,a){while(t<0)t+=e.length;while(a<0)a+=e.length;if(a>=e.length){var n=a-e.length;while(1+n--)e.push(void 0)}return e.splice(a,0,e.splice(t,1)[0]),e}var ve=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.selected=[],e.selection=null,e}return Object(j["a"])(a,[{key:"onSelect",value:function(e){var t=this;this.selected=[],this.connections.forEach((function(a){a.id==e.id&&(t.selected.push(a),t.selection=a,t.$emit("selected",a))}))}},{key:"textStyle",value:function(e){return{"font-weight":e.id===this.remotes.default?"bold":"normal"}}},{key:"getNameAndUrl",value:function(e){return"".concat(e.name," (").concat(e.protocol,"://").concat(e.host,":").concat(e.port,")")}},{key:"onConnectionClicked",value:function(e){this.selected=[e]}},{key:"getConnectionIndex",value:function(e){return this.remotes.connections.indexOf(e)}},{key:"onConnectionMoveUp",value:function(){if(this.selection){var e=this.getConnectionIndex(this.selection);pe(this.remotes.connections,e,e-1)}}},{key:"onConnectionMoveDown",value:function(){if(this.selection){var e=this.getConnectionIndex(this.selection);pe(this.remotes.connections,e,e+1)}}},{key:"onConnectionDelete",value:function(){this.selection&&this.remotes.connections.splice(this.getConnectionIndex(this.selection),1)}},{key:"onConnectionDefault",value:function(){this.selection&&(this.remotes.default=this.selection.id)}},{key:"isUpDisabled",get:function(){return!this.selection||0===this.getConnectionIndex(this.selection)}},{key:"isDownDisabled",get:function(){return!this.selection||this.getConnectionIndex(this.selection)>=this.remotes.connections.length-1}},{key:"isDefaultDisabled",get:function(){return!this.selection||this.selection.id===this.remotes.default}},{key:"isDeleteDisabled",get:function(){return!this.selection||this.selection.id===this.remotes.default}},{key:"connections",get:function(){return this.remotes?this.remotes.connections:[]}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],ve.prototype,"remotes",void 0),ve=Object(u["a"])([Object(n["Component"])({})],ve);var fe=ve,me=fe,he=Object(f["a"])(me,ee,te,!1,null,null,null),be=he.exports,ye=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("dialog-form",[a("v-flex",{attrs:{xs12:""}},[a("form-text",{attrs:{required:"",label:"Name",title:"Name displayed for remote.",icon:"info"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}},[!e.$v.name.required&&e.$v.$dirty?a("span",[e._v("Name is required.")]):e._e()])],1),a("v-flex",{attrs:{xs2:""}},[a("form-select",{attrs:{items:e.protocols,title:"Choose connection protocol",label:"Protocol","item-text":"text","item-value":"value",icon:"router"},model:{value:e.protocol,callback:function(t){e.protocol=t},expression:"protocol"}})],1),a("v-flex",{attrs:{xs6:""}},[a("form-text",{staticClass:"ml-3",attrs:{required:"",label:"Hostname",title:"Hostname for remote."},model:{value:e.host,callback:function(t){e.host=t},expression:"host"}},[!e.$v.host.required&&e.$v.$dirty?a("span",[e._v("Hostname is required.")]):e._e()])],1),a("v-flex",{attrs:{xs3:""}},[a("form-text",{staticClass:"ml-3",attrs:{required:"",type:"number",label:"Port",title:"Port for remote."},model:{value:e.port,callback:function(t){e.port=t},expression:"port"}},[!e.$v.port.required&&e.$v.$dirty?a("span",[e._v("Port is required.")]):e._e()])],1),a("v-flex",{attrs:{xs1:""}},[a("v-btn",{staticClass:"mb-0",attrs:{color:"primary",icon:""},on:{click:e.onCreateClicked}},[a("v-icon",[e._v("add")])],1)],1)],1)},ge=[],ke=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{staticClass:"pa-3",attrs:{fluid:""}},[a("v-layout",{staticClass:"pl-2 pr-2 pt-0 pb-0",attrs:{row:"",wrap:""}},[e._t("default")],2)],1)},Oe=[],je=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return a}(i["default"]);je=Object(u["a"])([Object(n["Component"])({})],je);var Ce=je,xe=Ce,$e=Object(f["a"])(xe,ke,Oe,!1,null,null,null),_e=$e.exports,Te=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mb-3"},[a("v-text-field",{attrs:{required:e.required,title:e.title,label:e.label,type:e.type,placeholder:" ","hide-details":"","prepend-icon":e.icon},model:{value:e.wrapped,callback:function(t){e.wrapped=t},expression:"wrapped"}}),a("div",{staticClass:"verror"},[e._t("default")],2)],1)},De=[],we=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"wrapped",get:function(){return this.value},set:function(e){this.$emit("input",e)}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],we.prototype,"title",void 0),Object(u["a"])([Object(n["Prop"])()],we.prototype,"label",void 0),Object(u["a"])([Object(n["Prop"])()],we.prototype,"icon",void 0),Object(u["a"])([Object(n["Prop"])()],we.prototype,"required",void 0),Object(u["a"])([Object(n["Prop"])()],we.prototype,"value",void 0),Object(u["a"])([Object(n["Prop"])()],we.prototype,"type",void 0),we=Object(u["a"])([Object(n["Component"])({})],we);var Se=we,Ae=Se,Pe=Object(f["a"])(Ae,Te,De,!1,null,"66ec3f33",null),Ee=Pe.exports,Le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mb-3"},[a("v-select",{attrs:{required:e.required,title:e.title,label:e.label,items:e.items,multiple:e.multiple,"item-text":e.itemText,"item-value":e.itemValue,chips:e.chips,"prepend-icon":e.icon,placeholder:" "},on:{change:e.onSelectionChanged},model:{value:e.wrapped,callback:function(t){e.wrapped=t},expression:"wrapped"}}),a("div",{staticClass:"verror"},[e._t("default")],2)],1)},Ue=[],Ie=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"onSelectionChanged",value:function(e){this.$emit("change",e)}},{key:"wrapped",get:function(){return this.value},set:function(e){this.$emit("input",e)}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],Ie.prototype,"title",void 0),Object(u["a"])([Object(n["Prop"])()],Ie.prototype,"label",void 0),Object(u["a"])([Object(n["Prop"])()],Ie.prototype,"icon",void 0),Object(u["a"])([Object(n["Prop"])()],Ie.prototype,"items",void 0),Object(u["a"])([Object(n["Prop"])()],Ie.prototype,"required",void 0),Object(u["a"])([Object(n["Prop"])()],Ie.prototype,"value",void 0),Object(u["a"])([Object(n["Prop"])()],Ie.prototype,"itemText",void 0),Object(u["a"])([Object(n["Prop"])()],Ie.prototype,"itemValue",void 0),Object(u["a"])([Object(n["Prop"])()],Ie.prototype,"multiple",void 0),Object(u["a"])([Object(n["Prop"])()],Ie.prototype,"chips",void 0),Ie=Object(u["a"])([Object(n["Component"])({})],Ie);var qe=Ie,Re=qe,Me=Object(f["a"])(Re,Le,Ue,!1,null,"392a5dbb",null),Fe=Me.exports,Ne=a("b5ae"),ze=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.name=null,e.protocol=null,e.host=null,e.port=null,e.protocols=[{text:"http",value:"http"},{text:"https",value:"https"}],e}return Object(j["a"])(a,[{key:"reset",value:function(){this.name=null,this.protocol=null,this.host=null,this.port=null,this.$v.$reset()}},{key:"validate",value:function(){return this.$v.$touch(),!this.$v.$invalid}},{key:"load",value:function(e){this.name=e.name,this.protocol=e.protocol,this.host=e.areaType.host,this.port=e.port}},{key:"save",value:function(){return{id:de(),name:this.name,protocol:this.protocol,host:this.host,port:this.port}}},{key:"onCreateClicked",value:function(){var e=this.save();this.$emit("added",e),this.reset()}}]),a}(n["DialogSection"]);ze=Object(u["a"])([Object(n["Component"])({components:{DialogForm:_e,FormText:Ee,FormSelect:Fe},validations:{name:{required:Ne["required"]},protocol:{required:Ne["required"]},host:{required:Ne["required"]},port:{required:Ne["required"]}}})],ze);var Be=ze,Ve=Be,Ge=Object(f["a"])(Ve,ye,ge,!1,null,null,null),Ze=Ge.exports,We=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.remotes=null,e}return Object(j["a"])(a,[{key:"reset",value:function(){this.$refs.details&&this.$refs.connections.reset()}},{key:"load",value:function(e){this.remotes=JSON.parse(JSON.stringify(e)),this.reset(),this.$refs.connections&&this.$refs.connections.load(e)}},{key:"onConnectionAdded",value:function(e){this.remotes&&this.remotes.connections.push(e)}},{key:"onCreateClicked",value:function(e){this.$emit("save",this.remotes)}},{key:"icon",get:function(){return I.Remotes}}]),a}(n["DialogComponent"]);We=Object(u["a"])([Object(n["Component"])({components:{RemoteConnectionsList:be,RemoteConnectionDetails:Ze}})],We);var He=We,Je=He,Qe=Object(f["a"])(Je,N,z,!1,null,null,null),Ye=Qe.exports,Ke=a("1dce"),Xe=a.n(Ke),et=(a("a15b"),a("3c43")),tt=a("3e8f"),at=a("df7c"),nt=a("11c1"),it=function(){function e(){Object(s["a"])(this,e),this.userId=nt(),this.initialVersion="2.0.0"}return Object(j["a"])(e,null,[{key:"exists",value:function(){return tt.existsSync(e.getSettingsPath())}},{key:"load",value:function(){if(e.exists()){var t=tt.readFileSync(e.getSettingsPath(),"utf8"),a=JSON.parse(t),n=new e;return n.userId=a["userId"],n.initialVersion=a["initialVersion"],n}var i=this.defaultSettings();return this.save(i),i}},{key:"defaultSettings",value:function(){var t=new e;return t}},{key:"save",value:function(t){var a={};a["userId"]=t.userId,a["initialVersion"]=t.initialVersion,tt.writeFileSync(e.getSettingsPath(),JSON.stringify(a,null,"\t"))}},{key:"getSettingsPath",value:function(){var e=at.join(et.homedir(),".sitewhere");return tt.existsSync(e)||tt.mkdirSync(e),at.join(e,"settings.json")}}]),e}();function rt(e){var t=e.getters;return"".concat(t.protocol,"://").concat(t.server,":").concat(t.port,"/sitewhere/api/")}function ot(e){var t=e.getters;return"".concat(t.protocol,"://").concat(t.server,":").concat(t.port,"/sitewhere/authapi/")}function st(e){var t=e.getters;return"".concat(t.protocol,"://").concat(t.server,":").concat(t.port,"/sitewhere/ws/admin/")}function lt(e){var t=rt(e),a=e.getters.jwt,n=e.getters.selectedTenant?e.getters.selectedTenant.token:"",i=e.getters.selectedTenant?e.getters.selectedTenant.authenticationToken:"";return B["Auth"].createJwtRequest(t,a,n,i)}function ct(e){var t=ot(e),a=e.getters.authToken;return B["Auth"].createBasicAuthRequest(t,a)}function ut(e,t){return new Promise((function(a,n){e.commit("startLoading"),t.then((function(t){e.commit("stopLoading"),e.commit("error",null),a(t)})).catch((function(t){e.commit("stopLoading"),e.commit("error",t),n(t)}))}))}function dt(e,t){var a=lt(e),n=a.get(t,{responseType:"blob"});return ut(e,n)}function pt(e){var t=ct(e),a=B["AuthAPI"].Jwt.getJwt(t);return ut(e,a)}function vt(e,t){var a=lt(e),n=B["API"].Users.createUser(a,t);return ut(e,n)}function ft(e,t,a){var n=lt(e),i=B["API"].Users.getUser(n,t,a);return ut(e,i)}function mt(e,t,a){var n=lt(e),i=B["API"].Users.updateUser(n,t,a);return ut(e,i)}function ht(e,t){var a=lt(e),n=B["API"].Users.deleteUser(a,t);return ut(e,n)}function bt(e,t,a){var n=lt(e),i=B["API"].Users.listUsers(n,t,a);return ut(e,i)}function yt(e){var t=lt(e),a=B["API"].Users.getAuthoritiesHierarchy(t);return ut(e,a)}var gt='<path d="M137,134c-8.15,0-14.58,7.15-14.58,15.87S129,165.72,137,165.72s14.59-7.15,14.59-15.87S145.14,134,137,134Zm52.2,0c-8.15,0-14.59,7.15-14.59,15.87s6.58,15.87,14.59,15.87,14.58-7.15,14.58-15.87S197.34,134,189.19,134Z" transform="translate(-32.75 -17)"/><path class="cls-1" d="M315.49,17H70.26A37.61,37.61,0,0,0,32.75,54.7V302.11a37.6,37.6,0,0,0,37.51,37.7H277.79L268.09,306l23.42,21.77,22.15,20.5L353,383V54.7A37.61,37.61,0,0,0,315.49,17ZM244.85,256s-6.59-7.87-12.08-14.82c24-6.78,33.12-21.78,33.12-21.78a104.88,104.88,0,0,1-21,10.8,120.4,120.4,0,0,1-26.54,7.86,128.13,128.13,0,0,1-47.4-.18A153.38,153.38,0,0,1,144,230a106.78,106.78,0,0,1-13.36-6.22c-.54-.37-1.09-.55-1.64-.91a2.6,2.6,0,0,1-.73-.55c-3.3-1.83-5.13-3.11-5.13-3.11s8.79,14.64,32,21.59c-5.49,6.95-12.26,15.19-12.26,15.19-40.45-1.28-55.82-27.82-55.82-27.82,0-58.92,26.35-106.69,26.35-106.69,26.35-19.76,51.43-19.21,51.43-19.21l1.83,2.19c-32.94,9.52-48.13,24-48.13,24s4-2.2,10.79-5.31c19.58-8.6,35.14-11,41.55-11.53a18.19,18.19,0,0,1,3.11-.36,154.68,154.68,0,0,1,37-.37,149.19,149.19,0,0,1,55.09,17.57s-14.46-13.73-45.57-23.24l2.56-2.93s25.07-.55,51.42,19.21c0,0,26.36,47.77,26.36,106.69C300.85,228.18,285.29,254.72,244.85,256Z" transform="translate(-32.75 -17)"/>',kt="Get Support on the SiteWhere Discord Server",Ot='<path class="cls-1" d="M183.73,297.47v-45.6h-38C154,276.05,167.77,293.2,183.73,297.47Z" transform="translate(-23 -26)"/><path class="cls-1" d="M137.29,189.73h46.44V158.67H141.31A173.49,173.49,0,0,0,137.29,189.73Z" transform="translate(-23 -26)"/><path class="cls-1" d="M141.31,236.33h42.42V205.27H137.29A173.49,173.49,0,0,0,141.31,236.33Z" transform="translate(-23 -26)"/><path class="cls-1" d="M276.61,143.13a101.62,101.62,0,0,0-41.54-36.73c7.53,10,13.75,22.47,18.3,36.73Z" transform="translate(-23 -26)"/><path class="cls-1" d="M145.68,143.13h38V97.54C167.77,101.8,154,119,145.68,143.13Z" transform="translate(-23 -26)"/><path class="cls-1" d="M125.58,158.67H98.27a99.91,99.91,0,0,0-7.44,31.06h30.93A183.58,183.58,0,0,1,125.58,158.67Z" transform="translate(-23 -26)"/><path class="cls-1" d="M147.93,106.4a101.49,101.49,0,0,0-41.54,36.73h23.27C134.2,128.87,140.43,116.37,147.93,106.4Z" transform="translate(-23 -26)"/><path class="cls-1" d="M106.39,251.87a101.35,101.35,0,0,0,41.54,36.73c-7.52-10-13.75-22.47-18.28-36.73Z" transform="translate(-23 -26)"/><path class="cls-1" d="M121.76,205.27H90.83a99.91,99.91,0,0,0,7.44,31.06h27.31A183.58,183.58,0,0,1,121.76,205.27Z" transform="translate(-23 -26)"/><path class="cls-1" d="M323.13,26H65.88A42.9,42.9,0,0,0,23,68.88V326.13A42.89,42.89,0,0,0,65.88,369H323.13A42.89,42.89,0,0,0,366,326.13V68.88A42.89,42.89,0,0,0,323.13,26ZM308,197.5v7.77h-.28A116.46,116.46,0,0,1,199.27,313.72V314H183.73v-.28A116.48,116.48,0,0,1,75.26,205.27H75V189.73h.26A116.51,116.51,0,0,1,183.73,81.26V81h15.54v.26A116.48,116.48,0,0,1,307.72,189.73H308Z" transform="translate(-23 -26)"/><path class="cls-1" d="M257.42,236.33h27.31a99.62,99.62,0,0,0,7.43-31.06H261.24A183.58,183.58,0,0,1,257.42,236.33Z" transform="translate(-23 -26)"/><path class="cls-1" d="M235.07,288.6a101.47,101.47,0,0,0,41.54-36.73H253.37C248.82,266.13,242.57,278.62,235.07,288.6Z" transform="translate(-23 -26)"/><path class="cls-1" d="M257.42,158.67a183.58,183.58,0,0,1,3.82,31.06h30.93a99.91,99.91,0,0,0-7.44-31.06Z" transform="translate(-23 -26)"/><path class="cls-1" d="M199.27,97.54v45.59h38C229,119,215.22,101.8,199.27,97.54Z" transform="translate(-23 -26)"/><path class="cls-1" d="M241.67,158.67h-42.4v31.06h46.44A174.37,174.37,0,0,0,241.67,158.67Z" transform="translate(-23 -26)"/><path class="cls-1" d="M199.27,251.87v45.6c15.95-4.27,29.71-21.42,38-45.6Z" transform="translate(-23 -26)"/><path class="cls-1" d="M245.71,205.27H199.27v31.06h42.4A171.66,171.66,0,0,0,245.71,205.27Z" transform="translate(-23 -26)"/>',jt="Visit the SiteWhere Community Website",Ct='<path d="M117.3,302.22q-1.8,2-4.5-.68-2.94-2.48-.9-4.28c1.2-1.35,2.7-1.13,4.5.68Q119.1,300.41,117.3,302.22Zm-9.46-13.74c1.35,1.8,1.35,3.22,0,4.28q-1.8,1.35-3.83-1.58c-1.35-1.95-1.35-3.31,0-4.06Q106,285.54,107.84,288.48ZM94.1,275a1.93,1.93,0,0,1-2.93.45c-1.5-.75-2-1.65-1.58-2.7.45-.75,1.43-.91,2.93-.45C94,273,94.55,273.91,94.1,275Zm7,7.66q-1.35,1.58-3.6-.68-2-2.47-.45-3.6,1.35-1.35,3.6.67Q102.66,281.5,101.08,282.62Zm29.06,25.23c-.6,1.8-2,2.25-4.28,1.35q-3.83-.9-2.93-3.38c.61-1.65,2-2.18,4.28-1.58C129.62,305,130.59,306.2,130.14,307.85Zm14.2,1.12c0,1.66-1.21,2.48-3.61,2.48-2.55.3-3.83-.52-3.83-2.48q0-2.48,3.61-2.47Q144.34,306,144.34,309Zm13.06-2.25c.3,1.5-.75,2.56-3.15,3.16s-3.76,0-4.06-1.81.75-2.92,3.16-3.38Q157,304.24,157.4,306.72ZM368,95.29V302.76c0,17.14-3.12,35.67-15.29,47.85S322.9,365,305.76,365H257.35a47.11,47.11,0,0,1-5.3-.22,18.65,18.65,0,0,1-4.21-1.08,5.93,5.93,0,0,1-3.46-3.13,13.89,13.89,0,0,1-1.08-5.94V303q0-21-11.24-30.68a148.63,148.63,0,0,0,22.16-3.89A88.45,88.45,0,0,0,274.53,260,60.51,60.51,0,0,0,292,245.6q7-8.53,11.45-22.7t4.43-32.52q0-26.15-17.07-44.52,8-19.67-1.73-44.09-6.06-1.93-17.51,2.38a116.35,116.35,0,0,0-19.88,9.51l-8.21,5.18a156.27,156.27,0,0,0-83,0q-3.47-2.37-9.19-5.83t-18-8.32q-12.32-4.86-18.59-2.92-9.51,24.42-1.51,44.09-17.07,18.38-17.07,44.52,0,18.38,4.43,32.42t11.34,22.69A58.24,58.24,0,0,0,129.3,260a88.33,88.33,0,0,0,20.32,8.43,148.49,148.49,0,0,0,22.15,3.89q-8.66,7.77-10.59,22.26a43,43,0,0,1-9.73,3.24,61.18,61.18,0,0,1-12.32,1.08A25.43,25.43,0,0,1,125,294.22a38.25,38.25,0,0,1-12-13.5,34.68,34.68,0,0,0-10.48-11.24q-6.37-4.32-10.7-5.19l-4.32-.65c-3,0-5.11.33-6.26,1s-1.52,1.48-1.09,2.49a12.29,12.29,0,0,0,2,3,15.88,15.88,0,0,0,2.81,2.59l1.51,1.08Q91.15,276,95.8,282a54.18,54.18,0,0,1,6.81,11l2.16,5a27.38,27.38,0,0,0,9.51,13.3,33.74,33.74,0,0,0,14.48,6.48,91.67,91.67,0,0,0,15,1.51,64.22,64.22,0,0,0,12-.75l5-.87q0,8.22.1,22.26c.08,9.37.11,14.26.11,14.7q0,4.75-2.38,7.24a8.4,8.4,0,0,1-4.75,2.81,58.8,58.8,0,0,1-7.13.32H98.29c-17.15,0-37.47-.42-49.65-12.59S36.05,319.9,36.05,302.76V95.29c0-17.15-1.38-37.47,10.79-49.65s34.3-12.59,51.45-12.59H305.76c17.14,0,37.47.42,49.65,12.59S368,78.14,368,95.29Z" transform="translate(-36 -33.05)"/>',xt="View Repository on GitHub",$t='<path class="cls-1" d="M328.13,33H70.88A42.9,42.9,0,0,0,28,75.88V333.13A42.89,42.89,0,0,0,70.88,376H328.13A42.89,42.89,0,0,0,371,333.13V75.88A42.89,42.89,0,0,0,328.13,33ZM284.74,160.85c.08,1.89.08,3.78.08,5.66,0,58.06-44.25,125.11-125.11,125.11A125.13,125.13,0,0,1,92.4,272a86.28,86.28,0,0,0,10.46.6,88.2,88.2,0,0,0,54.62-18.87,44,44,0,0,1-41.07-30.53,43.94,43.94,0,0,0,19.81-.77A44.06,44.06,0,0,1,101,179.29v-.6a44.51,44.51,0,0,0,19.9,5.49,44.17,44.17,0,0,1-13.64-58.74,124.88,124.88,0,0,0,90.64,46,48.31,48.31,0,0,1-1.11-10,44,44,0,0,1,76.06-30.1,87.4,87.4,0,0,0,27.95-10.63A44.21,44.21,0,0,1,281.39,145a89.17,89.17,0,0,0,25.3-7A89.52,89.52,0,0,1,284.74,160.85Z" transform="translate(-28 -33)"/>',_t="Follow SiteWhere on Twitter",Tt=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.noserver=!1,e.error=null,e.username="",e.password="",e.loggingIn=!1,e.settings=null,e.discordSvgContent=gt,e.discordTitle=kt,e.websiteSvgContent=Ot,e.websiteTitle=jt,e.githubSvgContent=Ct,e.githubTitle=xt,e.twitterSvgContent=$t,e.twitterTitle=_t,e.connection=null,e}return Object(j["a"])(a,[{key:"created",value:function(){this.getOrCreateSiteWhereSettings()}},{key:"onRemotesStoreUpdated",value:function(e){console.log("Remotes store updated.",e)}},{key:"onLogin",value:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){var t,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.$v.$touch(),!this.$v.$invalid){e.next=3;break}return e.abrupt("return");case 3:return t=btoa(this.username+":"+this.password),this.$store.commit("authToken",t),this.$store.commit("selectedTenant",null),e.prev=6,this.loggingIn=!0,e.next=10,pt(this.$store);case 10:a=e.sent,n=a.headers["x-sitewhere-jwt"],this.$store.commit("jwt",n),this.onJwtAcquired(n),e.next=21;break;case 16:e.prev=16,e.t0=e["catch"](6),ie(e.t0),this.error=e.t0,"Network Error"===e.t0.message&&(this.noserver=!0);case 21:this.loggingIn=!1;case 22:case"end":return e.stop()}}),e,this,[[6,16]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"onJwtAcquired",value:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(t){var a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,this.loggingIn=!0,a={},e.next=5,ft(this.$store,this.username,a);case 5:n=e.sent,this.$store.commit("user",n.data),this.$router.push("/system"),e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](0),ie(e.t0),this.error=e.t0;case 14:this.loggingIn=!1;case 15:case"end":return e.stop()}}),e,this,[[0,10]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"getOrCreateSiteWhereSettings",value:function(){var e=it.load();this.settings=e,this.$store.commit("settings",e),T.sendStartupEvent(e)}},{key:"onEditRemotes",value:function(){this.$refs.remotes.load(this.remotes),this.$refs.remotes.openDialog()}},{key:"onRemotesUpdated",value:function(e){this.$store.commit("remotes",e),this.$refs.remotes.closeDialog()}},{key:"onConnectionUpdated",value:function(e){console.log("connection updated",e),this.connection=e,this.$store.commit("protocol",e.protocol),this.$store.commit("server",e.host),this.$store.commit("port",e.port)}},{key:"openWebTools",value:function(){console.log("Removed Electron")}},{key:"minWindow",value:function(){console.log("Removed Electron")}},{key:"maxWindow",value:function(){console.log("Removed Electron")}},{key:"closeWindow",value:function(){console.log("Removed Electron")}},{key:"remotes",get:function(){return this.$store.getters.remotes}}]),a}(i["default"]);Object(u["a"])([Object(n["Watch"])("remotes",{immediate:!0})],Tt.prototype,"onRemotesStoreUpdated",null),Tt=Object(u["a"])([Object(n["Component"])({components:{SocialButton:P,RemotesDropdown:F,RemotesDialog:Ye},mixins:[Ke["validationMixin"]],validations:{username:{required:Ne["required"]},password:{required:Ne["required"]}}})],Tt);var Dt=Tt,wt=Dt,St=(a("b2ae"),Object(f["a"])(wt,g,k,!1,null,"356b3082",null)),At=St.exports,Pt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.user?a("v-app",[a("sw-in-app-system-bar",{staticStyle:{"-webkit-app-region":"drag"}}),a("v-navigation-drawer",{staticStyle:{"margin-top":"25px"},attrs:{fixed:"",permanent:!0,app:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[a("v-toolbar",{staticClass:"elevation-1",staticStyle:{height:"47px"},attrs:{color:"#fff",dense:""}},[a("div",{staticClass:"sitewhere-logo"}),a("v-spacer"),a("v-tooltip",{attrs:{bottom:""}},[a("v-btn",{staticClass:"ma-0",attrs:{slot:"activator",icon:""},on:{click:e.onLogOut},slot:"activator"},[a("v-icon",{staticClass:"grey--text text--darken-1"},[e._v("exit_to_app")])],1),a("span",[e._v("Log Out")])],1)],1),a("sw-navigation",{attrs:{sections:e.sections},on:{sectionSelected:e.onSectionClicked}})],1),a("v-content",[a("v-container",{staticClass:"pa-0",attrs:{fluid:"","fill-height":""}},[a("v-layout",[a("v-flex",{attrs:{"fill-height":""}},[a("router-view")],1)],1)],1)],1),a("sw-in-app-footer",[a("copyright")],1),a("notifications")],1):e._e()},Et=[],Lt=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Ut=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{width:"100%","text-align":"center"}},[a("span",{staticStyle:{color:"#aaa","font-size":"12px"}},[e._v("Copyright © 2019 SiteWhere LLC")])])}],It=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return a}(i["default"]);It=Object(u["a"])([Object(n["Component"])({})],It);var qt=It,Rt=qt,Mt=Object(f["a"])(Rt,Lt,Ut,!1,null,null,null),Ft=Mt.exports,Nt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-snackbar",{attrs:{timeout:5e3,success:""},model:{value:e.showMessage,callback:function(t){e.showMessage=t},expression:"showMessage"}},[e._v(" "+e._s(e.displayed)+" "),a("v-btn",{attrs:{dark:"",flat:""},on:{click:function(t){e.showMessage=!1}}},[e._v("Close")])],1)},zt=[],Bt=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.displayed=null,e.showMessage=!1,e}return Object(j["a"])(a,[{key:"onMessageUpdated",value:function(e){e&&(this.displayed=e.message,this.showMessage=!0,this.$store.commit("message",null))}},{key:"lastMessage",get:function(){return this.$store.getters.message}}]),a}(i["default"]);Object(u["a"])([Object(n["Watch"])("lastMessage",{immediate:!0})],Bt.prototype,"onMessageUpdated",null),Bt=Object(u["a"])([Object(n["Component"])({})],Bt);var Vt=Bt,Gt=Vt,Zt=Object(f["a"])(Gt,Nt,zt,!1,null,"910fbc52",null),Wt=Zt.exports,Ht=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.showMessage=!0,e.drawer=!0,e.sections=[{id:"tenants",title:"Manage Tenants",icon:I.Tenant,route:"system/tenants",longTitle:"Manage System Tenants",requireAll:["ADMINISTER_TENANTS"]},{id:"users",title:"Manage Users",icon:I.User,route:"system/users",longTitle:"Manage System Users",requireAll:["ADMINISTER_USERS"]},{id:"global",title:"Global Microservices",icon:I.Global,route:"system/microservices",longTitle:"Manage Global microservices",requireAll:["ADMINISTER_TENANTS"]}],e}return Object(j["a"])(a,[{key:"created",value:function(){this.refreshJwt();var e=this.$store.getters.user;if(!e)return console.log("No user found in store. Logging out!"),void this.onLogOut();this.onSectionClicked(this.$data.sections[0])}},{key:"onSectionClicked",value:function(e){this.$store.commit("currentSection",e),this.$router.push("/"+e.route)}},{key:"onUserAction",value:function(e){"logout"===e.id&&this.onLogOut()}},{key:"onLogOut",value:function(){this.$store.commit("logOut"),this.$router.push("/")}},{key:"refreshJwt",value:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){var t,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,pt(this.$store);case 4:a=e.sent,console.log("Refreshed JWT."),n=a.headers["x-sitewhere-jwt"],this.$store.commit("jwt",n),setTimeout((function(){t.refreshJwt()}),3e5),e.next=16;break;case 11:e.prev=11,e.t0=e["catch"](1),ie(e.t0),console.log("Could not update JWT."),t.onLogOut();case 16:case"end":return e.stop()}}),e,this,[[1,11]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"user",get:function(){return this.$store.getters.user}},{key:"section",get:function(){return this.$store.getters.currentSection}},{key:"fullname",get:function(){var e=this.$store.getters.user;if(e){var t=this.$store.getters.user.firstName,a=this.$store.getters.user.lastName;return a.length>1?t+" "+a:t}return"Not Logged In"}},{key:"loading",get:function(){return this.$store.getters.loading}},{key:"error",get:function(){return this.$store.getters.error}}]),a}(i["default"]);Ht=Object(u["a"])([Object(n["Component"])({components:{Copyright:Ft,Notifications:Wt}})],Ht);var Jt=Ht,Qt=Jt,Yt=(a("9847"),Object(f["a"])(Qt,Pt,Et,!1,null,"0b0c51e4",null)),Kt=Yt.exports,Xt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-list-page",{attrs:{icon:e.icon,title:"Manage Tenants",loadingMessage:"Loading tenant list ...",results:e.results,loaded:e.loaded},on:{pagingUpdated:e.onPagingUpdated}},[a("sw-list-layout",e._l(e.matches,(function(t){return a("v-flex",{key:t.token,attrs:{xs12:""}},[a("tenant-list-entry",{attrs:{tenant:t},on:{click:function(a){return e.onOpenTenant(t)},openTenant:function(a){return e.onOpenTenant(t)},configureTenant:function(a){return e.onConfigureTenant(t)}}})],1)})),1),a("template",{slot:"dialogs"},[a("tenant-create-dialog",{ref:"add",on:{tenantAdded:e.refresh}})],1),a("template",{slot:"actions"},[a("sw-navigation-action-button",{attrs:{icon:"plus",tooltip:"Add Tenant"},on:{action:e.onAddTenant}})],1)],2)},ea=[],ta=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticStyle:{border:"1px solid #ddd"},attrs:{flat:"",hover:""}},[a("v-card-text",{staticClass:"tenant",style:e.tenantPanelStyle(e.tenant),on:{click:function(t){return t.stopPropagation(),e.onOpenTenant(t)}}},[e.tenant.imageUrl?a("div",{staticClass:"tenant-logo",style:e.tenantLogoStyle(e.tenant)}):e._e(),a("div",{staticClass:"tenant-divider"}),a("div",{staticClass:"tenant-name headline ellipsis mt-2"},[e._v(e._s(e.tenant.name)+" ("+e._s(e.tenant.token)+")")]),a("div",{staticClass:"tenant-actions"},[a("v-btn",{staticClass:"blue white--text tenant-configure ma-0",on:{click:function(t){return t.stopPropagation(),e.onConfigureTenant(t)}}},[a("font-awesome-icon",{staticClass:"white--text mr-2",attrs:{icon:"cogs",size:"lg"}}),e._v("Configure ")],1),a("v-btn",{staticClass:"green white--text tenant-open",on:{click:function(t){return t.stopPropagation(),e.onOpenTenant(t)}}},[a("font-awesome-icon",{staticClass:"white--text mr-2",attrs:{icon:"database",size:"lg"}}),e._v("Manage Data ")],1)],1)])],1)},aa=[],na={data:function(){return{}},props:["tenant"],computed:{tenantStarted:function(){return this.tenant.engineState&&"Started"===this.tenant.engineState.lifecycleStatus},tenantStopped:function(){return this.tenant.engineState&&"Stopped"===this.tenant.engineState.lifecycleStatus},tenantError:function(){return this.tenant.engineState&&"LifecycleError"===this.tenant.engineState.lifecycleStatus},tenantHeaderColor:function(){return this.tenantStarted?"#060":this.tenantStopped?"#ddd":this.tenantError?"#d00":void 0}},methods:{tenantPanelStyle:function(e){return{"border-top":"5px solid "+this.tenantHeaderColor}},tenantLogoStyle:function(e){return{background:"url("+e.imageUrl+")","background-size":"contain","background-repeat":"no-repeat","background-position":"50% 50%"}},onOpenTenant:function(){this.$emit("openTenant",this.tenant)},onConfigureTenant:function(){this.$emit("configureTenant",this.tenant)}}},ia=na,ra=(a("7bfc"),Object(f["a"])(ia,ta,aa,!1,null,"32d829b7",null)),oa=ra.exports,sa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tenant-dialog",{ref:"dialog",attrs:{title:"Create Tenant",width:"650",createLabel:"Create",cancelLabel:"Cancel"},on:{payload:e.onCommit}})},la=[],ca=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-base-dialog",{ref:"dialog",attrs:{icon:e.icon,title:e.title,width:e.width,loaded:e.loaded,visible:e.dialogVisible,createLabel:e.createLabel,cancelLabel:e.cancelLabel},on:{createClicked:e.onCreateClicked,cancelClicked:e.onCancelClicked}},[a("template",{slot:"tabs"},[a("v-tab",{key:"details"},[e._v("Details")]),a("v-tab",{key:"branding"},[e._v("Branding")]),a("v-tab",{key:"metadata"},[e._v("Metadata")])],1),a("template",{slot:"tab-items"},[a("v-tab-item",{key:"details"},[a("tenant-detail-fields",{ref:"details"})],1),a("v-tab-item",{key:"branding"},[a("branding-panel",{ref:"branding"})],1),a("v-tab-item",{key:"metadata"},[a("sw-metadata-panel",{ref:"metadata"})],1)],1)],2)},ua=[],da=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("dialog-form",[a("v-flex",{attrs:{xs5:""}},[a("form-text",{staticClass:"mr-3",attrs:{required:"",title:"Unique token that identifies the tenant. Should be alpahanumeric with no spaces.",label:"Tenant token",icon:"info"},model:{value:e.token,callback:function(t){e.token=t},expression:"token"}},[!e.$v.token.required&&e.$v.$dirty?a("span",[e._v("Tenant token is required.")]):e._e(),!e.$v.token.validToken&&e.$v.$dirty?a("span",[e._v("Tenant token is not valid.")]):e._e()])],1),a("v-flex",{attrs:{xs7:""}},[a("form-text",{attrs:{required:"",title:"Token passed from clients to authenticate access to tenant.",label:"Authentication Token",icon:"https"},model:{value:e.authToken,callback:function(t){e.authToken=t},expression:"authToken"}},[e.$v.authToken.$invalid&&e.$v.$dirty?a("span",[e._v("Authentication Token is required.")]):e._e()])],1),a("v-flex",{attrs:{xs12:""}},[a("form-text",{attrs:{required:"",title:"Name shown in user interface for tenant.",label:"Name",icon:"info"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}},[e.$v.name.$invalid&&e.$v.$dirty?a("span",[e._v("Name is required.")]):e._e()])],1),a("v-flex",{attrs:{xs12:""}},[a("form-select",{attrs:{title:"List of system users allowed to access tenant.",label:"Authorized users",items:e.allUsers,multiple:"","item-text":"username","item-value":"username",chips:"",icon:"people"},model:{value:e.authUsers,callback:function(t){e.authUsers=t},expression:"authUsers"}})],1),a("v-flex",{attrs:{xs6:""}},[a("form-select",{staticClass:"mr-3",attrs:{required:"",title:"Template used for initial tenant configuration.",items:e.templatesList,label:"Tenant Template","item-text":"name","item-value":"id",icon:"layers"},model:{value:e.tenantTemplateId,callback:function(t){e.tenantTemplateId=t},expression:"tenantTemplateId"}},[e.$v.tenantTemplateId.$invalid&&e.$v.$dirty?a("span",[e._v("Tenant template is required.")]):e._e()])],1),a("v-flex",{attrs:{xs6:""}},[a("form-select",{attrs:{required:"",title:"Template for dataset initially loaded into tenant.",items:e.datasetsList,label:"Dataset Template","item-text":"name","item-value":"id",icon:"backup"},model:{value:e.datasetTemplateId,callback:function(t){e.datasetTemplateId=t},expression:"datasetTemplateId"}},[e.$v.datasetTemplateId.$invalid&&e.$v.$dirty?a("span",[e._v("Dataset template is required.")]):e._e()])],1)],1)},pa=[];a("3ca3"),a("ddb0");function va(e,t){var a=lt(e),n=B["API"].Tenants.createTenant(a,t);return ut(e,n)}function fa(e,t,a){var n=lt(e),i=B["API"].Tenants.getTenant(n,t,a);return ut(e,i)}function ma(e,t,a){var n=lt(e),i=B["API"].Tenants.updateTenant(n,t,a);return ut(e,i)}function ha(e,t,a){var n=lt(e),i=B["API"].Tenants.listTenants(n,t,a);return ut(e,i)}function ba(e,t){var a=lt(e),n=B["API"].Tenants.deleteTenant(a,t);return ut(e,n)}function ya(e){var t=lt(e),a=B["API"].Tenants.listTenantTemplates(t);return ut(e,a)}function ga(e){var t=lt(e),a=B["API"].Tenants.listDatasetTemplates(t);return ut(e,a)}var ka=Ne["helpers"].regex("validToken",/^[a-zA-Z0-9-_]+$/),Oa=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.token=null,e.name=null,e.authToken=null,e.authUsers=[],e.tenantTemplateId=null,e.datasetTemplateId=null,e.templatesList=[],e.datasetsList=[],e.allUsers=[],e}return Object(j["a"])(a,[{key:"reset",value:function(){this.token=null,this.name=null,this.authToken=null,this.authUsers=[],this.tenantTemplateId=null,this.datasetTemplateId=null,this.$v.$reset(),this.refreshDropdownContent()}},{key:"validate",value:function(){return this.$v.$touch(),!this.$v.$invalid}},{key:"load",value:function(e){this.token=e.token,this.name=e.name,this.authToken=e.authenticationToken,this.authUsers=e.authorizedUserIds,this.tenantTemplateId=e.tenantTemplateId,this.datasetTemplateId=e.datasetTemplateId}},{key:"save",value:function(){return{token:this.token,name:this.name,authenticationToken:this.authToken,authorizedUserIds:this.authUsers,tenantTemplateId:this.tenantTemplateId,datasetTemplateId:this.datasetTemplateId}}},{key:"refreshDropdownContent",value:function(){var e=this,t=ya(this.$store),a=ga(this.$store),n={pageNumber:1,pageSize:0},i={},r=bt(this.$store,n,i);Promise.all([t,a,r]).then((function(t){e.templatesList=t[0].data,e.datasetsList=t[1].data,e.allUsers=t[2].data.results})).catch((function(e){ie(e)}))}}]),a}(n["DialogSection"]);Oa=Object(u["a"])([Object(n["Component"])({components:{DialogForm:_e,FormText:Ee,FormSelect:Fe},validations:{token:{required:Ne["required"],validToken:ka},name:{required:Ne["required"]},authToken:{required:Ne["required"]},authUsers:{required:Ne["required"]},tenantTemplateId:{required:Ne["required"]},datasetTemplateId:{required:Ne["required"]}}})],Oa);var ja=Oa,Ca=ja,xa=Object(f["a"])(Ca,da,pa,!1,null,"e55b132e",null),$a=xa.exports,_a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("dialog-form",[a("v-flex",{attrs:{xs12:""}},[a("form-text",{attrs:{title:"URL that points to image",label:"Image URL",icon:"image"},model:{value:e.imageUrl,callback:function(t){e.imageUrl=t},expression:"imageUrl"}},[!e.$v.imageUrl.url&&e.$v.$dirty?a("span",[e._v("Image URL is not valid.")]):e._e()])],1),a("v-flex",{attrs:{xs6:""}},[a("sw-icon-selector",{model:{value:e.icon,callback:function(t){e.icon=t},expression:"icon"}})],1),a("v-flex",{attrs:{xs6:""}},[a("sw-color-input-field",{attrs:{text:"Border"},model:{value:e.borderColor,callback:function(t){e.borderColor=t},expression:"borderColor"}})],1),a("v-flex",{attrs:{xs6:""}},[a("sw-color-input-field",{attrs:{text:"Background"},model:{value:e.backgroundColor,callback:function(t){e.backgroundColor=t},expression:"backgroundColor"}})],1),a("v-flex",{attrs:{xs6:""}},[a("sw-color-input-field",{attrs:{text:"Foreground"},model:{value:e.foregroundColor,callback:function(t){e.foregroundColor=t},expression:"foregroundColor"}})],1)],1)},Ta=[],Da=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.imageUrl=null,e.icon=null,e.backgroundColor=null,e.foregroundColor=null,e.borderColor=null,e}return Object(j["a"])(a,[{key:"reset",value:function(){this.imageUrl=null,this.icon=null,this.backgroundColor=null,this.foregroundColor=null,this.borderColor=null,this.$v.$reset()}},{key:"validate",value:function(){return this.$v.$touch(),!this.$v.$invalid}},{key:"load",value:function(e){this.imageUrl=e.imageUrl,this.icon=e.icon,this.backgroundColor=e.backgroundColor,this.foregroundColor=e.foregroundColor,this.borderColor=e.borderColor}},{key:"save",value:function(){return{imageUrl:this.imageUrl,icon:this.icon,backgroundColor:this.backgroundColor,foregroundColor:this.foregroundColor,borderColor:this.borderColor}}}]),a}(n["DialogSection"]);Da=Object(u["a"])([Object(n["Component"])({components:{DialogForm:_e,FormText:Ee,FormSelect:Fe},validations:{imageUrl:{url:Ne["url"]}}})],Da);var wa=Da,Sa=wa,Aa=Object(f["a"])(Sa,_a,Ta,!1,null,"2c2399c0",null),Pa=Aa.exports,Ea=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"generatePayload",value:function(){var e={};return Object.assign(e,this.$refs.details.save(),this.$refs.branding.save(),this.$refs.metadata.save()),e}},{key:"reset",value:function(){this.$refs.details&&this.$refs.details.reset(),this.$refs.branding&&this.$refs.branding.reset(),this.$refs.metadata&&this.$refs.metadata.reset(),this.$refs.dialog.setActiveTab(0)}},{key:"load",value:function(e){this.reset(),this.$refs.details&&this.$refs.details.load(e),this.$refs.branding&&this.$refs.branding.load(e),this.$refs.metadata&&this.$refs.metadata.load(e)}},{key:"onCreateClicked",value:function(e){if(this.$refs.details.validate())if(this.$refs.branding.validate()){var t=this.generatePayload();console.log("Before payload emit:",this),this.$emit("payload",t)}else this.$refs.dialog.setActiveTab(1);else this.$refs.dialog.setActiveTab(0)}},{key:"icon",get:function(){return I.Tenant}}]),a}(n["DialogComponent"]);Ea=Object(u["a"])([Object(n["Component"])({components:{TenantDetailFields:$a,BrandingPanel:Pa}})],Ea);var La=Ea,Ua=La,Ia=Object(f["a"])(Ua,ca,ua,!1,null,"4150ebdf",null),qa=Ia.exports,Ra=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"getDialog",value:function(){return this.$refs.dialog}},{key:"onCommit",value:function(e){this.commit(e)}},{key:"save",value:function(e){return va(this.$store,e)}},{key:"afterSave",value:function(e){this.$emit("tenantAdded",e)}}]),a}(n["CreateDialogComponent"]);Ra=Object(u["a"])([Object(n["Component"])({components:{TenantDialog:qa}})],Ra);var Ma=Ra,Fa=Ma,Na=Object(f["a"])(Fa,sa,la,!1,null,"1d1ca703",null),za=Na.exports,Ba=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"buildSearchCriteria",value:function(){var e={};return e}},{key:"buildResponseFormat",value:function(){var e={};return e}},{key:"performSearch",value:function(e,t){return ha(this.$store,e,t)}},{key:"onOpenTenant",value:function(e){this.$store.commit("selectedTenant",e),this.$router.push("/tenants/"+e.token+"/areas")}},{key:"onAddTenant",value:function(){this.$refs.add.open()}},{key:"onConfigureTenant",value:function(e){this.$router.push("/system/tenants/"+e.token)}},{key:"icon",get:function(){return I.Tenant}}]),a}(n["ListComponent"]);Ba=Object(u["a"])([Object(n["Component"])({components:{TenantListEntry:oa,TenantCreateDialog:za}})],Ba);var Va=Ba,Ga=Va,Za=Object(f["a"])(Ga,Xt,ea,!1,null,"0f60e1ae",null),Wa=Za.exports,Ha=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-detail-page",{attrs:{icon:e.icon,title:e.title,loadingMessage:"Loading tenant ...",loaded:e.loaded,record:e.tenant}},[a("template",{slot:"header"},[a("tenant-detail-header",{attrs:{record:e.tenant}})],1),a("template",{slot:"tabs"},[a("v-tab",{key:"microservices"},[e._v("Microservices")])],1),a("template",{slot:"tab-items"},[a("v-tab-item",{key:"microservices"},[a("microservice-list",{attrs:{topology:e.tenantTopology},on:{microserviceClicked:e.onMicroserviceClicked}})],1)],1),a("template",{slot:"actions"},[a("sw-navigation-action-button",{attrs:{icon:"edit",tooltip:"Edit Tenant"},on:{action:e.onEdit}}),a("sw-navigation-action-button",{attrs:{icon:"times",tooltip:"Delete Tenant"},on:{action:e.onDelete}})],1),a("template",{slot:"dialogs"},[a("tenant-update-dialog",{ref:"edit",attrs:{tenantToken:e.token},on:{tenantUpdated:e.onTenantEdited}}),a("tenant-delete-dialog",{ref:"delete",attrs:{tenantToken:e.token},on:{deleted:e.onTenantDeleted}})],1)],2)},Ja=[],Qa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.tenant?a("sw-navigation-header-panel",{attrs:{height:"150px"}},[a("template",{slot:"left"},[a("sw-header-branding-panel",{attrs:{entity:e.tenant}})],1),a("template",{slot:"content"},[a("sw-navigation-header-fields",{staticClass:"mt-3"},[a("sw-header-field",{attrs:{label:"Token"}},[a("clipboard-copy-field",{attrs:{field:e.tenant.token,message:"Token copied to clipboard"}})],1),a("sw-header-field",{attrs:{label:"Name"}},[a("span",[e._v(e._s(e.tenant.name))])]),a("sw-header-field",{attrs:{label:"Created"}},[a("span",[e._v(e._s(e.formatDate(e.tenant.createdDate)))])]),a("sw-header-field",{attrs:{label:"Updated"}},[a("span",[e._v(e._s(e.formatDate(e.tenant.updatedDate)))])])],1)],1),a("template",{slot:"right"},[a("authenticated-image",{attrs:{url:e.qrCodeUrl}})],1)],2):e._e()},Ya=[],Ka=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",[e._v(" "+e._s(e.field)+" "),a("v-tooltip",{attrs:{right:""}},[a("span",{directives:[{name:"clipboard",rawName:"v-clipboard",value:e.field,expression:"field"}],key:e.field,attrs:{slot:"activator"},on:{success:e.onFieldCopied,error:e.onFieldCopyFailed},slot:"activator"},[a("font-awesome-icon",{staticClass:"grey--text text--lighten-1 mt-1",staticStyle:{"vertical-align":"top"},attrs:{icon:"copy",size:"sm"}})],1),a("span",[e._v("Copy to Clipboard")])])],1)},Xa=[],en=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"onFieldCopied",value:function(){re(this,this.message)}},{key:"onFieldCopyFailed",value:function(){oe(this,"Unable to copy content to clipboard.")}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],en.prototype,"field",void 0),Object(u["a"])([Object(n["Prop"])()],en.prototype,"message",void 0),en=Object(u["a"])([Object(n["Component"])({})],en);var tn=en,an=tn,nn=Object(f["a"])(an,Ka,Xa,!1,null,null,null),rn=nn.exports,on=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.hidden?e._e():a("img")},sn=[],ln=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.hidden=!1,e}return Object(j["a"])(a,[{key:"created",value:function(){var e=this;dt(this.$store,this.url).then((function(t){var a=new FileReader;a.readAsDataURL(t.data),a.onload=function(){var t=a.result,n=e.$el;n.setAttribute("src",t),e.hidden=!1}})).catch((function(t){e.hidden=!0}))}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],ln.prototype,"url",void 0),ln=Object(u["a"])([Object(n["Component"])({})],ln);var cn=ln,un=cn,dn=Object(f["a"])(un,on,sn,!1,null,"54f2254e",null),pn=dn.exports,vn=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"tenant",get:function(){return this.record}},{key:"token",get:function(){return this.tenant?this.tenant.token:""}},{key:"qrCodeUrl",get:function(){return this.tenant?"tenants/"+this.token+"/label/qrcode":""}}]),a}(n["HeaderComponent"]);vn=Object(u["a"])([Object(n["Component"])({components:{ClipboardCopyField:rn,AuthenticatedImage:pn}})],vn);var fn=vn,mn=fn,hn=Object(f["a"])(mn,Qa,Ya,!1,null,null,null),bn=hn.exports,yn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("tenant-dialog",{ref:"dialog",attrs:{title:"Edit Tenant",width:"650",loaded:e.loaded,createLabel:"Update",cancelLabel:"Cancel"},on:{payload:e.onSave}})},gn=[],kn=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"getDialog",value:function(){return this.$refs.dialog}},{key:"prepareLoad",value:function(e){var t={};return fa(this.$store,e,t)}},{key:"prepareSave",value:function(e,t){return ma(this.$store,e.token,t)}},{key:"onSave",value:function(e){this.save(e)}},{key:"afterSave",value:function(e){this.$emit("tenantUpdated",e)}}]),a}(n["EditDialogComponent"]);kn=Object(u["a"])([Object(n["Component"])({components:{TenantDialog:qa}})],kn);var On=kn,jn=On,Cn=Object(f["a"])(jn,yn,gn,!1,null,"0da7023d",null),xn=Cn.exports,$n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-delete-dialog",{ref:"dialog",attrs:{title:"Delete Tenant",width:"400",visible:e.visible},on:{delete:e.onDelete,cancel:e.onCancel}},[a("v-card-text",[e._v(e._s(e.message))])],1)},_n=[],Tn=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.message=null,e}return Object(j["a"])(a,[{key:"prepareLoad",value:function(e){var t={};return fa(this.$store,e,t)}},{key:"afterLoad",value:function(e){this.message="Are you sure you want to delete '".concat(e.name,"'?")}},{key:"prepareDelete",value:function(e){return ba(this.$store,e.token)}},{key:"onDelete",value:function(e){this.delete()}},{key:"onCancel",value:function(e){this.cancel()}}]),a}(n["DeleteDialogComponent"]);Tn=Object(u["a"])([Object(n["Component"])({})],Tn);var Dn=Tn,wn=Dn,Sn=Object(f["a"])(wn,$n,_n,!1,null,"9e83034e",null),An=Sn.exports,Pn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.topology?a("v-list",{attrs:{"two-line":"",dense:""}},[e._l(e.topology,(function(t){return[a("v-list-tile",{key:t.identifier,on:{click:function(a){return e.onMicroserviceClicked(t)}}},[a("v-list-tile-avatar",[a("font-awesome-icon",{staticClass:"mt-2 ml-2 grey--text text--darken-2",attrs:{icon:t.icon,size:"2x"}})],1),a("v-list-tile-content",[a("v-list-tile-title",{staticClass:"subheading",domProps:{textContent:e._s(t.name)}}),a("v-list-tile-sub-title",{domProps:{innerHTML:e._s(t.description)}})],1)],1),a("v-divider",{key:"div-"+t.identifier})]}))],2):e._e()},En=[],Ln={data:function(){return{}},props:["topology"],methods:{onMicroserviceClicked:function(e){this.$emit("microserviceClicked",e)}}},Un=Ln,In=Object(f["a"])(Un,Pn,En,!1,null,null,null),qn=In.exports;function Rn(e){var t=lt(e),a=B["API"].Instance.getGlobalTopology(t);return ut(e,a)}function Mn(e){var t=lt(e),a=B["API"].Instance.getTenantTopology(t);return ut(e,a)}function Fn(e,t,a){var n=lt(e),i=B["API"].Instance.getTenantRuntimeState(n,t,a);return ut(e,i)}function Nn(e,t){var a=lt(e),n=B["API"].Instance.getConfigurationModel(a,t);return ut(e,n)}function zn(e,t){var a=lt(e),n=B["API"].Instance.getGlobalConfiguration(a,t);return ut(e,n)}function Bn(e,t,a){var n=lt(e),i=B["API"].Instance.updateGlobalConfiguration(n,t,a);return ut(e,i)}function Vn(e,t,a){var n=lt(e),i=B["API"].Instance.getTenantConfiguration(n,t,a);return ut(e,i)}function Gn(e,t,a,n){var i=lt(e),r=B["API"].Instance.updateTenantConfiguration(i,t,a,n);return ut(e,r)}var Zn=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.tenantTopology=[],e}return Object(j["a"])(a,[{key:"loadRecord",value:function(e){this.refreshTopology();var t={};return fa(this.$store,e,t)}},{key:"afterRecordLoaded",value:function(e){var t={id:"tenants",title:"Manage Tenant",icon:"layer-group",route:"/tenants/"+e.token,longTitle:"Manage Tenant: "+e.token};this.$store.commit("currentSection",t)}},{key:"onMicroserviceClicked",value:function(e){this.tenant&&this.$router.push("/system/tenants/"+this.tenant.token+"/"+e.identifier)}},{key:"refreshTopology",value:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Mn(this.$store);case 3:t=e.sent,this.tenantTopology=t.data,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),ie(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"onEdit",value:function(){this.token&&this.$refs.edit.open(this.token)}},{key:"onTenantEdited",value:function(){this.refresh()}},{key:"onDelete",value:function(){this.token&&this.$refs.delete.open(this.token)}},{key:"onTenantDeleted",value:function(){this.$router.push("/system/tenants")}},{key:"tenant",get:function(){return this.record}},{key:"icon",get:function(){return I.Tenant}},{key:"title",get:function(){return this.tenant?"Manage tenant ".concat(this.tenant.token):"Manage tenant"}}]),a}(n["DetailComponent"]);Zn=Object(u["a"])([Object(n["Component"])({components:{TenantDetailHeader:bn,TenantUpdateDialog:xn,TenantDeleteDialog:An,MicroserviceList:qn}})],Zn);var Wn=Zn,Hn=Wn,Jn=Object(f["a"])(Hn,Ha,Ja,!1,null,null,null),Qn=Jn.exports,Yn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-detail-page",{attrs:{icon:e.icon,title:e.title,loadingMessage:"Loading microservice configuration ...",loaded:e.loaded,record:e.tenant}},[a("template",{slot:"header"},[a("unsaved-updates-warning",{staticClass:"mb-3",attrs:{unsaved:e.dirty},on:{save:e.onSaveConfiguration,revert:e.onRevertConfiguration}})],1),a("template",{slot:"tabs"},[a("v-tab",{key:"configuration"},[e._v("Configuration")]),a("v-tab",{key:"scripts"},[e._v("Scripts")]),a("v-tab",{key:"runtime"},[e._v("Runtime")])],1),a("template",{slot:"tab-items"},[a("microservice-editor",{attrs:{tabkey:"configuration",configuration:e.configuration,configurationModel:e.configurationModel,identifier:e.identifier,tenantToken:e.tenantToken},on:{dirty:e.onConfigurationUpdated}}),a("scripts-manager",{attrs:{tabkey:"scripts",identifier:e.identifier}}),a("v-tab-item",{key:"runtime"},[a("tenant-runtimes-block",{staticClass:"ma-1",attrs:{identifier:e.identifier,tenantToken:e.tenantToken}})],1)],1),a("template",{slot:"actions"},[a("sw-navigation-action-button",{attrs:{icon:"arrow-left",tooltip:"Back To Tenant Microservices"},on:{action:e.onBackToList}})],1)],2)},Kn=[],Xn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{attrs:{flat:""}},[a("v-card-text",e._l(e.tenantRuntimes,(function(e){return a("tenant-runtime-entry",{key:e.microservice.hostname,attrs:{tenantState:e}})})),1)],1)},ei=[],ti=(a("d81d"),a("b64b"),a("cc7d")),ai=a.n(ti),ni=a("c6e1"),ii=a.n(ni),ri=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-chip",{attrs:{color:e.backgroundColor,"text-color":e.foregroundColor},on:{click:e.onChipClicked}},[a("component-status-icon",{attrs:{status:e.tenantState.componentState.status}}),e._v(" "+e._s(e.tenantState.microservice.hostname)+" ("+e._s(e.tenantState.componentState.status)+") ")],1),a("tenant-engine-components-dialog",{attrs:{tenantState:e.tenantState,dialogVisible:e.dialogVisible},on:{closeClicked:e.onCloseClicked}})],1)},oi=[],si=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-base-dialog",{ref:"dialog",attrs:{icon:e.icon,title:"Tenant Engine Runtime State",width:"600",loaded:e.loaded,visible:e.dialogVisible,hideCreate:!0,cancelLabel:"Close"},on:{cancelClicked:e.onCancelClicked}},[a("template",{slot:"tabs"},[a("v-tab",{key:"components"},[e._v("Components")])],1),a("template",{slot:"tab-items"},[a("v-tab-item",{key:"components"},[a("v-card",{attrs:{flat:""}},[a("v-card-text",[a("v-treeview",{ref:"tree",attrs:{selectable:"",items:e.treeData,"item-children":"childComponentStates","item-key":"componentId","item-text":"componentName"},model:{value:e.items,callback:function(t){e.items=t},expression:"items"}})],1)],1)],1)],1)],2)},li=[],ci=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-avatar",{class:e.statusClass,attrs:{size:"23px"}},[a("font-awesome-icon",{class:e.statusIconClass,attrs:{icon:e.statusIcon,size:"lg"}})],1)},ui=[],di=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"statusClass",get:function(){var e=this.status;return"Initializing"===e?["green","darken-2"]:"InitializationError"===e?["red","darken-3"]:"Starting"===e||"Started"===e?["green","darken-2"]:"StartedWithErrors"===e?["red","darken-3"]:"Stopping"===e||"Stopped"===e?["grey","darken-3"]:"StoppedWithErrors"===e?["red","darken-3"]:"Terminating"===e||"Terminated"===e?["grey","darken-3"]:"LifecycleError"===e?["red","darken-3"]:["grey","darken-3"]}},{key:"statusIcon",get:function(){var e=this.status;return"Initializing"===e?"cog":"InitializationError"===e?"exclamation-circle":"Starting"===e||"Started"===e?"cog":"StartedWithErrors"===e?"exclamation-circle":"Stopping"===e?"cog":"Stopped"===e?"stop":"StoppedWithErrors"===e?"fa-exclamation-circle":"Terminating"===e||"Terminated"===e?"times":"LifecycleError"===e?"bolt":"question"}},{key:"statusIconClass",get:function(){var e=this.status;return"Initializing"===e?["fa-spin","green--text"]:"InitializationError"===e?["red--text","text--lighten-4"]:"Starting"===e?["fa-spin","green--text"]:"Started"===e?["green--text","text--lighten-3"]:"StartedWithErrors"===e?["yellow--text","text--lighten-1"]:"Stopping"===e||"Stopped"===e?["grey--text","text--lighten-4"]:"StoppedWithErrors"===e?["red--text","text--lighten-4"]:"Terminating"===e||"Terminated"===e?["grey--text","text--lighten-4"]:"LifecycleError"===e?["red--text","text--lighten-4"]:["grey--text","text--lighten-4"]}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],di.prototype,"status",void 0),di=Object(u["a"])([Object(n["Component"])({})],di);var pi=di,vi=pi,fi=Object(f["a"])(vi,ci,ui,!1,null,"21e1d1b4",null),mi=fi.exports,hi=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.items=[],e.selected=null,e}return Object(j["a"])(a,[{key:"onCancelClicked",value:function(){this.$emit("closeClicked")}},{key:"handleNodeClick",value:function(e){this.selected=e}},{key:"icon",get:function(){return I.Tenant}},{key:"treeData",get:function(){return this.tenantState.childComponentStates}},{key:"errorItemSelected",get:function(){var e=this.$data.selected;return!(!e||"LifecycleError"!==e.status)}}]),a}(n["DialogComponent"]);Object(u["a"])([Object(n["Prop"])()],hi.prototype,"tenantState",void 0),hi=Object(u["a"])([Object(n["Component"])({components:{ComponentStatusIcon:mi}})],hi);var bi=hi,yi=bi,gi=(a("effc"),Object(f["a"])(yi,si,li,!1,null,"4ae6d4f4",null)),ki=gi.exports,Oi={data:function(){return{dialogVisible:!1}},components:{TenantEngineComponentsDialog:ki,ComponentStatusIcon:mi},props:["tenantState"],computed:{backgroundColor:function(){var e=this.tenantState.componentState.status;return"Initializing"===e?"green":"InitializationError"===e?"red":"Starting"===e||"Started"===e?"green":"StartedWithErrors"===e?"red":"Stopping"===e||"Stopped"===e?"grey":"StoppedWithErrors"===e?"red":"Terminating"===e||"Terminated"===e?"grey":"LifecycleError"===e?"red":"grey"},foregroundColor:function(){var e=this.tenantState.componentState.status;return"Initializing"===e||"InitializationError"===e||"Starting"===e||"Started"===e||"StartedWithErrors"===e?"white":"Stopping"===e||"Stopped"===e?"black":"StoppedWithErrors"===e?"white":"Terminating"===e||"Terminated"===e?"black":"LifecycleError"===e?"white":"black"},identClass:function(){var e=this.tenantState.componentState.status;return"Initializing"===e?["green--text","text--darken-3","pr-2"]:"InitializationError"===e?["red--text","text--darken-3","pr-2"]:"Starting"===e||"Started"===e?["green--text","text--darken-3","pr-2"]:"StartedWithErrors"===e?["red--text","text--darken-3","pr-2"]:"Stopping"===e||"Stopped"===e?["grey--text","text--darken-3","pr-2"]:"StoppedWithErrors"===e?["red--text","text--darken-3","pr-2"]:"Terminating"===e||"Terminated"===e?["grey--text","text--darken-3","pr-2"]:"LifecycleError"===e?["red--text","text--darken-3","pr-2"]:["grey--text","text--darken-3","pr-2"]}},methods:{onChipClicked:function(){this.$data.dialogVisible=!0},onCloseClicked:function(){this.$data.dialogVisible=!1}}},ji=Oi,Ci=Object(f["a"])(ji,ri,oi,!1,null,"5621c63b",null),xi=Ci.exports,$i={data:function(){return{tenantRuntimesByHostname:{},tenantRuntimes:[]}},components:{TenantRuntimeEntry:xi},props:["identifier","tenantToken"],computed:{},created:function(){this.refresh(),this.connectWebSocket()},methods:{refresh:function(){var e=this;Fn(this.$store,this.identifier,this.tenantToken).then((function(t){var a=t.data;a.forEach((function(t){e.addOrUpdateTenantRuntime(t)}))}))},addOrUpdateTenantRuntime:function(e){var t=this.$data.tenantRuntimesByHostname;t[e.microservice.hostname]=e;var a=Object.keys(t),n=a.map((function(e){return t[e]}));n.sort(this.compareTenantRuntimes),this.$data.tenantRuntimes=n},compareTenantRuntimes:function(e,t){return e.microservice.hostname>t.microservice.hostname?1:-1},connectWebSocket:function(){var e=this;this.socket=new ai.a(st(this.$store)),this.stompClient=ii.a.over(this.socket),this.stompClient.connect({},(function(t){e.stompClient.subscribe("/topic/topology/microservices/"+e.identifier+"/**",(function(t){e.addOrUpdateTenantRuntime(JSON.parse(t.body))}))}),(function(e){console.log(e)}))},disconnectWebSocket:function(){this.stompClient&&this.stompClient.disconnect()}}},_i=$i,Ti=Object(f["a"])(_i,Xn,ei,!1,null,"66cf9c68",null),Di=Ti.exports,wi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-content-tab",{attrs:{tabkey:e.tabkey,loaded:e.loaded,loadingMessage:"Loading..."}},[a("template",{slot:"header"},[a("microservice-banner",{attrs:{context:e.context,contextStack:e.contextStack},on:{popContext:e.onPopContext,popToContext:e.onPopToContext,configureCurrent:e.onOpenUpdateDialog}}),a("v-divider")],1),a("v-card",{attrs:{flat:""}},[e.groups.length>0?a("v-tabs",{model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[e._l(e.groups,(function(t){return a("v-tab",{key:t.name},[e._v(e._s(t.name))])})),e._t("tab-items"),e._l(e.groups,(function(t){return a("v-tab-item",{key:t.name},[a("attribute-group-panel",{attrs:{attributeGroup:t,readOnly:!0,identifier:e.identifier,tenantToken:e.tenantToken}})],1)}))],2):e._e()],1),a("component-content",{attrs:{content:e.content},on:{addComponent:e.onAddComponent,pushContext:e.onPushChildContext,deleteComponent:e.onDeleteComponent}}),a("template",{slot:"dialogs"},[a("attributes-create-dialog",{ref:"create",attrs:{context:e.editingContext,groups:e.editingGroups,identifier:e.identifier,tenantToken:e.tenantToken},on:{attributesSaved:e.onCommitAddedComponent}}),a("attributes-update-dialog",{ref:"update",attrs:{context:e.editingContext,groups:e.editingGroups,identifier:e.identifier,tenantToken:e.tenantToken},on:{attributesSaved:e.onAttributesUpdated}})],1)],2)},Si=[],Ai=(a("a4d3"),a("e01a"),function(){function e(t,a){Object(s["a"])(this,e),this.contextStack=[],this.model=t,this.configuration=a,this.navigateToRoot()}return Object(j["a"])(e,[{key:"getContextStack",value:function(){return this.contextStack}},{key:"navigateToRoot",value:function(){this.contextStack=[];var e=this.model.rootRoleId,t=this.model.elementsByRole[e][0],a=this.findConfigNodeByName(this.configuration,t.localName);if(a){var n={configuration:a,model:t};this.pushContext(n)}}},{key:"pushChildContext",value:function(e){if(e&&e.id){var t=this.getRelativeContextFor(e.id,e.localName);t&&this.pushContext(t)}}},{key:"pushContext",value:function(e){this.contextStack.push(e)}},{key:"popContext",value:function(){var e=this.contextStack;if(e.length>1){var t=e[e.length-2],a=t.configuration;this.popToContext(a.name)}}},{key:"popToContext",value:function(e){var t=this.contextStack,a=this.getLastContext();if(a){var n=a.configuration;if(n.name!==e&&t.length>1)return t.pop(),this.popToContext(e)}}},{key:"getLastContext",value:function(){var e=this.contextStack;return e.length>0?e[e.length-1]:null}},{key:"getRelativeContext",value:function(e){var t=this.getLastContext();if(t){var a=this.findConfigNodeByName(t.configuration,e),n=this.findModelNodeByName(t.model,e);if(a&&n){var i={configuration:a,model:n};return i}}return null}},{key:"getRelativeContextFor",value:function(e,t){var a=this.getLastContext();if(a){var n=this.findConfigNodeById(a.configuration,e),i=this.findModelNodeByName(a.model,t);if(n&&i){var r={configuration:n,model:i};return r}}return null}},{key:"findConfigNodeByName",value:function(e,t){if(e.name===t)return e;var a;if(e.children)for(var n=0;n<e.children.length;n++)if(a=this.findConfigNodeByName(e.children[n],t),a)return a;return null}},{key:"findConfigNodeById",value:function(e,t){if(e.id===t)return e;var a;if(e.children)for(var n=0;n<e.children.length;n++)if(a=this.findConfigNodeById(e.children[n],t),a)return a;return null}},{key:"findModelNodeByName",value:function(e,t){if(e.localName===t)return e;for(var a=this.model.rolesById[e.role],n=this.getSpecializedRoleChildren(a,e),i=0;i<n.length;i++){var r=this.findModelChildrenInRole(n[i]);if(r)for(var o=0;o<r.length;o++)if(t===r[o].localName)return r[o]}return null}},{key:"generateUniqueId",value:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=crypto.getRandomValues(new Uint8Array(1))[0]%16|0,a="x"===e?t:3&t|8;return a.toString(16)}))}},{key:"fixChildOrder",value:function(e,t){var a=this.getChildContextsByRole(e,t),n=this.model.rolesById[e.role],i=this.getSpecializedRoleChildren(n,e),r=[];if(i)for(var o=0;o<i.length;o++){var s=a.configured[i[o]];if(s)for(var l=0;l<s.length;l++)r.push(s[l].configuration)}t.children=r}},{key:"openSpecificChildOfCurrentContext",value:function(e,t){var a=this.getLastContext();if(a){var n=a.model,i=a.configuration,r=this.findModelNodeByName(n,e),o=this.findConfigNodeById(i,t);if(r&&o){var s={configuration:o,model:r};this.pushContext(s)}}}},{key:"findModelChildrenInRole",value:function(e){var t=this.model.rolesById[e],a=[];if(a.push.apply(a,this.model.elementsByRole[e]),t.subtypeRoles)for(var n=0;n<t.subtypeRoles.length;n++){var i=t.subtypeRoles[n];a.push.apply(a,this.model.elementsByRole[i])}return a.sort((function(e,t){return e.name<t.name?-1:e.name>t.name?1:0})),a}},{key:"getChildContextsByRole",value:function(e,t){for(var a=this.model.rolesById[e.role],n={},i=[],r=this.getSpecializedRoleChildren(a,e),o=0;o<r.length;o++){var s=r[o],l=this.model.rolesById[s],c=[];c.push(s),l.subtypeRoles&&c.push.apply(c,l.subtypeRoles);var u=[];if(n[s]=u,t&&t.children)for(var d=0;d<t.children.length;d++){var p=t.children[d];if(-1===i.indexOf(p.name)){var v=this.findModelNodeByName(e,p.name);if(v){if(-1!==c.indexOf(v.role)){var f={model:v,configuration:p};u.push(f)}}else i.push(p.name)}}}return{configured:n,unknown:i}}},{key:"getSpecializedRoleChildren",value:function(e,t){var a=[];if(e.childRoles)for(var n=e.childRoles,i=0;i<n.length;i++){var r=n[i];if(t.specializes){var o=t.specializes[r];o?a.push(o):a.push(r)}else a.push(r)}return a}},{key:"getAttributeGroupsForContext",value:function(e){var t=this,a=e.configuration,n=e.model,i=this.hashConfigNodeAttributesByName(a),r=[],o=[],s=null;return n.attributes&&n.attributes.forEach((function(e){s&&s.id===e.group||(o=[],s={uid:t.generateUniqueId(),id:e.group,attributes:o},e.group&&(s.name=n.attributeGroups[e.group]),r.push(s));var a=i[e.localName],l=a?a.value:void 0,c={localName:e.localName,name:e.name,type:e.type,icon:e.icon,description:e.description,choices:e.choices,value:l,default:e.defaultValue,required:e.required};o.push(c)})),r}},{key:"hashConfigNodeAttributesByName",value:function(e){var t={};return e&&e.attributes&&e.attributes.forEach((function(e){t[e.name]=e})),t}},{key:"getContentForContext",value:function(e){var t=this,a=e.configuration,n=e.model,i={},r=this.getChildContextsByRole(n,a),o=this.model.rolesById[n.role];if(!o)return i;var s=[],l=this.getSpecializedRoleChildren(o,n);return l.forEach((function(e){var a=t.model.rolesById[e],n=r.configured[e],i=t.findModelChildrenInRole(e);if(0===n.length){var o=t.buildPlaceholder(a);o.options=i,o.hasContent=!1,s.push(o)}else if(n.forEach((function(e){var r=e.model,o=e.configuration,l=t.buildConfiguredChildElement(r,o,a,n);l.options=i,l.hasContent=!0,s.push(l)})),a.multiple){var l=t.buildPlaceholder(a);l.options=i,l.hasContent=!1,s.push(l)}})),i.elements=s,i.unknown=r.unknown,i}},{key:"buildPlaceholder",value:function(e){var t={id:e.name,name:e.name,multiple:e.multiple,optional:e.optional,permanent:e.permanent,reorderable:e.reorderable};return t}},{key:"buildConfiguredChildElement",value:function(e,t,a,n){var i={id:t.id,name:e.name,localName:e.localName,icon:e.icon,multiple:a.multiple,optional:a.optional,permanent:a.permanent,reorderable:a.reorderable,deprecated:e.deprecated};return e.indexAttribute&&(i.indexAttribute=e.indexAttribute,i.resolvedIndexAttribute=this.resolveIndexAttribute(e,t),0===n.length&&(a.optional?i.missingOptional=!0:i.missingRequired=!0)),i}},{key:"resolveIndexAttribute",value:function(e,t){if(e.indexAttribute&&t.attributes)for(var a=0;a<t.attributes.length;a++){var n=t.attributes[a].name;if(e.indexAttribute===n)return t.attributes[a]}}}]),e}()),Pi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.context?a("v-card",{attrs:{flat:""}},[a("condensed-toolbar",{attrs:{title:e.context.model.name}},[a("template",{slot:"icon"},[a("font-awesome-icon",{attrs:{icon:e.context.model.icon,size:"lg"}})],1),a("v-tooltip",{attrs:{left:""}},[e.contextStack.length>1?a("v-icon",{staticClass:"mr-2",attrs:{slot:"activator",small:""},on:{click:e.onPopContext},slot:"activator"},[e._v("arrow_upward")]):e._e(),a("span",[e._v("Up One Level")])],1),a("v-tooltip",{attrs:{left:""}},[e.context.model.attributes?a("v-icon",{attrs:{slot:"activator",small:""},on:{click:e.onConfigureCurrent},slot:"activator"},[e._v("settings")]):e._e(),a("span",[e._v("Configure")])],1)],2),a("v-card",{attrs:{flat:"",color:"grey lighten-3"}},[a("v-breadcrumbs",{staticClass:"pb-0 mb-0 pt-0 mt-0",attrs:{divider:"/"}},e._l(e.contextStack,(function(t){return a("v-breadcrumbs-item",{key:t.model.localName},[a("v-btn",{staticClass:"pa-0 ma-0",staticStyle:{"font-size":"8pt"},attrs:{small:"",flat:""},on:{click:function(a){return e.onPopToContext(t)}}},[e._v(e._s(t.model.name))])],1)})),1)],1),a("v-card-text",[a("div",{staticClass:"subheading",domProps:{innerHTML:e._s(e.context.model.description)}}),e._t("default")],2)],1):e._e()],1)},Ei=[],Li=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-toolbar",{staticClass:"tb",attrs:{flat:"",dark:"",dense:"",card:"",color:"primary",height:"38"}},[e._t("icon"),a("v-toolbar-title",{staticClass:"white--text body-2 ml-2"},[e._v(e._s(e.title))]),e._t("left"),a("v-spacer"),e._t("default")],2)},Ui=[],Ii=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],Ii.prototype,"title",void 0),Ii=Object(u["a"])([Object(n["Component"])({})],Ii);var qi=Ii,Ri=qi,Mi=(a("3d32"),Object(f["a"])(Ri,Li,Ui,!1,null,"e67b3c48",null)),Fi=Mi.exports,Ni=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"onPopContext",value:function(){this.$emit("popContext")}},{key:"onPopToContext",value:function(e){this.$emit("popToContext",e)}},{key:"onConfigureCurrent",value:function(){this.$emit("configureCurrent")}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],Ni.prototype,"context",void 0),Object(u["a"])([Object(n["Prop"])()],Ni.prototype,"contextStack",void 0),Ni=Object(u["a"])([Object(n["Component"])({components:{CondensedToolbar:Fi}})],Ni);var zi=Ni,Bi=zi,Vi=Object(f["a"])(Bi,Pi,Ei,!1,null,null,null),Gi=Vi.exports,Zi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.content?a("v-card",{attrs:{flat:""}},[e._l(e.content.elements,(function(t){return a("v-card-text",{key:t.id,staticClass:"pa-0"},[t.hasContent?a("v-toolbar",{staticClass:"grey lighten-4",attrs:{flat:"",light:""}},[a("font-awesome-icon",{staticClass:"grey--text text--darken-2",attrs:{icon:t.icon,size:"lg"}}),a("v-toolbar-title",{staticClass:"black--text"},[e._v(e._s(e.elementTitle(t)))]),a("v-spacer"),a("v-tooltip",{attrs:{left:""}},[a("v-icon",{staticClass:"ref--text text--darken-2 ml-2",attrs:{slot:"activator"},on:{click:function(a){return e.onConfirmDelete(t)}},slot:"activator"},[e._v("cancel")]),a("span",[e._v("Delete Element")])],1),a("v-tooltip",{attrs:{left:""}},[a("v-icon",{staticClass:"green--text text--darken-2 ml-2",attrs:{slot:"activator",large:""},on:{click:function(a){return e.onPushContext(t)}},slot:"activator"},[e._v("arrow_forward")]),a("span",[e._v("Open Element")])],1)],1):a("element-placeholder",{attrs:{contextElement:t},on:{addComponent:e.onAddComponent}})],1)})),a("element-delete-dialog",{ref:"delete",attrs:{content:e.content},on:{deleted:e.onDeleteComponent}})],2):e._e()},Wi=[],Hi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.contextElement.optional?a("v-toolbar",{staticClass:"grey lighten-5 pa-1",attrs:{flat:""}},[a("font-awesome-icon",{staticClass:"grey--text text--darken-2",attrs:{icon:"plus",size:"lg"}}),a("v-toolbar-title",{staticClass:"black--text"},[e._v(e._s(e.contextElement.name))]),a("v-spacer"),a("v-menu",{attrs:{"offset-y":"",left:""}},[a("v-btn",{staticClass:"grey",attrs:{slot:"activator",dark:""},slot:"activator"},[e._v("Add Component")]),a("v-list",{attrs:{dense:""}},e._l(e.contextElement.options,(function(t){return a("v-list-tile",{key:t.name,on:{click:function(a){return e.onAddComponent(t)}}},[a("v-list-tile-title",{staticClass:"subheading"},[a("font-awesome-icon",{staticClass:"mr-1 grey--text text--darken-2",attrs:{icon:t.icon,size:"lg"}}),e._v(" "+e._s(t.name)+" ")],1)],1)})),1)],1)],1):a("v-toolbar",{staticClass:"grey lighten-5",attrs:{flat:""}},[a("v-icon",{staticClass:"fa-lg red--text text--darken-3",attrs:{light:""}},[e._v("fa-warning")]),a("v-toolbar-title",{staticClass:"black--text"},[e._v(e._s(e.contextElement.name))]),a("v-spacer"),a("v-menu",{attrs:{"offset-y":"",left:""}},[a("v-btn",{staticClass:"red darken-3 mr-0",attrs:{slot:"activator",dark:""},slot:"activator"},[e._v("Add Required Component")]),a("v-list",{attrs:{dense:""}},e._l(e.contextElement.options,(function(t){return a("v-list-tile",{key:t.name,on:{click:function(a){return e.onAddComponent(t)}}},[a("v-list-tile-title",{staticClass:"subheading"},[a("font-awesome-icon",{staticClass:"mr-1 grey--text text--darken-2",attrs:{icon:t.icon,size:"lg"}}),e._v(" "+e._s(t.name)+" ")],1)],1)})),1)],1)],1)},Ji=[],Qi=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"onAddComponent",value:function(e){this.$emit("addComponent",e)}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],Qi.prototype,"contextElement",void 0),Qi=Object(u["a"])([Object(n["Component"])({})],Qi);var Yi=Qi,Ki=Yi,Xi=Object(f["a"])(Ki,Hi,Ji,!1,null,null,null),er=Xi.exports,tr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.record?a("sw-delete-dialog",{ref:"dialog",attrs:{title:"Delete Configuration Element",width:"400",visible:e.visible},on:{delete:e.onDelete,cancel:e.onCancel}},[e.record.optional?e._e():a("v-card-text",{staticClass:"pb-0 mb-0"},[a("v-icon",{staticClass:"red--text text--darken-3 mr-1 mb-1"},[e._v("warning")]),a("span",{staticClass:"title text--darken-5"},[e._v("Deleting Required Element!")])],1),a("v-card-text",[e._v(e._s(e.message))])],1):e._e()},ar=[],nr=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"prepareLoad",value:function(e){var t=this;if(this.content.elements&&this.content.elements.forEach((function(a){e==a.id&&(t.record=a)})),this.record)return this.record;throw new Error("Element not found.")}},{key:"afterLoad",value:function(e){}},{key:"prepareDelete",value:function(e){if(null!=this.record)return this.record;throw new Error("Record was null.")}},{key:"onDelete",value:function(e){this.delete()}},{key:"onCancel",value:function(e){this.cancel()}},{key:"message",get:function(){return this.record?this.record.optional?"Are you sure you want to delete '"+this.record.name+"'?":"Are you sure you want to delete '"+this.record.name+"'? It is required by the parent component.":""}}]),a}(n["DeleteDialogComponent"]);Object(u["a"])([Object(n["Prop"])()],nr.prototype,"content",void 0),nr=Object(u["a"])([Object(n["Component"])({})],nr);var ir=nr,rr=ir,or=Object(f["a"])(rr,tr,ar,!1,null,null,null),sr=or.exports,lr=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"elementTitle",value:function(e){var t=e.name;return e.resolvedIndexAttribute&&(t+=" ("+e.resolvedIndexAttribute.value+")"),t}},{key:"onAddComponent",value:function(e){this.$emit("addComponent",e)}},{key:"onConfirmDelete",value:function(e){this.$refs.delete.open(e.id)}},{key:"onDeleteComponent",value:function(e){this.$emit("deleteComponent",e)}},{key:"onPushContext",value:function(e){this.$emit("pushContext",e)}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],lr.prototype,"content",void 0),lr=Object(u["a"])([Object(n["Component"])({components:{ElementPlaceholder:er,ElementDeleteDialog:sr}})],lr);var cr=lr,ur=cr,dr=Object(f["a"])(ur,Zi,Wi,!1,null,null,null),pr=dr.exports,vr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{attrs:{fluid:""}},e._l(e.attributeGroup.attributes,(function(t){return a("attribute-field-panel",{key:t.name,staticClass:"mb-2",attrs:{attribute:t,identifier:e.identifier,tenantToken:e.tenantToken,readOnly:e.readOnly},on:{attributeUpdated:e.onAttributeUpdated}})})),1)},fr=[],mr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-layout",{staticClass:"attr-row",attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"pr-4",attrs:{xs3:""}},[a("div",{staticClass:"attr-name"},[a("span",{staticClass:"subheading"},[e._v(e._s(e.attribute.name))]),e._v(": "),a("v-tooltip",{attrs:{right:""}},[a("font-awesome-icon",{staticClass:"grey--text text--lighten-2",attrs:{slot:"activator",icon:"question-circle",size:"sm"},slot:"activator"}),a("span",[e._v(e._s(e.attribute.description))])],1),e.attribute.required?a("v-tooltip",{attrs:{top:""}},[a("font-awesome-icon",{staticClass:"mr-1 red--text",attrs:{slot:"activator",icon:"asterisk",size:"xs"},slot:"activator"}),a("span",[e._v("Attribute is required")])],1):e._e()],1)]),a("v-flex",{attrs:{xs7:""}},[e.readOnly?a("v-text-field",{attrs:{required:e.attribute.required,"hide-details":"","single-line":"",disabled:""},model:{value:e.displayValue,callback:function(t){e.displayValue=t},expression:"displayValue"}}):e.attribute.choices?a("v-select",{attrs:{items:e.attribute.choices,"hide-details":"","item-text":"name","item-value":"value"},model:{value:e.editedConstValue,callback:function(t){e.editedConstValue=t},expression:"editedConstValue"}}):"String"===e.attribute.type?a("v-text-field",{attrs:{required:e.attribute.required,"hide-details":"","single-line":""},model:{value:e.editedConstValue,callback:function(t){e.editedConstValue=t},expression:"editedConstValue"}}):"Integer"===e.attribute.type?a("v-text-field",{attrs:{required:e.attribute.required,type:"number","hide-details":"","single-line":""},model:{value:e.editedConstValue,callback:function(t){e.editedConstValue=t},expression:"editedConstValue"}}):"Boolean"===e.attribute.type?a("v-switch",{attrs:{label:e.attribute.name,"hide-details":""},model:{value:e.editedBooleanValue,callback:function(t){e.editedBooleanValue=t},expression:"editedBooleanValue"}}):"DeviceTypeReference"===e.attribute.type?a("device-type-selector",{attrs:{dense:!0},model:{value:e.editedConstValue,callback:function(t){e.editedConstValue=t},expression:"editedConstValue"}}):"CustomerReference"===e.attribute.type?a("customer-selector",{attrs:{dense:!0},model:{value:e.editedConstValue,callback:function(t){e.editedConstValue=t},expression:"editedConstValue"}}):"AreaReference"===e.attribute.type?a("area-selector",{attrs:{dense:!0},model:{value:e.editedConstValue,callback:function(t){e.editedConstValue=t},expression:"editedConstValue"}}):"Script"===e.attribute.type?a("scripts-selector",{attrs:{identifier:e.identifier,tenantToken:e.tenantToken},model:{value:e.editedConstValue,callback:function(t){e.editedConstValue=t},expression:"editedConstValue"}}):e._e()],1),a("v-flex",{staticClass:"pl-4",attrs:{xs2:""}},[a("div",{staticClass:"attr-env"},[e.readOnly&&e.editedEnvVar?a("span",[a("v-icon",{attrs:{small:""}},[e._v("arrow_back")]),e._v(" "+e._s(e.editedEnvVar)+" ")],1):e.readOnly?e._e():a("v-text-field",{attrs:{"hide-details":"",placeholder:"Env Variable"},model:{value:e.editedEnvVar,callback:function(t){e.editedEnvVar=t},expression:"editedEnvVar"}})],1)])],1)},hr=[],br=(a("8a79"),a("1276"),a("2ca0"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.dense?a("form-select-condensed",{attrs:{items:e.deviceTypes,title:e.title||"Choose type of device","item-text":"name","item-value":"token",icon:"settings"},model:{value:e.wrapped,callback:function(t){e.wrapped=t},expression:"wrapped"}}):a("form-select",{attrs:{items:e.deviceTypes,title:e.title||"Choose type of device",label:e.label||"Device Type","item-text":"name","item-value":"token",icon:"settings"},model:{value:e.wrapped,callback:function(t){e.wrapped=t},expression:"wrapped"}},[e._t("default")],2)}),yr=[],gr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ma-0 pa-0"},[a("v-select",{attrs:{"hide-details":"",required:e.required,title:e.title,items:e.items,multiple:e.multiple,"item-text":e.itemText,"item-value":e.itemValue,chips:e.chips,placeholder:" "},on:{change:e.onSelectionChanged},model:{value:e.wrapped,callback:function(t){e.wrapped=t},expression:"wrapped"}})],1)},kr=[],Or=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"onSelectionChanged",value:function(e){this.$emit("change",e)}},{key:"wrapped",get:function(){return this.value},set:function(e){this.$emit("input",e)}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],Or.prototype,"title",void 0),Object(u["a"])([Object(n["Prop"])()],Or.prototype,"label",void 0),Object(u["a"])([Object(n["Prop"])()],Or.prototype,"icon",void 0),Object(u["a"])([Object(n["Prop"])()],Or.prototype,"items",void 0),Object(u["a"])([Object(n["Prop"])()],Or.prototype,"required",void 0),Object(u["a"])([Object(n["Prop"])()],Or.prototype,"value",void 0),Object(u["a"])([Object(n["Prop"])()],Or.prototype,"itemText",void 0),Object(u["a"])([Object(n["Prop"])()],Or.prototype,"itemValue",void 0),Object(u["a"])([Object(n["Prop"])()],Or.prototype,"multiple",void 0),Object(u["a"])([Object(n["Prop"])()],Or.prototype,"chips",void 0),Or=Object(u["a"])([Object(n["Component"])({})],Or);var jr=Or,Cr=jr,xr=Object(f["a"])(Cr,gr,kr,!1,null,"927b5b7e",null),$r=xr.exports;function _r(e,t){var a=lt(e),n=B["API"].DeviceTypes.createDeviceType(a,t);return ut(e,n)}function Tr(e,t,a){var n=lt(e),i=B["API"].DeviceTypes.getDeviceType(n,t,a);return ut(e,i)}function Dr(e,t,a){var n=lt(e),i=B["API"].DeviceTypes.updateDeviceType(n,t,a);return ut(e,i)}function wr(e,t,a){var n=lt(e),i=B["API"].DeviceTypes.listDeviceTypes(n,t,a);return ut(e,i)}function Sr(e,t){var a=lt(e),n=B["API"].DeviceTypes.deleteDeviceType(a,t);return ut(e,n)}function Ar(e,t,a){var n=lt(e),i=B["API"].DeviceTypes.createDeviceCommand(n,t,a);return ut(e,i)}function Pr(e,t,a,n){var i=lt(e),r=B["API"].DeviceTypes.getDeviceCommand(i,t,a,n);return ut(e,r)}function Er(e,t,a,n){var i=lt(e),r=B["API"].DeviceTypes.updateDeviceCommand(i,t,a,n);return ut(e,r)}function Lr(e,t,a){var n=lt(e),i=B["API"].DeviceTypes.deleteDeviceCommand(n,t,a);return ut(e,i)}function Ur(e,t,a){var n=lt(e),i=B["API"].DeviceTypes.createDeviceStatus(n,t,a);return ut(e,i)}function Ir(e,t,a,n){var i=lt(e),r=B["API"].DeviceTypes.getDeviceStatus(i,t,a,n);return ut(e,r)}function qr(e,t,a,n){var i=lt(e),r=B["API"].DeviceTypes.updateDeviceStatus(i,t,a,n);return ut(e,r)}function Rr(e,t,a){var n=lt(e),i=B["API"].DeviceTypes.deleteDeviceStatus(n,t,a);return ut(e,i)}var Mr=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.deviceTypes=[],e}return Object(j["a"])(a,[{key:"created",value:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){var t,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={pageNumber:1,pageSize:0},a={includeAsset:!0},e.prev=2,e.next=5,wr(this.$store,t,a);case 5:n=e.sent,this.deviceTypes=n.data.results,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),ie(e.t0);case 12:case"end":return e.stop()}}),e,this,[[2,9]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"wrapped",get:function(){return this.value},set:function(e){this.$emit("input",e)}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])(String)],Mr.prototype,"value",void 0),Object(u["a"])([Object(n["Prop"])(String)],Mr.prototype,"title",void 0),Object(u["a"])([Object(n["Prop"])(String)],Mr.prototype,"label",void 0),Object(u["a"])([Object(n["Prop"])({default:!1})],Mr.prototype,"dense",void 0),Mr=Object(u["a"])([Object(n["Component"])({components:{FormSelect:Fe,FormSelectCondensed:$r}})],Mr);var Fr=Mr,Nr=Fr,zr=Object(f["a"])(Nr,br,yr,!1,null,null,null),Br=zr.exports,Vr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.dense?a("form-select-condensed",{attrs:{items:e.customers,title:e.title||"Choose customer","item-text":"name","item-value":"token",icon:"settings"},model:{value:e.wrapped,callback:function(t){e.wrapped=t},expression:"wrapped"}}):a("form-select",{attrs:{items:e.customers,title:e.title||"Choose customer",label:e.label||"Customer","item-text":"name","item-value":"token",icon:"settings"},model:{value:e.wrapped,callback:function(t){e.wrapped=t},expression:"wrapped"}},[e._t("default")],2)},Gr=[];function Zr(e,t){var a=lt(e),n=B["API"].Customers.createCustomer(a,t);return ut(e,n)}function Wr(e,t,a){var n=lt(e),i=B["API"].Customers.getCustomer(n,t,a);return ut(e,i)}function Hr(e,t,a){var n=lt(e),i=B["API"].Customers.updateCustomer(n,t,a);return ut(e,i)}function Jr(e,t,a){var n=lt(e),i=B["API"].Customers.listCustomers(n,t,a);return ut(e,i)}function Qr(e,t){var a=lt(e),n=B["API"].Customers.deleteCustomer(a,t);return ut(e,n)}function Yr(e,t,a,n){var i=lt(e),r=B["API"].Customers.listLocationsForCustomer(i,t,a,n);return ut(e,r)}function Kr(e,t,a,n){var i=lt(e),r=B["API"].Customers.listMeasurementsForCustomer(i,t,a,n);return ut(e,r)}function Xr(e,t,a,n){var i=lt(e),r=B["API"].Customers.listAlertsForCustomer(i,t,a,n);return ut(e,r)}var eo=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.customers=[],e}return Object(j["a"])(a,[{key:"created",value:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){var t,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={pageNumber:1,pageSize:0},a={},e.prev=2,e.next=5,Jr(this.$store,t,a);case 5:n=e.sent,this.customers=n.data.results,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),ie(e.t0);case 12:case"end":return e.stop()}}),e,this,[[2,9]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"wrapped",get:function(){return this.value},set:function(e){this.$emit("input",e)}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])(String)],eo.prototype,"value",void 0),Object(u["a"])([Object(n["Prop"])(String)],eo.prototype,"title",void 0),Object(u["a"])([Object(n["Prop"])(String)],eo.prototype,"label",void 0),Object(u["a"])([Object(n["Prop"])({default:!1})],eo.prototype,"dense",void 0),eo=Object(u["a"])([Object(n["Component"])({components:{FormSelect:Fe,FormSelectCondensed:$r}})],eo);var to=eo,ao=to,no=Object(f["a"])(ao,Vr,Gr,!1,null,null,null),io=no.exports,ro=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.dense?a("form-select-condensed",{attrs:{items:e.items,title:e.title||"Choose area","item-text":"name","item-value":"token",icon:"settings"},model:{value:e.wrapped,callback:function(t){e.wrapped=t},expression:"wrapped"}}):a("form-select",{attrs:{items:e.items,title:e.title||"Choose area",label:e.label||"Area","item-text":"name","item-value":"token",icon:"settings"},model:{value:e.wrapped,callback:function(t){e.wrapped=t},expression:"wrapped"}},[e._t("default")],2)},oo=[];function so(e,t){var a=lt(e),n=B["API"].Areas.createArea(a,t);return ut(e,n)}function lo(e,t,a){var n=lt(e),i=B["API"].Areas.getArea(n,t,a);return ut(e,i)}function co(e,t,a){var n=lt(e),i=B["API"].Areas.updateArea(n,t,a);return ut(e,i)}function uo(e,t,a){var n=lt(e),i=B["API"].Areas.listAreas(n,t,a);return ut(e,i)}function po(e,t){var a=lt(e),n=B["API"].Areas.deleteArea(a,t);return ut(e,n)}function vo(e,t,a,n){var i=lt(e),r=B["API"].Areas.listLocationsForArea(i,t,a,n);return ut(e,r)}function fo(e,t,a,n){var i=lt(e),r=B["API"].Areas.listMeasurementsForArea(i,t,a,n);return ut(e,r)}function mo(e,t,a,n){var i=lt(e),r=B["API"].Areas.listAlertsForArea(i,t,a,n);return ut(e,r)}var ho=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.items=[],e}return Object(j["a"])(a,[{key:"created",value:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){var t,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={pageNumber:1,pageSize:0},a={includeAreaType:!0},e.prev=2,e.next=5,uo(this.$store,t,a);case 5:n=e.sent,this.items=n.data.results,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),ie(e.t0);case 12:case"end":return e.stop()}}),e,this,[[2,9]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"wrapped",get:function(){return this.value},set:function(e){this.$emit("input",e)}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])(String)],ho.prototype,"value",void 0),Object(u["a"])([Object(n["Prop"])(String)],ho.prototype,"title",void 0),Object(u["a"])([Object(n["Prop"])(String)],ho.prototype,"label",void 0),Object(u["a"])([Object(n["Prop"])({default:!1})],ho.prototype,"dense",void 0),ho=Object(u["a"])([Object(n["Component"])({components:{FormSelect:Fe,FormSelectCondensed:$r}})],ho);var bo=ho,yo=bo,go=Object(f["a"])(yo,ro,oo,!1,null,null,null),ko=go.exports,Oo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-select",{attrs:{items:e.scripts,"item-text":"name","item-value":"id","hide-details":"","single-line":""},model:{value:e.selectedId,callback:function(t){e.selectedId=t},expression:"selectedId"}})},jo=[];function Co(e,t){var a=lt(e),n=B["API"].Scripting.listScriptTemplates(a,t);return ut(e,n)}function xo(e,t,a){var n=lt(e),i=B["API"].Scripting.getScriptTemplateContent(n,t,a);return ut(e,i)}function $o(e,t){var a=lt(e),n=B["API"].Scripting.listGlobalScriptMetadata(a,t);return ut(e,n)}function _o(e,t,a){var n=lt(e),i=B["API"].Scripting.createGlobalScript(n,t,a);return ut(e,i)}function To(e,t,a,n){var i=lt(e),r=B["API"].Scripting.getGlobalScriptContent(i,t,a,n);return ut(e,r)}function Do(e,t,a,n,i){var r=lt(e),o=B["API"].Scripting.updateGlobalScript(r,t,a,n,i);return ut(e,o)}function wo(e,t,a,n,i){var r=lt(e),o=B["API"].Scripting.cloneGlobalScript(r,t,a,n,i);return ut(e,o)}function So(e,t,a,n){var i=lt(e),r=B["API"].Scripting.activateGlobalScript(i,t,a,n);return ut(e,r)}function Ao(e,t,a){var n=lt(e),i=B["API"].Scripting.listTenantScriptMetadata(n,t,a);return ut(e,i)}function Po(e,t,a,n){var i=lt(e),r=B["API"].Scripting.createTenantScript(i,t,a,n);return ut(e,r)}function Eo(e,t,a,n,i){var r=lt(e),o=B["API"].Scripting.getTenantScriptContent(r,t,a,n,i);return ut(e,o)}function Lo(e,t,a,n,i,r){var o=lt(e),s=B["API"].Scripting.updateTenantScript(o,t,a,n,i,r);return ut(e,s)}function Uo(e,t,a,n,i,r){var o=lt(e),s=B["API"].Scripting.cloneTenantScript(o,t,a,n,i,r);return ut(e,s)}function Io(e,t,a,n,i){var r=lt(e),o=B["API"].Scripting.activateTenantScript(r,t,a,n,i);return ut(e,o)}var qo={data:function(){return{scripts:[],selectedId:null}},props:["value","identifier","tenantToken"],watch:{value:function(e){this.$data.selectedId=e},selectedId:function(e){this.$emit("input",e)}},created:function(){this.$data.selectedId=this.value;var e=this;Ao(e.$store,this.identifier,this.tenantToken).then((function(t){e.$data.scripts=t.data})).catch((function(e){}))},methods:{}},Ro=qo,Mo=Object(f["a"])(Ro,Oo,jo,!1,null,null,null),Fo=Mo.exports,No=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.editedBooleanValue=!0,e.editedConstValue=null,e.editedEnvVar=null,e.displayValue=null,e}return Object(j["a"])(a,[{key:"onAttributeUpdated",value:function(e,t){var a=e?e.value:null;if(a&&a.startsWith("${")&&a.endsWith("}")){var n=a.substring(2);n=n.substring(0,n.length-1);var i=n.split(":");this.editedBooleanValue=i&&"true"===i[1],this.editedConstValue=i[1],this.editedEnvVar=i[0],this.displayValue=i[1]}else this.editedBooleanValue=null!==a&&"true"===a,this.editedConstValue=a,this.editedEnvVar=null,!a&&this.readOnly&&e.default?this.displayValue="(Defaulted to "+e.default+")":this.displayValue=a}},{key:"onBooleanValueUpdated",value:function(e,t){this.editedConstValue=""+e,this.onValueUpdated()}},{key:"onConstantValueUpdated",value:function(e,t){this.onValueUpdated()}},{key:"onEnvVarUpdated",value:function(e,t){this.onValueUpdated()}},{key:"onValueUpdated",value:function(){var e,t=this.editedConstValue,a=this.editedEnvVar;if(e=t&&t.length>0?a?"${"+a+":"+t+"}":t:a?"${"+a+"}":null,e&&e!==this.attribute.value){var n={attribute:this.attribute,newValue:e};this.$emit("attributeUpdated",n)}}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],No.prototype,"attribute",void 0),Object(u["a"])([Object(n["Prop"])({default:!1})],No.prototype,"readOnly",void 0),Object(u["a"])([Object(n["Prop"])()],No.prototype,"identifier",void 0),Object(u["a"])([Object(n["Prop"])()],No.prototype,"tenantToken",void 0),Object(u["a"])([Object(n["Watch"])("attribute",{immediate:!0})],No.prototype,"onAttributeUpdated",null),Object(u["a"])([Object(n["Watch"])("editedBooleanValue")],No.prototype,"onBooleanValueUpdated",null),Object(u["a"])([Object(n["Watch"])("editedConstValue")],No.prototype,"onConstantValueUpdated",null),Object(u["a"])([Object(n["Watch"])("editedEnvVar")],No.prototype,"onEnvVarUpdated",null),No=Object(u["a"])([Object(n["Component"])({components:{DeviceTypeSelector:Br,CustomerSelector:io,AreaSelector:ko,ScriptsSelector:Fo}})],No);var zo=No,Bo=zo,Vo=(a("6142"),Object(f["a"])(Bo,mr,hr,!1,null,"2de28924",null)),Go=Vo.exports,Zo=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"onAttributeUpdated",value:function(e){this.$emit("attributeUpdated",e)}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],Zo.prototype,"attributeGroup",void 0),Object(u["a"])([Object(n["Prop"])({default:!1})],Zo.prototype,"readOnly",void 0),Object(u["a"])([Object(n["Prop"])()],Zo.prototype,"identifier",void 0),Object(u["a"])([Object(n["Prop"])()],Zo.prototype,"tenantToken",void 0),Zo=Object(u["a"])([Object(n["Component"])({components:{AttributeFieldPanel:Go}})],Zo);var Wo=Zo,Ho=Wo,Jo=Object(f["a"])(Ho,vr,fr,!1,null,null,null),Qo=Jo.exports,Yo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("attributes-dialog",{ref:"dialog",attrs:{title:e.componentName,width:"900",createLabel:"Create",cancelLabel:"Cancel",context:e.context,groups:e.groups,identifier:e.identifier,tenantToken:e.tenantToken},on:{payload:e.onCommit}})},Ko=[],Xo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-base-dialog",{ref:"dialog",attrs:{icon:e.icon,title:e.title,width:e.width,loaded:e.loaded,visible:e.dialogVisible,createLabel:e.createLabel,cancelLabel:e.cancelLabel,lazy:!0},on:{createClicked:e.onCreateClicked,cancelClicked:e.onCancelClicked}},[a("template",{slot:"tabs"},e._l(e.groups,(function(t){return a("v-tab",{key:t.name},[e._v(e._s(t.name))])})),1),a("template",{slot:"tab-items"},e._l(e.groups,(function(t){return a("v-tab-item",{key:t.name},[a("attribute-group-panel",{attrs:{attributeGroup:t,readOnly:e.readOnly,identifier:e.identifier,tenantToken:e.tenantToken},on:{attributeUpdated:e.onAttributeUpdated}})],1)})),1)],2)},es=[],ts=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.attributeValues={},e.dirty=!1,e}return Object(j["a"])(a,[{key:"loadAttributesFromGroups",value:function(){var e={};this.groups.forEach((function(t){t.attributes.forEach((function(t){var a=t.value;a&&(e[t.localName]=a)}))})),this.attributeValues=e,this.$emit("initialValues",e)}},{key:"onAttributeUpdated",value:function(e){this.attributeValues[e.attribute.localName]=e.newValue,this.dirty=!0}},{key:"reset",value:function(){this.attributeValues={}}},{key:"load",value:function(e){this.reset(),this.loadAttributesFromGroups()}},{key:"onCreateClicked",value:function(e){this.$emit("payload",this.attributeValues)}},{key:"icon",get:function(){return I.DeviceType}}]),a}(n["DialogComponent"]);Object(u["a"])([Object(n["Prop"])()],ts.prototype,"context",void 0),Object(u["a"])([Object(n["Prop"])({default:[]})],ts.prototype,"groups",void 0),Object(u["a"])([Object(n["Prop"])()],ts.prototype,"identifier",void 0),Object(u["a"])([Object(n["Prop"])()],ts.prototype,"tenantToken",void 0),Object(u["a"])([Object(n["Prop"])({default:!1})],ts.prototype,"readOnly",void 0),ts=Object(u["a"])([Object(n["Component"])({components:{AttributeGroupPanel:Qo}})],ts);var as=ts,ns=as,is=Object(f["a"])(ns,Xo,es,!1,null,null,null),rs=is.exports,os=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"getDialog",value:function(){return this.$refs.dialog}},{key:"onCommit",value:function(e){this.commit(e)}},{key:"save",value:function(e){return e}},{key:"afterSave",value:function(e){this.$emit("attributesSaved",e)}},{key:"componentName",get:function(){return this.context?this.context.model.name:"Component"}}]),a}(n["CreateDialogComponent"]);Object(u["a"])([Object(n["Prop"])()],os.prototype,"context",void 0),Object(u["a"])([Object(n["Prop"])({default:[]})],os.prototype,"groups",void 0),Object(u["a"])([Object(n["Prop"])()],os.prototype,"identifier",void 0),Object(u["a"])([Object(n["Prop"])()],os.prototype,"tenantToken",void 0),os=Object(u["a"])([Object(n["Component"])({components:{AttributesDialog:rs}})],os);var ss=os,ls=ss,cs=Object(f["a"])(ls,Yo,Ko,!1,null,null,null),us=cs.exports,ds=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("attributes-dialog",{ref:"dialog",attrs:{title:e.componentName,width:"900",createLabel:"Update",cancelLabel:"Cancel",context:e.context,groups:e.groups,identifier:e.identifier,tenantToken:e.tenantToken},on:{payload:e.onSave}})},ps=[],vs=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"getDialog",value:function(){return this.$refs.dialog}},{key:"prepareLoad",value:function(e){return[]}},{key:"prepareSave",value:function(e,t){return t}},{key:"onSave",value:function(e){this.save(e)}},{key:"afterSave",value:function(e){this.$emit("attributesSaved",e)}},{key:"componentName",get:function(){return this.context?this.context.model.name:"Component"}}]),a}(n["EditDialogComponent"]);Object(u["a"])([Object(n["Prop"])()],vs.prototype,"context",void 0),Object(u["a"])([Object(n["Prop"])({default:[]})],vs.prototype,"groups",void 0),Object(u["a"])([Object(n["Prop"])()],vs.prototype,"identifier",void 0),Object(u["a"])([Object(n["Prop"])()],vs.prototype,"tenantToken",void 0),vs=Object(u["a"])([Object(n["Component"])({components:{AttributesDialog:rs}})],vs);var fs=vs,ms=fs,hs=Object(f["a"])(ms,ds,ps,!1,null,null,null),bs=hs.exports,ys=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.editor=null,e.groups=[],e.content=null,e.editingContext=null,e.editingGroups=[],e.active=null,e.dirty=!1,e.loaded=!0,e}return Object(j["a"])(a,[{key:"onConfigurationUpdated",value:function(e,t){e&&this.editor&&this.onConfigurationAvailable(!0,!1)}},{key:"onConfigurationAvailable",value:function(e,t){e&&(this.editor=new Ai(this.configurationModel,this.configuration))}},{key:"onContextUpdated",value:function(e,t){e&&this.editor&&(this.content=this.editor.getContentForContext(e),this.groups=this.editor.getAttributeGroupsForContext(e))}},{key:"onAddComponent",value:function(e){if(this.editor){var t=this.editor.getLastContext();if(t){var a=this.editor.findModelNodeByName(t.model,e.localName);if(a){var n={id:this.editor.generateUniqueId(),name:a.localName,namespace:a.namespace,attributes:[],children:[]},i={configuration:n,model:a};this.editingContext=i,this.editingGroups=this.editor.getAttributeGroupsForContext(i),this.$refs.create.open()}}}}},{key:"onCommitAddedComponent",value:function(e){if(this.editor){var t=this.editingContext;if(t){var a=t.configuration,n=[];for(var i in e)if(e.hasOwnProperty(i)){var r=e[i],o={name:i,namespace:"",value:r};n.push(o)}a.attributes=n;var s=this.editor.getLastContext();s&&(s.configuration.children.push(a),this.editor.fixChildOrder(s.model,s.configuration),this.content=this.editor.getContentForContext(s),this.fireDirty())}}}},{key:"onOpenUpdateDialog",value:function(){this.editor&&(this.editingContext=this.editor.getLastContext(),this.editingContext&&(this.editingGroups=this.editor.getAttributeGroupsForContext(this.editingContext),this.$refs.update.open("")))}},{key:"onAttributesUpdated",value:function(e){if(this.editor){var t={};if(this.editingContext){var a=this.editingContext.configuration.attributes;a&&a.forEach((function(e){t[e.name]=e.value})),Object.assign(t,e);var n=[];for(var i in t)if(t.hasOwnProperty(i)){var r=t[i],o={name:i,namespace:"",value:r};n.push(o)}this.editingContext.configuration.attributes=n,this.groups=this.editor.getAttributeGroupsForContext(this.editingContext),this.fireDirty()}}}},{key:"onDeleteComponent",value:function(e){if(this.onDeleteChild(e.id),this.editor){var t=this.editor.getLastContext();t&&(this.content=this.editor.getContentForContext(t),this.fireDirty())}}},{key:"onDeleteChild",value:function(e){if(this.editor){var t=this.editor.getLastContext();if(t){var a=t.configuration,n=this.editor.findConfigNodeById(a,e);if(n)for(var i=0;i<a.children.length;i++)if(a.children[i].id===n.id){a.children.splice(i,1);break}}}}},{key:"onPopContext",value:function(){this.editor&&this.editor.popContext()}},{key:"onPopToContext",value:function(e){this.editor&&this.editor.popToContext(e.model.localName)}},{key:"onPushChildContext",value:function(e){this.editor&&this.editor.pushChildContext(e)}},{key:"fireDirty",value:function(){this.$data.dirty=!0,this.$emit("dirty")}},{key:"configurationAvailable",get:function(){return null!=this.configuration&&null!=this.configurationModel}},{key:"context",get:function(){return this.editor?this.editor.getLastContext():null}},{key:"contextStack",get:function(){return this.editor?this.editor.contextStack:[]}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],ys.prototype,"tabkey",void 0),Object(u["a"])([Object(n["Prop"])()],ys.prototype,"configuration",void 0),Object(u["a"])([Object(n["Prop"])()],ys.prototype,"configurationModel",void 0),Object(u["a"])([Object(n["Prop"])()],ys.prototype,"identifier",void 0),Object(u["a"])([Object(n["Prop"])()],ys.prototype,"tenantToken",void 0),Object(u["a"])([Object(n["Watch"])("configuration",{immediate:!0})],ys.prototype,"onConfigurationUpdated",null),Object(u["a"])([Object(n["Watch"])("configurationAvailable",{immediate:!0})],ys.prototype,"onConfigurationAvailable",null),Object(u["a"])([Object(n["Watch"])("context",{immediate:!0})],ys.prototype,"onContextUpdated",null),ys=Object(u["a"])([Object(n["Component"])({components:{MicroserviceBanner:Gi,ComponentContent:pr,AttributeGroupPanel:Qo,AttributesCreateDialog:us,AttributesUpdateDialog:bs}})],ys);var gs=ys,ks=gs,Os=(a("e6d4"),Object(f["a"])(ks,wi,Si,!1,null,null,null)),js=Os.exports,Cs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.unsaved?a("v-card",{staticClass:"yellow lighten-5",attrs:{flat:""}},[a("v-divider"),a("v-card-text",{staticClass:"subtitle"},[a("v-icon",{staticClass:"yellow--text text--darken-3",attrs:{large:""}},[e._v("fa-warning")]),e._v("The microservice configuration has been updated. "),a("v-btn",{staticClass:"green white--text",nativeOn:{click:function(t){return e.onSave(t)}}},[e._v(" Save Changes "),a("v-icon",{staticClass:"white--text pl-2"},[e._v("fa-cloud-upload")])],1),a("v-btn",{staticClass:"red white--text",nativeOn:{click:function(t){return e.onRevert(t)}}},[e._v(" Revert Changes "),a("v-icon",{staticClass:"white--text pl-2",attrs:{fa:""}},[e._v("fa-times")])],1)],1),a("v-divider")],1):e._e()},xs=[],$s={data:function(){return{}},props:["unsaved"],methods:{onSave:function(){this.$emit("save")},onRevert:function(){this.$emit("revert")}}},_s=$s,Ts=Object(f["a"])(_s,Cs,xs,!1,null,null,null),Ds=Ts.exports,ws=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-content-tab",{attrs:{tabkey:e.tabkey,loaded:e.loaded,loadingMessage:"Loading..."}},[a("template",{slot:"header"},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs3:""}},[a("condensed-toolbar",{attrs:{title:"Scripts"}},[a("v-tooltip",{attrs:{left:""}},[a("v-icon",{staticClass:"mr-2",attrs:{slot:"activator",small:""},on:{click:e.onScriptCreate},slot:"activator"},[e._v("add")]),a("span",[e._v("Create Script")])],1),a("v-tooltip",{attrs:{left:""}},[a("v-icon",{attrs:{slot:"activator",small:""},on:{click:e.refresh},slot:"activator"},[e._v("refresh")]),a("span",[e._v("Refresh Scripts")])],1)],1)],1),a("v-flex",{attrs:{xs9:""}},[null!=this.selectedScript?a("condensed-toolbar",{attrs:{title:e.scriptTitle}},[a("template",{slot:"icon"},[a("v-icon",{attrs:{small:""}},[e._v("description")])],1),e.selectedScript?a("v-menu",{staticClass:"mr-3",attrs:{"offset-y":"","max-width":"400"}},[a("v-btn",{attrs:{slot:"activator",color:"primary",dark:""},slot:"activator"},[a("v-icon",{staticClass:"mr-1",attrs:{small:"",color:e.versionColor}},[e._v(e._s(e.versionIcon))]),a("span",{staticClass:"white--text"},[e._v(e._s(e.formatDate(e.selectedVersion.createdDate)))]),a("v-icon",{attrs:{small:""}},[e._v("expand_more")])],1),a("script-version-list",{attrs:{versions:e.versions,selectedScript:e.selectedScript},on:{selected:e.onVersionSelected}})],1):e._e(),a("v-tooltip",{attrs:{left:""}},[a("v-icon",{staticClass:"mr-2",attrs:{slot:"activator",small:""},on:{click:e.onActivate},slot:"activator"},[e._v("play_circle_outline")]),a("span",[e._v("Make Version Active")])],1),a("v-tooltip",{attrs:{left:""}},[a("v-icon",{staticClass:"mr-2",attrs:{slot:"activator",small:""},on:{click:e.onClone},slot:"activator"},[e._v("note_add")]),a("span",[e._v("Clone as New Version")])],1),a("v-tooltip",{attrs:{left:""}},[a("v-icon",{attrs:{slot:"activator",small:""},on:{click:e.onSave},slot:"activator"},[e._v("cloud_upload")]),a("span",[e._v("Upload Changes")])],1)],2):a("v-card",{attrs:{flat:"",height:"100%"}},[a("v-divider")],1)],1)],1)],1),a("v-layout",{attrs:{row:"",wrap:"","fill-height":""}},[a("v-flex",{attrs:{xs3:""}},[e.scripts&&e.scripts.length>0?a("v-list",{staticStyle:{height:"100%"},attrs:{dense:"","two-line":""}},[e._l(e.scripts,(function(t){return[a("v-list-tile",{key:t.id,on:{click:function(a){return e.onScriptClicked(t)}}},[a("v-list-tile-content",[a("v-list-tile-title",{staticClass:"subheading",domProps:{innerHTML:e._s(t.name)}}),a("v-list-tile-sub-title",{domProps:{innerHTML:e._s(t.description)}})],1)],1),a("v-divider",{key:"div_"+t.name})]}))],2):a("v-card",{staticClass:"subheading",attrs:{flat:""}},[a("v-card-text",[e._v("No scripts have been configured.")])],1)],1),a("v-flex",{attrs:{xs9:""}},[null!=this.selectedScript?a("scripts-content-editor",{ref:"content",attrs:{script:e.selectedScript,version:e.selectedVersion,identifier:e.identifier,tenantToken:e.tenantToken},on:{content:e.onContentUpdated}}):a("v-card",{attrs:{flat:"",height:"100%"}},[a("v-divider",{attrs:{vertical:""}})],1)],1)],1),a("scripts-create-dialog",{ref:"create",attrs:{identifier:e.identifier,tenantToken:e.tenantToken},on:{scriptAdded:e.onScriptAdded}}),a("script-create-clone-dialog",{ref:"clone",attrs:{identifier:e.identifier,tenantToken:e.tenantToken},on:{save:e.onSaveClone}})],2)},Ss=[],As=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-list",{attrs:{dense:"","two-line":""}},[e._l(e.versions,(function(t){return[a("v-list-tile",{key:t.versionId,on:{click:function(a){return e.onVersionClicked(t)}}},[a("v-list-tile-content",[a("v-list-tile-title",{staticClass:"subheading"},[a("v-icon",{attrs:{color:e.versionColor(t)}},[e._v(e._s(e.versionIcon(t)))]),e._v(" "+e._s(e.formatDate(t.createdDate))+" ")],1),a("v-list-tile-sub-title",{domProps:{innerHTML:e._s(t.comment)}})],1)],1),a("v-divider",{key:"div_"+t.versionId})]}))],2)},Ps=[],Es=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"onVersionClicked",value:function(e){this.$emit("selected",e)}},{key:"versionIcon",value:function(e){return Us(this.selectedScript,e)?"check_circle":"power_settings_new"}},{key:"versionColor",value:function(e){return Us(this.selectedScript,e)?"#6c6":"#ccc"}},{key:"formatDate",value:function(e){return se(e)}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],Es.prototype,"selectedScript",void 0),Object(u["a"])([Object(n["Prop"])()],Es.prototype,"versions",void 0),Es=Object(u["a"])([Object(n["Component"])({})],Es);var Ls=Es;function Us(e,t){return!(!e||!t||e.activeVersion!==t.versionId)}var Is=Ls,qs=Object(f["a"])(Is,As,Ps,!1,null,null,null),Rs=qs.exports,Ms=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.selectedVersion?a("v-layout",{attrs:{row:"",wrap:"","fill-height":""}},[a("v-flex",{attrs:{xs12:""}},[a("v-card",{attrs:{height:"100%"}},[a("editor",{attrs:{lang:"groovy",theme:"chrome",options:e.aceOptions,width:"100%",height:"100%"},on:{init:e.editorInit},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}})],1)],1)],1):e._e()},Fs=[],Ns=function(e){Object(l["a"])(n,e);var t=Object(c["a"])(n);function n(){var e;return Object(s["a"])(this,n),e=t.apply(this,arguments),e.selectedScript=null,e.selectedVersion=null,e.content="",e.aceOptions={showPrintMargin:!1},e}return Object(j["a"])(n,[{key:"onScriptUpdated",value:function(e){this.selectedScript=e}},{key:"onVersionUpdated",value:function(e){this.selectedVersion=e}},{key:"onSelectedVersionUpdated",value:function(e){this.updateContent()}},{key:"onContentUpdated",value:function(e){this.$emit("content",e)}},{key:"editorInit",value:function(){a("2099"),a("0f6a"),a("bb36"),a("0329"),a("95b8"),a("6a21")}},{key:"updateContent",value:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.tenantToken){e.next=7;break}return e.next=3,To(this.$store,this.identifier,this.selectedScript.id,this.selectedVersion.versionId);case 3:t=e.sent,this.content=t.data,e.next=11;break;case 7:return e.next=9,Eo(this.$store,this.identifier,this.tenantToken,this.selectedScript.id,this.selectedVersion.versionId);case 9:a=e.sent,this.content=a.data;case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"formatDate",value:function(e){return se(e)}}]),n}(i["default"]);Object(u["a"])([Object(n["Prop"])()],Ns.prototype,"identifier",void 0),Object(u["a"])([Object(n["Prop"])()],Ns.prototype,"tenantToken",void 0),Object(u["a"])([Object(n["Prop"])()],Ns.prototype,"script",void 0),Object(u["a"])([Object(n["Prop"])()],Ns.prototype,"version",void 0),Object(u["a"])([Object(n["Watch"])("script",{immediate:!0})],Ns.prototype,"onScriptUpdated",null),Object(u["a"])([Object(n["Watch"])("version",{immediate:!0})],Ns.prototype,"onVersionUpdated",null),Object(u["a"])([Object(n["Watch"])("selectedVersion",{immediate:!0})],Ns.prototype,"onSelectedVersionUpdated",null),Object(u["a"])([Object(n["Watch"])("content",{immediate:!0})],Ns.prototype,"onContentUpdated",null),Ns=Object(u["a"])([Object(n["Component"])({components:{editor:a("7c9e")}})],Ns);var zs=Ns,Bs=zs,Vs=Object(f["a"])(Bs,Ms,Fs,!1,null,null,null),Gs=Vs.exports,Zs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("scripts-dialog",{ref:"dialog",attrs:{title:"Create Script",width:"700",resetOnOpen:"true",identifier:e.identifier,createLabel:"Create",cancelLabel:"Cancel"},on:{payload:e.onCommit}})},Ws=[],Hs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-base-dialog",{ref:"dialog",attrs:{icon:e.icon,title:e.title,width:e.width,loaded:e.loaded,visible:e.dialogVisible,createLabel:e.createLabel,cancelLabel:e.cancelLabel},on:{createClicked:e.onCreateClicked,cancelClicked:e.onCancelClicked}},[a("template",{slot:"tabs"},[a("v-tab",{key:"details"},[e._v("Details")]),a("v-tab",{key:"content"},[e._v("Content")])],1),a("template",{slot:"tab-items"},[a("v-tab-item",{key:"details"},[a("script-detail-fields",{ref:"details"})],1),a("v-tab-item",{key:"content"},[a("script-content-fields",{ref:"content",attrs:{identifier:e.identifier}})],1)],1)],2)},Js=[],Qs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("dialog-form",[a("v-flex",{attrs:{xs12:""}},[a("form-text",{attrs:{required:"",label:"Id",title:"Unique identifier for script.",icon:"info"},model:{value:e.scriptId,callback:function(t){e.scriptId=t},expression:"scriptId"}},[!e.$v.scriptId.required&&e.$v.$dirty?a("span",[e._v("Id is required.")]):e._e()])],1),a("v-flex",{attrs:{xs12:""}},[a("form-text",{attrs:{required:"",label:"Name",title:"Name displayed for script.",icon:"info"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}},[!e.$v.name.required&&e.$v.$dirty?a("span",[e._v("Name is required.")]):e._e()])],1),a("v-flex",{attrs:{xs12:""}},[a("form-text-area",{attrs:{required:"",title:"Script description.",label:"Description",icon:"info"},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}},[e.$v.description.$invalid&&e.$v.$dirty?a("span",[e._v("Description is required.")]):e._e()])],1),a("v-flex",{attrs:{xs12:""}},[a("form-select",{attrs:{required:"",title:"Script language/technology being used.",items:e.scriptTypes,label:"Script Type","item-text":"text","item-value":"value",icon:"developer_board"},model:{value:e.scriptType,callback:function(t){e.scriptType=t},expression:"scriptType"}},[e.$v.scriptType.$invalid&&e.$v.$dirty?a("span",[e._v("Script type is required.")]):e._e()])],1)],1)},Ys=[],Ks=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mb-3"},[a("v-textarea",{attrs:{required:e.required,title:e.title,label:e.label,placeholder:" ","hide-details":"","prepend-icon":e.icon},model:{value:e.wrapped,callback:function(t){e.wrapped=t},expression:"wrapped"}}),a("div",{staticClass:"verror"},[e._t("default")],2)],1)},Xs=[],el=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"wrapped",get:function(){return this.value},set:function(e){this.$emit("input",e)}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],el.prototype,"title",void 0),Object(u["a"])([Object(n["Prop"])()],el.prototype,"label",void 0),Object(u["a"])([Object(n["Prop"])()],el.prototype,"icon",void 0),Object(u["a"])([Object(n["Prop"])()],el.prototype,"required",void 0),Object(u["a"])([Object(n["Prop"])()],el.prototype,"value",void 0),el=Object(u["a"])([Object(n["Component"])({})],el);var tl=el,al=tl,nl=Object(f["a"])(al,Ks,Xs,!1,null,"650c83be",null),il=nl.exports,rl=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.scriptId=null,e.name=null,e.description=null,e.scriptType=null,e.scriptTypes=[{text:"Groovy",value:"groovy"}],e}return Object(j["a"])(a,[{key:"reset",value:function(){this.scriptId=null,this.name=null,this.description=null,this.scriptType=null,this.$v.$reset()}},{key:"validate",value:function(){return this.$v.$touch(),!this.$v.$invalid}},{key:"load",value:function(e){this.scriptId=e.id,this.name=e.name,this.description=e.description,this.scriptType=e.type}},{key:"save",value:function(){return{id:this.scriptId,name:this.name,description:this.description,type:this.scriptType}}}]),a}(n["DialogSection"]);rl=Object(u["a"])([Object(n["Component"])({components:{DialogForm:_e,FormText:Ee,FormTextArea:il,FormSelect:Fe},validations:{scriptId:{required:Ne["required"]},name:{required:Ne["required"]},description:{required:Ne["required"]},scriptType:{required:Ne["required"]}}})],rl);var ol=rl,sl=ol,ll=Object(f["a"])(sl,Qs,Ys,!1,null,"56d24a48",null),cl=ll.exports,ul=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("dialog-form",[a("v-flex",{attrs:{xs12:""}},[a("form-select",{attrs:{title:"Script template to use for content.",items:e.scriptTemplates,label:"Template","item-text":"name","item-value":"id",icon:"library_books"},on:{change:e.onTemplateUpdated},model:{value:e.template,callback:function(t){e.template=t},expression:"template"}})],1),a("v-flex",{attrs:{xs12:""}},[a("form-code-block",{attrs:{required:"",label:"Content",title:"Script Content."},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}},[e.$v.content.$invalid&&e.$v.$dirty?a("span",[e._v("Script content is required.")]):e._e()])],1)],1)},dl=[],pl=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mb-3"},[a("v-input",{attrs:{required:e.required,title:e.title,"hide-details":"","prepend-icon":e.icon},model:{value:e.wrapped,callback:function(t){e.wrapped=t},expression:"wrapped"}},[a("ace-editor",{staticStyle:{border:"1px solid #999"},attrs:{required:"",lang:"groovy",theme:"chrome",options:e.aceOptions,width:"100%",height:"350"},on:{init:e.editorInit},model:{value:e.wrapped,callback:function(t){e.wrapped=t},expression:"wrapped"}})],1),a("div",{staticClass:"verror"},[e._t("default")],2)],1)},vl=[],fl=function(e){Object(l["a"])(n,e);var t=Object(c["a"])(n);function n(){var e;return Object(s["a"])(this,n),e=t.apply(this,arguments),e.aceOptions={showPrintMargin:!1,showLineNumbers:!1},e}return Object(j["a"])(n,[{key:"editorInit",value:function(){a("2099"),a("0f6a"),a("bb36"),a("0329"),a("95b8"),a("6a21")}},{key:"wrapped",get:function(){return this.value},set:function(e){this.$emit("input",e)}}]),n}(i["default"]);Object(u["a"])([Object(n["Prop"])()],fl.prototype,"title",void 0),Object(u["a"])([Object(n["Prop"])()],fl.prototype,"label",void 0),Object(u["a"])([Object(n["Prop"])({default:"code"})],fl.prototype,"icon",void 0),Object(u["a"])([Object(n["Prop"])()],fl.prototype,"required",void 0),Object(u["a"])([Object(n["Prop"])({default:""})],fl.prototype,"value",void 0),fl=Object(u["a"])([Object(n["Component"])({components:{AceEditor:a("7c9e")}})],fl);var ml=fl,hl=ml,bl=Object(f["a"])(hl,pl,vl,!1,null,null,null),yl=bl.exports,gl=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.template=null,e.content="",e.scriptTemplates=[],e.scriptTypes=[{text:"Groovy",value:"groovy"}],e.aceOptions={showPrintMargin:!1},e}return Object(j["a"])(a,[{key:"loadTemplates",value:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Co(this.$store,this.identifier);case 2:t=e.sent,this.scriptTemplates=t.data;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onTemplateUpdated",value:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,xo(this.$store,this.identifier,t);case 2:a=e.sent,this.content=a.data;case 4:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"reset",value:function(){this.template=null,this.content="",this.$v.$reset(),this.loadTemplates()}},{key:"validate",value:function(){return this.$v.$touch(),!this.$v.$invalid}},{key:"load",value:function(e){this.content=e.content}},{key:"save",value:function(){return{content:btoa(this.content)}}}]),a}(n["DialogSection"]);Object(u["a"])([Object(n["Prop"])()],gl.prototype,"identifier",void 0),gl=Object(u["a"])([Object(n["Component"])({components:{DialogForm:_e,FormCodeBlock:yl,FormSelect:Fe},validations:{content:{required:Ne["required"]}}})],gl);var kl=gl,Ol=kl,jl=Object(f["a"])(Ol,ul,dl,!1,null,"cbc12126",null),Cl=jl.exports,xl=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"generatePayload",value:function(){var e={};return Object.assign(e,this.$refs.details.save(),this.$refs.content.save()),e}},{key:"reset",value:function(){this.$refs.details&&this.$refs.details.reset(),this.$refs.content&&this.$refs.content.reset(),this.$refs.dialog.setActiveTab(0)}},{key:"load",value:function(e){this.reset(),this.$refs.details&&this.$refs.details.load(e),this.$refs.content&&this.$refs.content.load(e)}},{key:"onCreateClicked",value:function(e){if(this.$refs.details.validate())if(this.$refs.content.validate()){var t=this.generatePayload();console.log("Before payload emit:",this),this.$emit("payload",t)}else this.$refs.dialog.setActiveTab(1);else this.$refs.dialog.setActiveTab(0)}},{key:"icon",get:function(){return I.DeviceType}}]),a}(n["DialogComponent"]);Object(u["a"])([Object(n["Prop"])()],xl.prototype,"title",void 0),Object(u["a"])([Object(n["Prop"])()],xl.prototype,"width",void 0),Object(u["a"])([Object(n["Prop"])()],xl.prototype,"createLabel",void 0),Object(u["a"])([Object(n["Prop"])()],xl.prototype,"cancelLabel",void 0),Object(u["a"])([Object(n["Prop"])()],xl.prototype,"identifier",void 0),xl=Object(u["a"])([Object(n["Component"])({components:{ScriptDetailFields:cl,ScriptContentFields:Cl}})],xl);var $l=xl,_l=$l,Tl=Object(f["a"])(_l,Hs,Js,!1,null,null,null),Dl=Tl.exports,wl=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"getDialog",value:function(){return this.$refs.dialog}},{key:"onCommit",value:function(e){this.commit(e)}},{key:"save",value:function(e){return this.tenantToken?Po(this.$store,this.identifier,this.tenantToken,e):_o(this.$store,this.identifier,e)}},{key:"afterSave",value:function(e){this.$emit("scriptAdded",e.id)}}]),a}(n["CreateDialogComponent"]);Object(u["a"])([Object(n["Prop"])()],wl.prototype,"identifier",void 0),Object(u["a"])([Object(n["Prop"])()],wl.prototype,"tenantToken",void 0),wl=Object(u["a"])([Object(n["Component"])({components:{ScriptsDialog:Dl}})],wl);var Sl=wl,Al=Sl,Pl=Object(f["a"])(Al,Zs,Ws,!1,null,null,null),El=Pl.exports,Ll=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("script-clone-dialog",{ref:"dialog",attrs:{title:"Clone Script",width:"700",resetOnOpen:"true",identifier:e.identifier,createLabel:"Create",cancelLabel:"Cancel"},on:{payload:e.onCommit}})},Ul=[],Il=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-base-dialog",{ref:"dialog",attrs:{icon:e.icon,title:e.title,width:e.width,loaded:e.loaded,visible:e.dialogVisible,createLabel:e.createLabel,cancelLabel:e.cancelLabel},on:{createClicked:e.onCreateClicked,cancelClicked:e.onCancelClicked}},[a("script-clone-fields",{ref:"details"})],1)},ql=[],Rl=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("dialog-form",[a("v-flex",{attrs:{xs12:""}},[a("form-text",{attrs:{required:"",label:"Comment",title:"Comment for new version.",icon:"info"},model:{value:e.comment,callback:function(t){e.comment=t},expression:"comment"}},[!e.$v.comment.required&&e.$v.$dirty?a("span",[e._v("Id is required.")]):e._e()])],1)],1)},Ml=[],Fl=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.comment=null,e}return Object(j["a"])(a,[{key:"reset",value:function(){this.comment=null,this.$v.$reset()}},{key:"validate",value:function(){return this.$v.$touch(),!this.$v.$invalid}},{key:"load",value:function(e){this.comment=e.comment}},{key:"save",value:function(){return{comment:this.comment}}}]),a}(n["DialogSection"]);Fl=Object(u["a"])([Object(n["Component"])({components:{DialogForm:_e,FormText:Ee},validations:{comment:{required:Ne["required"]}}})],Fl);var Nl=Fl,zl=Nl,Bl=Object(f["a"])(zl,Rl,Ml,!1,null,"568d0b5a",null),Vl=Bl.exports,Gl=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"generatePayload",value:function(){var e={};return Object.assign(e,this.$refs.details.save()),e}},{key:"reset",value:function(){this.$refs.details&&this.$refs.details.reset(),this.$refs.dialog.setActiveTab(0)}},{key:"load",value:function(e){this.reset(),this.$refs.details&&this.$refs.details.load(e)}},{key:"onCreateClicked",value:function(e){if(this.$refs.details.validate()){var t=this.generatePayload();this.$emit("payload",t)}else this.$refs.dialog.setActiveTab(0)}},{key:"icon",get:function(){return I.Script}}]),a}(n["DialogComponent"]);Object(u["a"])([Object(n["Prop"])()],Gl.prototype,"title",void 0),Object(u["a"])([Object(n["Prop"])()],Gl.prototype,"width",void 0),Object(u["a"])([Object(n["Prop"])()],Gl.prototype,"createLabel",void 0),Object(u["a"])([Object(n["Prop"])()],Gl.prototype,"cancelLabel",void 0),Object(u["a"])([Object(n["Prop"])()],Gl.prototype,"identifier",void 0),Gl=Object(u["a"])([Object(n["Component"])({components:{ScriptCloneFields:Vl}})],Gl);var Zl=Gl,Wl=Zl,Hl=Object(f["a"])(Wl,Il,ql,!1,null,null,null),Jl=Hl.exports,Ql=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"getDialog",value:function(){return this.$refs.dialog}},{key:"onCommit",value:function(e){this.commit(e)}},{key:"save",value:function(e){return e}},{key:"afterSave",value:function(e){this.$emit("save",e)}}]),a}(n["CreateDialogComponent"]);Object(u["a"])([Object(n["Prop"])()],Ql.prototype,"identifier",void 0),Object(u["a"])([Object(n["Prop"])()],Ql.prototype,"tenantToken",void 0),Ql=Object(u["a"])([Object(n["Component"])({components:{ScriptCloneDialog:Jl}})],Ql);var Yl=Ql,Kl=Yl,Xl=Object(f["a"])(Kl,Ll,Ul,!1,null,null,null),ec=Xl.exports,tc=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.scripts=[],e.selectedScript=null,e.scriptAfterRefresh=null,e.versions=[],e.selectedVersion=null,e.versionAfterRefresh=null,e.content="",e.loaded=!1,e}return Object(j["a"])(a,[{key:"created",value:function(){this.loaded=!1,this.refresh(),this.loaded=!0}},{key:"refresh",value:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.tenantToken){e.next=7;break}return e.next=3,$o(this.$store,this.identifier);case 3:t=e.sent,this.onScriptsRefreshed(t.data),e.next=11;break;case 7:return e.next=9,Ao(this.$store,this.identifier,this.tenantToken);case 9:a=e.sent,this.onScriptsRefreshed(a.data);case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onScriptsRefreshed",value:function(e){var t=this;this.scripts=e,this.scriptAfterRefresh&&(this.scripts.forEach((function(e){t.scriptAfterRefresh===e.id&&t.onScriptClicked(e)})),this.scriptAfterRefresh=null)}},{key:"onScriptCreate",value:function(){this.$refs.create.open()}},{key:"onScriptAdded",value:function(e){this.scriptAfterRefresh=e,this.refresh()}},{key:"onScriptClicked",value:function(e){this.selectedScript=e,this.versions=e.versions;var t=this.versionAfterRefresh;if(t)for(var a=0;a<e.versions.length;a++)t===e.versions[a].versionId&&(this.selectedVersion=e.versions[a],this.versionAfterRefresh=null);else e.versions.length>0&&(this.selectedVersion=e.versions[0])}},{key:"onVersionSelected",value:function(e){this.selectedVersion=e}},{key:"onContentUpdated",value:function(e){this.content=e}},{key:"onSave",value:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.selectedScript||!this.selectedVersion){e.next=11;break}if(t={id:this.selectedScript.id,name:this.selectedScript.name,description:this.selectedScript.description,type:this.selectedScript.type,content:btoa(this.content)},this.tenantToken){e.next=8;break}return e.next=5,Do(this.$store,this.identifier,this.selectedScript.id,this.selectedVersion.versionId,t);case 5:this.onContentSaved(),e.next=11;break;case 8:return e.next=10,Lo(this.$store,this.identifier,this.tenantToken,this.selectedScript.id,this.selectedVersion.versionId,t);case 10:this.onContentSaved();case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onContentSaved",value:function(){re(this,"Script Content Saved Successfully.")}},{key:"onClone",value:function(){this.$refs.clone.open()}},{key:"onSaveClone",value:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(t){var a,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a={comment:t.comment},!this.selectedScript||!this.selectedVersion){e.next=13;break}if(this.tenantToken){e.next=9;break}return e.next=5,wo(this.$store,this.identifier,this.selectedScript.id,this.selectedVersion.versionId,a);case 5:n=e.sent,this.onVersionCloned(n.data),e.next=13;break;case 9:return e.next=11,Uo(this.$store,this.identifier,this.tenantToken,this.selectedScript.id,this.selectedVersion.versionId,a);case 11:i=e.sent,this.onVersionCloned(i.data);case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"onVersionCloned",value:function(e){this.selectedScript&&(this.scriptAfterRefresh=this.selectedScript.id,this.versionAfterRefresh=e.versionId,this.refresh(),re(this,"Version Cloned Successfully."))}},{key:"onActivate",value:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.selectedScript||!this.selectedVersion){e.next=10;break}if(this.tenantToken){e.next=7;break}return e.next=4,So(this.$store,this.identifier,this.selectedScript.id,this.selectedVersion.versionId);case 4:this.onVersionActivated(),e.next=10;break;case 7:return e.next=9,Io(this.$store,this.identifier,this.tenantToken,this.selectedScript.id,this.selectedVersion.versionId);case 9:this.onVersionActivated();case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onVersionActivated",value:function(){this.selectedScript&&this.selectedVersion&&(this.scriptAfterRefresh=this.selectedScript.id,this.versionAfterRefresh=this.selectedVersion.versionId,this.refresh(),re(this,"Version Activated Successfully."))}},{key:"formatDate",value:function(e){return se(e)}},{key:"scriptTitle",get:function(){return this.selectedScript&&this.selectedVersion?this.selectedScript.id+"."+this.selectedScript.type:null}},{key:"versionIcon",get:function(){return Us(this.selectedScript,this.selectedVersion)?"check_circle":"power_settings_new"}},{key:"versionColor",get:function(){return Us(this.selectedScript,this.selectedVersion)?"#6c6":"#ccc"}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],tc.prototype,"tabkey",void 0),Object(u["a"])([Object(n["Prop"])()],tc.prototype,"identifier",void 0),Object(u["a"])([Object(n["Prop"])()],tc.prototype,"tenantToken",void 0),tc=Object(u["a"])([Object(n["Component"])({components:{CondensedToolbar:Fi,ScriptVersionList:Rs,ScriptsContentEditor:Gs,ScriptsCreateDialog:El,ScriptCreateCloneDialog:ec}})],tc);var ac=tc,nc=ac,ic=Object(f["a"])(nc,ws,Ss,!1,null,null,null),rc=ic.exports,oc=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.tenantToken=null,e.identifier=null,e.configuration=null,e.configurationModel=null,e.tenant=null,e.dirty=!1,e.loaded=!1,e}return Object(j["a"])(a,[{key:"created",value:function(){this.tenantToken=this.$route.params.token,this.identifier=this.$route.params.identifier,this.refresh()}},{key:"refresh",value:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loaded=!1,e.next=3,Promise.all([this.refreshModel(),this.refreshConfiguration(),this.refreshTenant()]);case 3:this.loaded=!0;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"refreshModel",value:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.identifier){e.next=11;break}return e.prev=1,e.next=4,Nn(this.$store,this.identifier);case 4:t=e.sent,this.configurationModel=t.data,e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](1),ie(e.t0);case 11:case"end":return e.stop()}}),e,this,[[1,8]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"refreshConfiguration",value:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.identifier||!this.tenantToken){e.next=12;break}return e.prev=1,e.next=4,Vn(this.$store,this.identifier,this.tenantToken);case 4:t=e.sent,this.configuration=t.data,this.loaded=!0,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](1),ie(e.t0);case 12:case"end":return e.stop()}}),e,this,[[1,9]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"refreshTenant",value:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.identifier||!this.tenantToken){e.next=13;break}return e.prev=1,t={},e.next=5,fa(this.$store,this.tenantToken,t);case 5:a=e.sent,this.tenant=a.data,this.$store.commit("selectedTenant",this.tenant),e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](1),ie(e.t0);case 13:case"end":return e.stop()}}),e,this,[[1,10]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"onConfigurationUpdated",value:function(){this.dirty=!0}},{key:"onSaveConfiguration",value:function(){var e=this;this.configuration&&this.identifier&&this.tenantToken&&Gn(this.$store,this.identifier,this.tenantToken,this.configuration).then((function(t){e.dirty=!1})).catch((function(e){console.log(e)}))}},{key:"onRevertConfiguration",value:function(){this.refreshConfiguration(),this.loaded=!1,this.dirty=!1}},{key:"onBackToList",value:function(){this.$router.push("/system/tenants/"+this.tenantToken)}},{key:"icon",get:function(){return I.Tenant}},{key:"title",get:function(){return this.configurationModel?this.configurationModel.microserviceDetails.name+" Microservice Configuration":"Tenant Microservice Configuration"}}]),a}(i["default"]);oc=Object(u["a"])([Object(n["Component"])({components:{TenantRuntimesBlock:Di,MicroserviceEditor:js,UnsavedUpdatesWarning:Ds,ScriptsManager:rc}})],oc);var sc=oc,lc=sc,cc=Object(f["a"])(lc,Yn,Kn,!1,null,null,null),uc=cc.exports,dc=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-list-page",{attrs:{icon:e.icon,title:"Users",loadingMessage:"Loading users ...",loaded:e.loaded,results:e.results},on:{pagingUpdated:e.onPagingUpdated}},[a("v-flex",{attrs:{xs12:""}},[a("v-data-table",{attrs:{headers:e.headers,items:e.matches,"hide-actions":!0,"no-data-text":"No Users Found"},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{attrs:{width:"5%",title:t.item.username}},[e._v(e._s(t.item.username))]),a("td",{attrs:{width:"5%",title:t.item.firstName}},[e._v(e._s(t.item.firstName))]),a("td",{attrs:{width:"10%",title:t.item.lastName}},[e._v(e._s(t.item.lastName))]),a("td",{attrs:{width:"5%",title:t.item.status}},[e._v(e._s(t.item.status))]),a("td",{attrs:{width:"15%",title:e.formatDate(t.item.createdDate)}},[e._v(e._s(e.formatDate(t.item.createdDate)))]),a("td",{attrs:{width:"15%",title:e.formatDate(t.item.updatedDate)}},[e._v(e._s(e.formatDate(t.item.updatedDate)))]),a("td",{staticClass:"action-buttons",attrs:{width:"12%"}},[a("actions-block",{on:{edit:function(a){return e.onEditUser(t.item.username)},delete:function(a){return e.onDeleteUser(t.item.username)}}})],1)]}}])})],1),a("template",{slot:"actions"},[a("sw-navigation-action-button",{attrs:{icon:"plus",tooltip:"Add User"},on:{action:e.onAddUser}})],1),a("template",{slot:"dialogs"},[a("user-create-dialog",{ref:"add",on:{created:e.refresh}}),a("user-update-dialog",{ref:"edit",on:{updated:e.refresh}}),a("user-delete-dialog",{ref:"delete",on:{deleted:e.refresh}})],1)],2)},pc=[],vc=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"actions-block"},[e.showEdit?a("sw-navigation-action-button",{attrs:{icon:"edit",tooltip:"Edit"},on:{action:e.onEditClicked}}):e._e(),e.showDelete?a("sw-navigation-action-button",{attrs:{icon:"times",tooltip:"Delete"},on:{action:e.onDeleteClicked}}):e._e()],1)},fc=[],mc=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"onEditClicked",value:function(e){this.$emit("edit")}},{key:"onDeleteClicked",value:function(e){this.$emit("delete")}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])({default:!0})],mc.prototype,"showEdit",void 0),Object(u["a"])([Object(n["Prop"])({default:!0})],mc.prototype,"showDelete",void 0),mc=Object(u["a"])([Object(n["Component"])({})],mc);var hc=mc,bc=hc,yc=Object(f["a"])(bc,vc,fc,!1,null,"b228f77a",null),gc=yc.exports,kc=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("user-dialog",{ref:"dialog",attrs:{title:"Create User",width:"600",createLabel:"Create",cancelLabel:"Cancel"},on:{payload:e.onCommit}})},Oc=[],jc=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-base-dialog",{ref:"dialog",attrs:{icon:e.icon,title:e.title,width:e.width,loaded:e.loaded,visible:e.dialogVisible,createLabel:e.createLabel,cancelLabel:e.cancelLabel},on:{createClicked:e.onCreateClicked,cancelClicked:e.onCancelClicked}},[a("template",{slot:"tabs"},[a("v-tab",{key:"details"},[e._v("User Details")]),a("v-tab",{key:"permissions"},[e._v("Permissions")]),a("v-tab",{key:"metadata"},[e._v("Metadata")])],1),a("template",{slot:"tab-items"},[a("v-tab-item",{key:"details"},[a("user-detail-fields",{ref:"details"})],1),a("v-tab-item",{key:"permissions"},[a("user-permissions",{ref:"permissions"})],1),a("v-tab-item",{key:"metadata"},[a("sw-metadata-panel",{ref:"metadata"})],1)],1)],2)},Cc=[],xc=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("dialog-form",[a("v-flex",{attrs:{xs12:""}},[a("form-text",{attrs:{required:"",label:"Username","hide-details":"",icon:"info"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}},[e.$v.username.$invalid&&e.$v.$dirty?a("span",[e._v("Username is required.")]):e._e()])],1),a("v-flex",{attrs:{xs6:""}},[a("form-text",{attrs:{type:"password",required:"",label:"Password",icon:"https"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}},[!e.$v.password.required&&e.$v.$dirty?a("span",[e._v("Password is required.")]):e._e(),!e.$v.password.minLength&&e.$v.$dirty?a("span",[e._v("Password minimum length is 6.")]):e._e()])],1),a("v-flex",{attrs:{xs6:""}},[a("form-text",{attrs:{type:"password",required:"",label:"Password (confirm)",icon:"https"},model:{value:e.passwordConfirm,callback:function(t){e.passwordConfirm=t},expression:"passwordConfirm"}},[!e.$v.passwordConfirm.sameAsPassword&&e.$v.$dirty?a("span",[e._v("Password does not match.")]):e._e()])],1),a("v-flex",{attrs:{xs12:""}},[a("form-text",{attrs:{required:"",label:"First name",icon:"info"},model:{value:e.firstName,callback:function(t){e.firstName=t},expression:"firstName"}},[e.$v.firstName.$invalid&&e.$v.$dirty?a("span",[e._v("First name is required.")]):e._e()])],1),a("v-flex",{attrs:{xs12:""}},[a("form-text",{attrs:{required:"",label:"Last name",icon:"info"},model:{value:e.lastName,callback:function(t){e.lastName=t},expression:"lastName"}},[e.$v.lastName.$invalid&&e.$v.$dirty?a("span",[e._v("Last name is required.")]):e._e()])],1),a("v-flex",{attrs:{xs12:""}},[a("form-select",{attrs:{required:"",items:e.statuses,label:"Account status",icon:"check_circle"},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}},[e.$v.status.$invalid&&e.$v.$dirty?a("span",[e._v("Account status is required.")]):e._e()])],1)],1)},$c=[],_c=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.username=null,e.password=null,e.passwordConfirm=null,e.firstName=null,e.lastName=null,e.status=null,e.statuses=[{text:"Active",value:"Active"},{text:"Expired",value:"Expired"},{text:"Locked",value:"Locked"}],e}return Object(j["a"])(a,[{key:"reset",value:function(){this.username=null,this.password=null,this.passwordConfirm=null,this.firstName=null,this.lastName=null,this.status=null,this.$v.$reset()}},{key:"validate",value:function(){return this.$v.$touch(),!this.$v.$invalid}},{key:"load",value:function(e){this.username=e.username,this.password=e.password,this.firstName=e.firstName,this.lastName=e.lastName,this.status=e.status}},{key:"save",value:function(){return{username:this.username,password:this.password,firstName:this.firstName,lastName:this.lastName,status:this.status}}}]),a}(n["DialogSection"]);_c=Object(u["a"])([Object(n["Component"])({components:{DialogForm:_e,FormText:Ee,FormSelect:Fe},validations:{username:{required:Ne["required"]},password:{required:Ne["required"],minLength:Object(Ne["minLength"])(6)},passwordConfirm:{sameAsPassword:Object(Ne["sameAs"])("password")},firstName:{required:Ne["required"]},lastName:{required:Ne["required"]},status:{required:Ne["required"]}}})],_c);var Tc=_c,Dc=Tc,wc=Object(f["a"])(Dc,xc,$c,!1,null,"a89f805c",null),Sc=wc.exports,Ac=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("dialog-form",[a("div",{staticClass:"tree-wrapper"},[a("v-treeview",{ref:"tree",attrs:{selectable:"",items:e.allPermissions,"item-children":"items","item-key":"id","item-text":"text"},model:{value:e.authorities,callback:function(t){e.authorities=t},expression:"authorities"}})],1)])},Pc=[],Ec=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.authorities=[],e.allPermissions=[],e}return Object(j["a"])(a,[{key:"reset",value:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.authorities=[],this.$v.$reset(),e.prev=2,e.next=5,yt(this.$store);case 5:t=e.sent,this.allPermissions=t.data,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),ie(e.t0);case 12:case"end":return e.stop()}}),e,this,[[2,9]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"validate",value:function(){return this.$v.$touch(),!this.$v.$invalid}},{key:"load",value:function(e){this.authorities=e.authorities}},{key:"save",value:function(){return{authorities:this.authorities}}}]),a}(n["DialogSection"]);Ec=Object(u["a"])([Object(n["Component"])({components:{DialogForm:_e},validations:{}})],Ec);var Lc=Ec,Uc=Lc,Ic=(a("68f6"),Object(f["a"])(Uc,Ac,Pc,!1,null,"e5b0aa88",null)),qc=Ic.exports,Rc=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"generatePayload",value:function(){var e={};return Object.assign(e,this.$refs.details.save(),this.$refs.permissions.save(),this.$refs.metadata.save()),e}},{key:"reset",value:function(){this.$refs.details&&this.$refs.details.reset(),this.$refs.permissions&&this.$refs.permissions.reset(),this.$refs.metadata&&this.$refs.metadata.reset(),this.$refs.dialog.setActiveTab(0)}},{key:"load",value:function(e){this.reset(),this.$refs.details&&this.$refs.details.load(e),this.$refs.permissions&&this.$refs.permissions.load(e),this.$refs.metadata&&this.$refs.metadata.load(e)}},{key:"onCreateClicked",value:function(e){if(this.$refs.details.validate())if(this.$refs.permissions.validate()){var t=this.generatePayload();console.log("Before payload emit:",this),this.$emit("payload",t)}else this.$refs.dialog.setActiveTab(1);else this.$refs.dialog.setActiveTab(0)}},{key:"icon",get:function(){return I.User}}]),a}(n["DialogComponent"]);Rc=Object(u["a"])([Object(n["Component"])({components:{UserDetailFields:Sc,UserPermissions:qc}})],Rc);var Mc=Rc,Fc=Mc,Nc=Object(f["a"])(Fc,jc,Cc,!1,null,null,null),zc=Nc.exports,Bc=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"getDialog",value:function(){return this.$refs.dialog}},{key:"onCommit",value:function(e){this.commit(e)}},{key:"save",value:function(e){return vt(this.$store,e)}},{key:"afterSave",value:function(e){this.$emit("userAdded",e)}}]),a}(n["CreateDialogComponent"]);Bc=Object(u["a"])([Object(n["Component"])({components:{UserDialog:zc}})],Bc);var Vc=Bc,Gc=Vc,Zc=Object(f["a"])(Gc,kc,Oc,!1,null,"3115253c",null),Wc=Zc.exports,Hc=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("user-dialog",{ref:"dialog",attrs:{title:"Update User",loaded:e.loaded,createLabel:"Update",cancelLabel:"Cancel"},on:{payload:e.onSave}})},Jc=[],Qc=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"getDialog",value:function(){return this.$refs.dialog}},{key:"prepareLoad",value:function(e){var t={};return ft(this.$store,e,t)}},{key:"prepareSave",value:function(e,t){return mt(this.$store,e.username,t)}},{key:"onSave",value:function(e){this.save(e)}},{key:"afterSave",value:function(e){this.$emit("userUpdated",e)}}]),a}(n["EditDialogComponent"]);Qc=Object(u["a"])([Object(n["Component"])({components:{UserDialog:zc}})],Qc);var Yc=Qc,Kc=Yc,Xc=Object(f["a"])(Kc,Hc,Jc,!1,null,"5f9ebed0",null),eu=Xc.exports,tu=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-delete-dialog",{ref:"dialog",attrs:{title:"Delete User",width:"400",visible:e.visible},on:{delete:e.onDelete,cancel:e.onCancel}},[a("v-card-text",[e._v(e._s(e.message))])],1)},au=[],nu=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.message=null,e}return Object(j["a"])(a,[{key:"prepareLoad",value:function(e){var t={};return ft(this.$store,e,t)}},{key:"afterLoad",value:function(e){this.message="Are you sure you want to delete '".concat(e.firstName," ").concat(e.lastName,"'?")}},{key:"prepareDelete",value:function(e){return ht(this.$store,e.username)}},{key:"onDelete",value:function(e){this.delete()}},{key:"onCancel",value:function(e){this.cancel()}}]),a}(n["DeleteDialogComponent"]);nu=Object(u["a"])([Object(n["Component"])({})],nu);var iu=nu,ru=iu,ou=Object(f["a"])(ru,tu,au,!1,null,"f16589a6",null),su=ou.exports,lu=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.headers=[{align:"left",sortable:!1,text:"User Name",value:"username"},{align:"left",sortable:!1,text:"First Name",value:"firstname"},{align:"left",sortable:!1,text:"Last Name",value:"lastname"},{align:"left",sortable:!1,text:"Status",value:"status"},{align:"left",sortable:!1,text:"Created",value:"created"},{align:"left",sortable:!1,text:"Updated",value:"updated"},{align:"left",sortable:!1,text:"Actions",value:"actions"}],e.pageSizes=[{text:"25",value:25},{text:"50",value:50},{text:"100",value:100}],e}return Object(j["a"])(a,[{key:"buildSearchCriteria",value:function(){var e={};return e}},{key:"buildResponseFormat",value:function(){var e={};return e}},{key:"performSearch",value:function(e,t){return bt(this.$store,e,t)}},{key:"onAddUser",value:function(){this.$refs.add.open()}},{key:"onEditUser",value:function(e){this.$refs.edit.open(e)}},{key:"onDeleteUser",value:function(e){this.$refs.delete.open(e)}},{key:"formatDate",value:function(e){se(e)}},{key:"icon",get:function(){return I.User}}]),a}(n["ListComponent"]);lu=Object(u["a"])([Object(n["Component"])({components:{ActionsBlock:gc,UserCreateDialog:Wc,UserUpdateDialog:eu,UserDeleteDialog:su}})],lu);var cu=lu,uu=cu,du=Object(f["a"])(uu,dc,pc,!1,null,"a5be8e6a",null),pu=du.exports,vu=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-detail-page",{attrs:{icon:e.icon,title:"Global Microservices",loadingMessage:"Loading global microservices list ...",loaded:e.loaded,record:e.topology}},[a("template",{slot:"tabs"},[a("v-tab",{key:"microservices"},[e._v("Microservices")])],1),a("template",{slot:"tab-items"},[a("v-tab-item",{key:"microservices"},[a("microservice-list",{attrs:{topology:e.topology},on:{microserviceClicked:e.onMicroserviceClicked}})],1)],1)],2)},fu=[],mu=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"loadRecord",value:function(e){return Rn(this.$store)}},{key:"afterRecordLoaded",value:function(e){var t={id:"global",title:"Global Microservices",icon:"globe",route:"/system/microservices",longTitle:"Manage Global Microservices"};this.$store.commit("currentSection",t)}},{key:"onMicroserviceClicked",value:function(e){this.$router.push("/system/microservices/"+e.identifier)}},{key:"topology",get:function(){return this.record}},{key:"icon",get:function(){return I.Global}}]),a}(n["DetailComponent"]);mu=Object(u["a"])([Object(n["Component"])({components:{MicroserviceList:qn}})],mu);var hu=mu,bu=hu,yu=Object(f["a"])(bu,vu,fu,!1,null,null,null),gu=yu.exports,ku=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-detail-page",{attrs:{icon:e.icon,title:"Manage Global Microservice",loadingMessage:"Loading microservice configuration ...",loaded:e.loaded,record:e.configuration}},[a("template",{slot:"header"},[a("unsaved-updates-warning",{staticClass:"mb-3",attrs:{unsaved:e.dirty},on:{save:e.onSaveConfiguration,revert:e.onRevertConfiguration}})],1),a("template",{slot:"tabs"},[a("v-tab",{key:"configuration"},[e._v("Configuration")]),a("v-tab",{key:"scripts"},[e._v("Scripts")])],1),a("template",{slot:"tab-items"},[a("microservice-editor",{attrs:{tabkey:"configuration",configuration:e.configuration,configurationModel:e.configurationModel,identifier:e.identifier},on:{dirty:e.onConfigurationUpdated}}),a("scripts-manager",{attrs:{tabkey:"scripts",identifier:e.identifier}})],1),a("template",{slot:"actions"},[a("sw-navigation-action-button",{attrs:{icon:"arrow-left",tooltip:"Back To Global Microservices"},on:{action:e.onBackToList}})],1)],2)},Ou=[],ju=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.configuration=null,e.dirty=!1,e}return Object(j["a"])(a,[{key:"getTokenParameter",value:function(){return"identifier"}},{key:"loadRecord",value:function(e){return this.refreshGlobalConfiguration(e),Nn(this.$store,e)}},{key:"afterRecordLoaded",value:function(e){var t={id:"global",title:"Manage Microservice",icon:e.microserviceDetails.icon,route:"/system/microservices/"+e.microserviceDetails.identifier,longTitle:"Manage Global Microservice: "+e.microserviceDetails.name};this.$store.commit("currentSection",t)}},{key:"refreshGlobalConfiguration",value:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,zn(this.$store,t);case 3:a=e.sent,this.configuration=a.data,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),ie(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"onConfigurationUpdated",value:function(){this.dirty=!0}},{key:"onSaveConfiguration",value:function(){var e=this;Bn(this.$store,this.$data.identifier,this.$data.config).then((function(t){e.$data.dirty=!1})).catch((function(e){}))}},{key:"onRevertConfiguration",value:function(){this.refresh(),this.$data.dirty=!1}},{key:"onBackToList",value:function(){this.$router.push("/system/microservices")}},{key:"configurationModel",get:function(){return this.record}},{key:"identifier",get:function(){return this.record?this.record.microserviceDetails.identifier:null}},{key:"icon",get:function(){return I.Tenant}}]),a}(n["DetailComponent"]);ju=Object(u["a"])([Object(n["Component"])({components:{MicroserviceEditor:js,UnsavedUpdatesWarning:Ds,ScriptsManager:rc}})],ju);var Cu=ju,xu=Cu,$u=Object(f["a"])(xu,ku,Ou,!1,null,null,null),_u=$u.exports,Tu=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.tenant?a("v-app",[a("sw-in-app-system-bar",{staticStyle:{"-webkit-app-region":"drag"}}),a("v-navigation-drawer",{staticStyle:{"margin-top":"25px"},attrs:{fixed:"",permanent:!0,app:""},model:{value:e.drawer,callback:function(t){e.drawer=t},expression:"drawer"}},[a("v-toolbar",{staticClass:"elevation-1",staticStyle:{height:"47px"},attrs:{color:"#fff",dense:""}},[a("div",{staticClass:"tenant-logo",style:e.tenantLogoStyle}),a("v-spacer"),a("v-tooltip",{attrs:{bottom:""}},[a("v-btn",{staticClass:"ma-0",attrs:{slot:"activator",icon:""},on:{click:e.onInstanceSettings},slot:"activator"},[a("v-icon",{staticClass:"grey--text text--darken-1"},[e._v("settings")])],1),a("span",[e._v("Instance Settings")])],1),a("v-tooltip",{attrs:{bottom:""}},[a("v-btn",{staticClass:"ma-0",attrs:{slot:"activator",icon:""},on:{click:e.onLogOut},slot:"activator"},[a("v-icon",{staticClass:"grey--text text--darken-1"},[e._v("exit_to_app")])],1),a("span",[e._v("Log Out")])],1)],1),a("sw-navigation",{attrs:{sections:e.sections},on:{sectionSelected:e.onSectionClicked}})],1),a("v-content",[a("v-container",{staticClass:"pa-0",attrs:{fluid:"","fill-height":""}},[a("v-layout",[a("v-flex",{attrs:{"fill-height":""}},[a("router-view")],1)],1)],1)],1),a("sw-in-app-footer",[a("copyright")],1),a("notifications")],1):e._e()},Du=[],wu=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.drawer=!0,e.sections=[{id:"deviceGroup",title:"Device Management",icon:I.Device,route:"devices",longTitle:"Manage Devices",subsections:[{id:"devicetypes",title:"Device Types",icon:I.DeviceType,route:"devicetypes",longTitle:"Manage Device Types"},{id:"devices",title:"Devices",icon:I.Device,route:"devices",longTitle:"Manage Devices"},{id:"assignments",title:"Device Assignments",icon:I.DeviceAssignment,route:"assignments",longTitle:"Manage Assignments"},{id:"groups",title:"Device Groups",icon:I.DeviceGroup,route:"groups",longTitle:"Manage Device Groups"}]},{id:"customersGroup",title:"Customer Management",icon:I.Customer,route:"customers",longTitle:"Manage Customers",subsections:[{id:"customertypes",title:"Customer Types",icon:I.CustomerType,route:"customertypes",longTitle:"Manage Customer Types"},{id:"customers",title:"Customers",icon:I.Customer,route:"customers",longTitle:"Manage Customers"}]},{id:"areasGroup",title:"Area Management",icon:I.Area,route:"areas",longTitle:"Manage Areas",subsections:[{id:"areatypes",title:"Area Types",icon:I.AreaType,route:"areatypes",longTitle:"Manage Area Types"},{id:"areas",title:"Areas",icon:I.Area,route:"areas",longTitle:"Manage Areas"}]},{id:"assetGroup",title:"Asset Management",icon:I.Asset,route:"assets",longTitle:"Manage Assets",subsections:[{id:"assettypes",title:"Asset Types",icon:I.AssetType,route:"assettypes",longTitle:"Manage Asset Types"},{id:"assets",title:"Assets",icon:I.Asset,route:"assets",longTitle:"Manage Assets"}]},{id:"batch",title:"Batch Operations",icon:I.BatchOperation,route:"batch",longTitle:"Manage Batch Operations"},{id:"schedules",title:"Schedules",icon:I.Schedule,route:"schedules",longTitle:"Manage Schedules"}],e.userActions=[{id:"sysadmin",title:"System Administration",icon:"cog"},{id:"logout",title:"Log Out",icon:"power-off"}],e}return Object(j["a"])(a,[{key:"created",value:function(){this.refreshJwt();var e=this.$store.getters.user;if(e){var t=this.$route.params.tenantToken;if(t){this.tenantToken=t;var a=this.$store.getters.selectedTenant;a&&a.token===this.tenantToken?(this.tenant=a,console.log(a),this.onSectionClicked(this.$data.sections[0])):this.loadTenant()}else this.onLogOut()}else this.onLogOut()}},{key:"onSectionClicked",value:function(e){this.$store.commit("currentSection",e),this.$router.push("/tenants/"+this.tenantToken+"/"+e.route)}},{key:"onLogOut",value:function(){this.$store.commit("logOut"),this.$router.push("/")}},{key:"loadTenant",value:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t={},e.next=4,fa(this.$store,this.tenantToken,t);case 4:a=e.sent,this.onTenantLoaded(a.data),e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](0),console.log("Unable to load tenant "+this.tenantToken+". Logging out!"),this.onLogOut();case 12:case"end":return e.stop()}}),e,this,[[0,8]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"onTenantLoaded",value:function(e){this.tenant=e,console.log(this.tenant),this.$store.commit("selectedTenant",e),this.onSectionClicked(this.$data.sections[0])}},{key:"onInstanceSettings",value:function(){this.$router.push("/system")}},{key:"refreshJwt",value:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){var t,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this,e.prev=1,e.next=4,pt(this.$store);case 4:a=e.sent,console.log("Refreshed JWT."),n=a.headers["x-sitewhere-jwt"],this.$store.commit("jwt",n),setTimeout((function(){t.refreshJwt()}),3e5),e.next=16;break;case 11:e.prev=11,e.t0=e["catch"](1),ie(e.t0),console.log("Could not update JWT."),t.onLogOut();case 16:case"end":return e.stop()}}),e,this,[[1,11]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"tenantLogoStyle",get:function(){return{backgroundImage:this.tenant?"url("+this.tenant.imageUrl+")":""}}},{key:"user",get:function(){return this.$store.getters.user}},{key:"section",get:function(){return this.$store.getters.currentSection}},{key:"fullname",get:function(){var e=this.$store.getters.user;if(e){var t=this.$store.getters.user.firstName,a=this.$store.getters.user.lastName;return a.length>1?t+" "+a:t}return"Not Logged In"}},{key:"loading",get:function(){return this.$store.getters.loading}},{key:"error",get:function(){return this.$store.getters.error}}]),a}(i["default"]);wu=Object(u["a"])([Object(n["Component"])({components:{Copyright:Ft,Notifications:Wt}})],wu);var Su=wu,Au=Su,Pu=(a("4bae"),Object(f["a"])(Au,Tu,Du,!1,null,"42a6db42",null)),Eu=Pu.exports,Lu=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div")},Uu=[],Iu={data:function(){return{}},created:function(){}},qu=Iu,Ru=Object(f["a"])(qu,Lu,Uu,!1,null,"16545647",null),Mu=Ru.exports,Fu=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-list-page",{attrs:{icon:e.icon,title:"Customer Types",loadingMessage:"Loading customer types ...",loaded:e.loaded,results:e.results},on:{pagingUpdated:e.onPagingUpdated}},[a("sw-list-layout",e._l(e.matches,(function(t){return a("v-flex",{key:t.token,attrs:{xs6:""}},[a("customer-type-list-entry",{attrs:{customerType:t},on:{open:e.onOpenCustomerType}})],1)})),1),a("template",{slot:"noresults"},[a("no-results-panel",[a("div",[e._v("No customer types have been created for this tenant.")]),a("div",{staticClass:"mt-2"},[e._v(" Click "),a("v-icon",{staticClass:"pl-1 pr-2",attrs:{small:""}},[e._v(e._s(e.addIcon))]),e._v("in the toolbar to add a customer type. ")],1)])],1),a("template",{slot:"dialogs"},[a("customer-type-create-dialog",{ref:"add",attrs:{customerTypes:e.matches},on:{customerTypeAdded:e.refresh}})],1),a("template",{slot:"actions"},[a("add-button",{attrs:{tooltip:"Add Customer Type"},on:{action:e.onAddCustomerType}})],1)],2)},Nu=[],zu=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-list-entry",[a("v-container",{on:{click:e.onCustomerTypeClicked}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs2:""}},[a("branding-image",{style:e.logoStyle,attrs:{entity:e.customerType,iconSize:"3x"}})],1),a("v-flex",{attrs:{xs10:""}},[a("div",[a("div",{staticClass:"title ellipsis mt-1 mb-2"},[e._v(e._s(e.customerType.name))]),a("div",{staticClass:"ctdesc"},[e._v(e._s(e.customerType.description))])])])],1)],1)],1)},Bu=[],Vu=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.imageUrl?a("sw-image-zoom-on-hover",{attrs:{imageUrl:e.imageUrl}}):e.icon?a("span",{staticClass:"icon-style"},[a("font-awesome-icon",{staticClass:"grey--text mt-2",attrs:{icon:e.icon,size:e.iconSize}})],1):e._e()},Gu=[],Zu=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"imageUrl",get:function(){return this.entity?this.entity.imageUrl:null}},{key:"icon",get:function(){return this.entity?this.entity.icon:null}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],Zu.prototype,"entity",void 0),Object(u["a"])([Object(n["Prop"])({default:"5x"})],Zu.prototype,"iconSize",void 0),Zu=Object(u["a"])([Object(n["Component"])({})],Zu);var Wu=Zu,Hu=Wu,Ju=(a("ce4e8"),Object(f["a"])(Hu,Vu,Gu,!1,null,"7d00808c",null)),Qu=Ju.exports,Yu=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"onCustomerTypeClicked",value:function(){this.$emit("open",this.customerType)}},{key:"logoStyle",get:function(){return{height:"80px",width:"80px"}}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],Yu.prototype,"customerType",void 0),Yu=Object(u["a"])([Object(n["Component"])({components:{BrandingImage:Qu}})],Yu);var Ku=Yu,Xu=Ku,ed=(a("2d8b"),Object(f["a"])(Xu,zu,Bu,!1,null,"266888a1",null)),td=ed.exports,ad=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("customer-type-dialog",{ref:"dialog",attrs:{title:"Create Customer Type",width:"600",createLabel:"Create",cancelLabel:"Cancel"},on:{payload:e.onCommit}})},nd=[],id=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-base-dialog",{ref:"dialog",attrs:{icon:e.icon,title:e.title,width:e.width,loaded:e.loaded,visible:e.dialogVisible,createLabel:e.createLabel,cancelLabel:e.cancelLabel},on:{createClicked:e.onCreateClicked,cancelClicked:e.onCancelClicked}},[a("template",{slot:"tabs"},[a("v-tab",{key:"details"},[e._v("Details")]),a("v-tab",{key:"content"},[e._v("Content")]),a("v-tab",{key:"branding"},[e._v("Branding")]),a("v-tab",{key:"metadata"},[e._v("Metadata")])],1),a("template",{slot:"tab-items"},[a("v-tab-item",{key:"details"},[a("customer-type-detail-fields",{ref:"details"})],1),a("v-tab-item",{key:"content"},[a("customer-type-content-fields",{ref:"content"})],1),a("v-tab-item",{key:"branding"},[a("branding-panel",{ref:"branding"})],1),a("v-tab-item",{key:"metadata"},[a("sw-metadata-panel",{ref:"metadata"})],1)],1)],2)},rd=[],od=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("dialog-form",[a("v-flex",{attrs:{xs12:""}},[a("form-token",{attrs:{required:"",label:"Customer type token",title:"Unique token for referencing customer type.",validator:e.$v},model:{value:e.token,callback:function(t){e.token=t},expression:"token"}})],1),a("v-flex",{attrs:{xs12:""}},[a("form-text",{attrs:{required:"",label:"Name",title:"Name displayed for customer type.",icon:"info"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}},[e.$v.name.$invalid&&e.$v.$dirty?a("span",[e._v("Name is required.")]):e._e()])],1),a("v-flex",{attrs:{xs12:""}},[a("form-text-area",{attrs:{required:"",title:"Customer type description.",label:"Description",icon:"info"},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}},[e.$v.description.$invalid&&e.$v.$dirty?a("span",[e._v("Description is required.")]):e._e()])],1)],1)},sd=[],ld=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mb-3"},[a("v-text-field",{attrs:{required:e.required,title:e.title,label:"Token",placeholder:" ","hide-details":"","prepend-icon":"vpn_key"},model:{value:e.wrapped,callback:function(t){e.wrapped=t},expression:"wrapped"}}),a("div",{staticClass:"verror"},[e._t("default",[!e.validator.token.required&&e.validator.$dirty?a("span",[e._v(e._s(e.label||"Token")+" is required.")]):e._e(),!e.validator.token.validToken&&e.validator.$dirty?a("span",[e._v(e._s(e.label||"Token")+" is not valid (Alphanumeric with '-' or '_').")]):e._e()])],2)],1)},cd=[],ud=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"wrapped",get:function(){return this.value},set:function(e){this.$emit("input",e)}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],ud.prototype,"title",void 0),Object(u["a"])([Object(n["Prop"])()],ud.prototype,"label",void 0),Object(u["a"])([Object(n["Prop"])()],ud.prototype,"required",void 0),Object(u["a"])([Object(n["Prop"])()],ud.prototype,"value",void 0),Object(u["a"])([Object(n["Prop"])()],ud.prototype,"validator",void 0),ud=Object(u["a"])([Object(n["Component"])({})],ud);var dd=ud,pd=dd,vd=Object(f["a"])(pd,ld,cd,!1,null,null,null),fd=vd.exports,md=Ne["helpers"].regex("validToken",/^[a-zA-Z0-9-_]+$/),hd=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.token=null,e.name=null,e.description=null,e}return Object(j["a"])(a,[{key:"reset",value:function(){this.token=null,this.name=null,this.description=null,this.$v.$reset()}},{key:"validate",value:function(){return this.$v.$touch(),!this.$v.$invalid}},{key:"load",value:function(e){this.token=e.token,this.name=e.name,this.description=e.description}},{key:"save",value:function(){return{token:this.token,name:this.name,description:this.description}}}]),a}(n["DialogSection"]);hd=Object(u["a"])([Object(n["Component"])({components:{DialogForm:_e,FormToken:fd,FormText:Ee,FormTextArea:il},validations:{token:{required:Ne["required"],validToken:md},name:{required:Ne["required"]},description:{required:Ne["required"]}}})],hd);var bd=hd,yd=bd,gd=Object(f["a"])(yd,od,sd,!1,null,null,null),kd=gd.exports,Od=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("dialog-form",[a("v-flex",{attrs:{xs12:""}},[a("customer-type-multiselect",{attrs:{idMode:!0,value:e.containedCustomerTypeIds},on:{input:e.onSelectionUpdated}})],1)],1)},jd=[],Cd=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("multichooser",{attrs:{idMode:e.idMode,all:e.all},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})},xd=[],$d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-data-table",{staticClass:"scrolling-list",attrs:{items:e.all,"item-key":"token","hide-headers":"","hide-actions":""},scopedSlots:e._u([{key:"items",fn:function(t){return[a("tr",{staticStyle:{cursor:"pointer"},attrs:{active:t.selected},on:{click:function(e){t.selected=!t.selected}}},[a("td",[a("v-checkbox",{attrs:{color:"#666","input-value":t.selected,"hide-details":""}})],1),a("td",{staticClass:"pa-2",attrs:{width:"5%"}},[a("v-avatar",{attrs:{size:"36px"}},[t.item.imageUrl?a("img",{attrs:{src:t.item.imageUrl}}):e._e(),t.item.icon?a("font-awesome-icon",{staticClass:"grey--text",attrs:{icon:t.item.icon,size:"2x"}}):e._e()],1)],1),a("td",{staticClass:"subheading pa-2",attrs:{width:"90%"}},[e._v(e._s(t.item.name))])])]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})},_d=[],Td=(a("caad"),a("2532"),function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.selected=[],e}return Object(j["a"])(a,[{key:"onValueUpdated",value:function(e){if(e){if(this.selected.length!=e.length||!this.selected.every((function(t){return e.includes(t.token)}))){var t=[];this.idMode?this.all.forEach((function(a){e.indexOf(a.id)>-1&&t.push(a)})):this.all.forEach((function(a){e.indexOf(a.token)>-1&&t.push(a)})),this.selected=t}}else this.selected=[]}},{key:"onSelectionUpdated",value:function(e){var t=[];this.selected.forEach((function(e){t.push(e.token)})),this.$emit("input",t)}}]),a}(i["default"]));Object(u["a"])([Object(n["Prop"])()],Td.prototype,"value",void 0),Object(u["a"])([Object(n["Prop"])()],Td.prototype,"all",void 0),Object(u["a"])([Object(n["Prop"])({default:!1})],Td.prototype,"idMode",void 0),Object(u["a"])([Object(n["Watch"])("value",{immediate:!0})],Td.prototype,"onValueUpdated",null),Object(u["a"])([Object(n["Watch"])("selected",{immediate:!0})],Td.prototype,"onSelectionUpdated",null),Td=Object(u["a"])([Object(n["Component"])({})],Td);var Dd=Td,wd=Dd,Sd=(a("0f7d"),Object(f["a"])(wd,$d,_d,!1,null,"2b244044",null)),Ad=Sd.exports;function Pd(e,t){var a=lt(e),n=B["API"].CustomerTypes.createCustomerType(a,t);return ut(e,n)}function Ed(e,t,a){var n=lt(e),i=B["API"].CustomerTypes.getCustomerType(n,t,a);return ut(e,i)}function Ld(e,t,a){var n=lt(e),i=B["API"].CustomerTypes.updateCustomerType(n,t,a);return ut(e,i)}function Ud(e,t,a){var n=lt(e),i=B["API"].CustomerTypes.listCustomerTypes(n,t,a);return ut(e,i)}function Id(e,t){var a=lt(e),n=B["API"].CustomerTypes.deleteCustomerType(a,t);return ut(e,n)}var qd=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.selected=[],e.all=[],e}return Object(j["a"])(a,[{key:"created",value:function(){this.refresh()}},{key:"refresh",value:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){var t,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={},a={},e.next=4,Ud(this.$store,a,t);case 4:n=e.sent,this.all=n.data.results;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onValuesSet",value:function(e){this.selected=e}},{key:"onSelectionUpdated",value:function(e){this.$emit("input",e)}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],qd.prototype,"value",void 0),Object(u["a"])([Object(n["Prop"])({default:!1})],qd.prototype,"idMode",void 0),Object(u["a"])([Object(n["Watch"])("value",{immediate:!0})],qd.prototype,"onValuesSet",null),Object(u["a"])([Object(n["Watch"])("selected",{immediate:!0})],qd.prototype,"onSelectionUpdated",null),qd=Object(u["a"])([Object(n["Component"])({components:{Multichooser:Ad}})],qd);var Rd=qd,Md=Rd,Fd=Object(f["a"])(Md,Cd,xd,!1,null,null,null),Nd=Fd.exports,zd=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.containedCustomerTypeIds=[],e.containedCustomerTypeTokens=[],e}return Object(j["a"])(a,[{key:"reset",value:function(){this.containedCustomerTypeIds=[]}},{key:"validate",value:function(){return!0}},{key:"onSelectionUpdated",value:function(e){this.containedCustomerTypeTokens=e}},{key:"load",value:function(e){this.containedCustomerTypeIds=e.containedCustomerTypeIds}},{key:"save",value:function(){return{containedCustomerTypeTokens:this.containedCustomerTypeTokens}}}]),a}(n["DialogSection"]);zd=Object(u["a"])([Object(n["Component"])({components:{DialogForm:_e,CustomerTypeMultiselect:Nd}})],zd);var Bd=zd,Vd=Bd,Gd=Object(f["a"])(Vd,Od,jd,!1,null,null,null),Zd=Gd.exports,Wd=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"generatePayload",value:function(){var e={};return Object.assign(e,this.$refs.details.save(),this.$refs.content.save(),this.$refs.branding.save(),this.$refs.metadata.save()),e}},{key:"reset",value:function(){this.$refs.details&&this.$refs.details.reset(),this.$refs.content&&this.$refs.content.reset(),this.$refs.branding&&this.$refs.branding.reset(),this.$refs.metadata&&this.$refs.metadata.reset(),this.$refs.dialog.setActiveTab(0)}},{key:"load",value:function(e){this.reset(),this.$refs.details&&this.$refs.details.load(e),this.$refs.content&&this.$refs.content.load(e),this.$refs.branding&&this.$refs.branding.load(e),this.$refs.metadata&&this.$refs.metadata.load(e)}},{key:"onCreateClicked",value:function(e){if(this.$refs.details.validate())if(this.$refs.content.validate())if(this.$refs.branding.validate()){var t=this.generatePayload();this.$emit("payload",t)}else this.$refs.dialog.setActiveTab(1);else this.$refs.dialog.setActiveTab(0);else this.$refs.dialog.setActiveTab(0)}},{key:"icon",get:function(){return I.CustomerType}}]),a}(n["DialogComponent"]);Wd=Object(u["a"])([Object(n["Component"])({components:{CustomerTypeDetailFields:kd,CustomerTypeContentFields:Zd,BrandingPanel:Pa}})],Wd);var Hd=Wd,Jd=Hd,Qd=Object(f["a"])(Jd,id,rd,!1,null,null,null),Yd=Qd.exports,Kd=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"getDialog",value:function(){return this.$refs.dialog}},{key:"onCommit",value:function(e){this.commit(e)}},{key:"save",value:function(e){return Pd(this.$store,e)}},{key:"afterSave",value:function(e){this.$emit("customerTypeAdded",e)}}]),a}(n["CreateDialogComponent"]);Kd=Object(u["a"])([Object(n["Component"])({components:{CustomerTypeDialog:Yd}})],Kd);var Xd=Kd,ep=Xd,tp=Object(f["a"])(ep,ad,nd,!1,null,null,null),ap=tp.exports,np=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-navigation-action-button",{attrs:{material:"true",icon:e.icon,tooltip:e.tooltip},on:{action:e.onAction}})},ip=[],rp=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"onAction",value:function(){this.$emit("action")}},{key:"icon",get:function(){return I.Add}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],rp.prototype,"tooltip",void 0),rp=Object(u["a"])([Object(n["Component"])({})],rp);var op=rp,sp=op,lp=Object(f["a"])(sp,np,ip,!1,null,"4b26f29d",null),cp=lp.exports,up=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{attrs:{flat:"",height:"100%"}},[a("div",{staticClass:"no-results"},[a("div",{staticClass:"no-results-content subheading"},[e._t("default")],2)])])},dp=[],pp=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return a}(i["default"]);pp=Object(u["a"])([Object(n["Component"])({})],pp);var vp=pp,fp=vp,mp=(a("3619"),Object(f["a"])(fp,up,dp,!1,null,"115f9e30",null)),hp=mp.exports,bp=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.addIcon=I.Add,e}return Object(j["a"])(a,[{key:"buildSearchCriteria",value:function(){var e={};return e}},{key:"buildResponseFormat",value:function(){var e={includeContainedCustomerTypes:!0};return e}},{key:"performSearch",value:function(e,t){return Ud(this.$store,e,t)}},{key:"onOpenCustomerType",value:function(e){ue(this,"/customertypes/"+e.token)}},{key:"onAddCustomerType",value:function(){this.$refs.add.open()}},{key:"icon",get:function(){return I.CustomerType}}]),a}(n["ListComponent"]);bp=Object(u["a"])([Object(n["Component"])({components:{CustomerTypeListEntry:td,CustomerTypeCreateDialog:ap,AddButton:cp,NoResultsPanel:hp}})],bp);var yp=bp,gp=yp,kp=Object(f["a"])(gp,Fu,Nu,!1,null,null,null),Op=kp.exports,jp=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-detail-page",{attrs:{icon:e.icon,title:e.title,loadingMessage:"Loading customer type ...",loaded:e.loaded,record:e.customerType}},[a("template",{slot:"header"},[a("customer-type-detail-header",{attrs:{record:e.customerType},on:{customerTypeDeleted:e.onCustomerTypeDeleted,customerTypeUpdated:e.onCustomerTypeUpdated}})],1),a("template",{slot:"tabs"},[a("v-tab",{key:"instances"},[e._v("Customers of Type")])],1),a("template",{slot:"tab-items"},[a("customer-type-customers",{key:"instances",attrs:{customerTypeToken:e.token}})],1),a("template",{slot:"dialogs"},[a("customer-type-update-dialog",{ref:"edit",attrs:{token:e.token},on:{customerTypeUpdated:e.onCustomerTypeUpdated}}),a("customer-type-delete-dialog",{ref:"delete",attrs:{token:e.token},on:{customerTypeDeleted:e.onCustomerTypeDeleted}})],1),a("template",{slot:"actions"},[a("edit-button",{attrs:{tooltip:"Edit Customer Type"},on:{action:e.onEdit}}),a("delete-button",{attrs:{tooltip:"Delete Customer Type"},on:{action:e.onDelete}})],1)],2)},Cp=[],xp=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.customerType?a("sw-navigation-header-panel",{attrs:{icon:e.icon,height:"200px"}},[a("template",{slot:"left"},[a("sw-header-branding-panel",{attrs:{entity:e.customerType}})],1),a("template",{slot:"content"},[a("sw-navigation-header-fields",[a("sw-header-field",{attrs:{label:"Token"}},[a("clipboard-copy-field",{attrs:{field:e.customerType.token,message:"Token copied to clipboard"}})],1),a("sw-header-field",{attrs:{label:"Name"}},[a("span",[e._v(e._s(e.customerType.name))])]),a("sw-header-field",{attrs:{label:"Description"}},[a("span",[e._v(e._s(e.customerType.description))])]),a("sw-header-field",{attrs:{label:"Created"}},[a("span",[e._v(e._s(e.formatDate(e.customerType.createdDate)))])]),a("sw-header-field",{attrs:{label:"Updated"}},[a("span",[e._v(e._s(e.formatDate(e.customerType.updatedDate)))])])],1)],1),a("template",{slot:"right"},[a("authenticated-image",{attrs:{url:e.qrCodeUrl}})],1)],2):e._e()},$p=[],_p=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"customerType",get:function(){return this.record}},{key:"token",get:function(){return this.customerType?this.customerType.token:""}},{key:"icon",get:function(){return this.customerType?this.customerType.icon:""}},{key:"qrCodeUrl",get:function(){return"customertypes/"+this.token+"/label/qrcode"}}]),a}(n["HeaderComponent"]);_p=Object(u["a"])([Object(n["Component"])({components:{ClipboardCopyField:rn,AuthenticatedImage:pn}})],_p);var Tp=_p,Dp=Tp,wp=Object(f["a"])(Dp,xp,$p,!1,null,null,null),Sp=wp.exports,Ap=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-list-tab",{attrs:{tabkey:e.tabkey,id:e.id,loaded:e.loaded,results:e.results,loadingMessage:"Loading customers ..."},on:{pagingUpdated:e.onPagingUpdated}},[a("sw-list-layout",e._l(e.matches,(function(t){return a("v-flex",{key:t.token,attrs:{xs6:""}},[a("customer-list-entry",{attrs:{customer:t},on:{open:e.onOpenCustomer}})],1)})),1),a("template",{slot:"noresults"},[a("no-results-panel",[a("div",[e._v("There are no customers of this type.")])])],1)],2)},Pp=[],Ep=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-list-entry",{staticStyle:{"min-height":"150px"}},[a("v-container",{on:{click:e.onCustomerClicked}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs3:""}},[a("branding-image",{style:e.logoStyle,attrs:{entity:e.customer}})],1),a("v-flex",{attrs:{xs9:""}},[a("div",[a("div",{staticClass:"title ellipsis mt-1 mb-2"},[e._v(e._s(e.customer.name))]),a("div",{staticClass:"custdesc"},[e._v(e._s(e.customer.description))])])])],1)],1)],1)},Lp=[],Up=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"onCustomerClicked",value:function(){this.$emit("open",this.customer)}},{key:"logoStyle",get:function(){return{height:"120px",width:"120px","padding-left":"15px"}}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],Up.prototype,"customer",void 0),Up=Object(u["a"])([Object(n["Component"])({components:{BrandingImage:Qu}})],Up);var Ip=Up,qp=Ip,Rp=(a("6fed"),Object(f["a"])(qp,Ep,Lp,!1,null,"30ae767a",null)),Mp=Rp.exports,Fp=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"buildSearchCriteria",value:function(){var e={};return e.customerTypeToken=this.customerTypeToken,e}},{key:"buildResponseFormat",value:function(){var e={};return e}},{key:"performSearch",value:function(e,t){return Jr(this.$store,e,t)}},{key:"onOpenCustomer",value:function(e){ue(this,"/customers/"+e.token)}}]),a}(n["ListComponent"]);Object(u["a"])([Object(n["Prop"])()],Fp.prototype,"tabkey",void 0),Object(u["a"])([Object(n["Prop"])()],Fp.prototype,"id",void 0),Object(u["a"])([Object(n["Prop"])()],Fp.prototype,"customerTypeToken",void 0),Fp=Object(u["a"])([Object(n["Component"])({components:{CustomerListEntry:Mp,NoResultsPanel:hp}})],Fp);var Np=Fp,zp=Np,Bp=Object(f["a"])(zp,Ap,Pp,!1,null,null,null),Vp=Bp.exports,Gp=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-delete-dialog",{ref:"dialog",attrs:{title:"Delete Customer Type",width:"400",visible:e.visible},on:{delete:e.onDelete,cancel:e.onCancel}},[a("v-card-text",[e._v(e._s(e.message))])],1)},Zp=[],Wp=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.message=null,e}return Object(j["a"])(a,[{key:"prepareLoad",value:function(e){var t={};return Ed(this.$store,e,t)}},{key:"afterLoad",value:function(e){this.message="Are you sure you want to delete '".concat(e.name,"'?")}},{key:"prepareDelete",value:function(e){return Id(this.$store,e.token)}},{key:"onDelete",value:function(e){this.delete()}},{key:"onCancel",value:function(e){this.cancel()}}]),a}(n["DeleteDialogComponent"]);Wp=Object(u["a"])([Object(n["Component"])({})],Wp);var Hp=Wp,Jp=Hp,Qp=Object(f["a"])(Jp,Gp,Zp,!1,null,null,null),Yp=Qp.exports,Kp=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("customer-type-dialog",{ref:"dialog",attrs:{title:"Edit Customer Type",loaded:e.loaded,createLabel:"Update",cancelLabel:"Cancel"},on:{payload:e.onSave}})},Xp=[],ev=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"getDialog",value:function(){return this.$refs.dialog}},{key:"prepareLoad",value:function(e){var t={};return Ed(this.$store,e,t)}},{key:"prepareSave",value:function(e,t){return Ld(this.$store,e.token,t)}},{key:"onSave",value:function(e){this.save(e)}},{key:"afterSave",value:function(e){this.$emit("customerTypeUpdated",e)}}]),a}(n["EditDialogComponent"]);ev=Object(u["a"])([Object(n["Component"])({components:{CustomerTypeDialog:Yd}})],ev);var tv=ev,av=tv,nv=Object(f["a"])(av,Kp,Xp,!1,null,null,null),iv=nv.exports,rv=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-navigation-action-button",{attrs:{material:"true",icon:e.icon,tooltip:e.tooltip},on:{action:e.onAction}})},ov=[],sv=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"onAction",value:function(){this.$emit("action")}},{key:"icon",get:function(){return I.Edit}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],sv.prototype,"tooltip",void 0),sv=Object(u["a"])([Object(n["Component"])({})],sv);var lv=sv,cv=lv,uv=Object(f["a"])(cv,rv,ov,!1,null,"c985bec4",null),dv=uv.exports,pv=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-navigation-action-button",{attrs:{material:"true",icon:e.icon,tooltip:e.tooltip},on:{action:e.onAction}})},vv=[],fv=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"onAction",value:function(){this.$emit("action")}},{key:"icon",get:function(){return I.Delete}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],fv.prototype,"tooltip",void 0),fv=Object(u["a"])([Object(n["Component"])({})],fv);var mv=fv,hv=mv,bv=Object(f["a"])(hv,pv,vv,!1,null,"716f0cfd",null),yv=bv.exports,gv=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"beforeRouteUpdate",value:function(e,t,a){this.display(e.params.token),a()}},{key:"loadRecord",value:function(e){var t={};return Ed(this.$store,e,t)}},{key:"afterRecordLoaded",value:function(e){var t={id:"customertypes",title:"Customer Types",icon:"cog",route:"/admin/customertypes/"+e.token,longTitle:"Manage Customer Type: "+e.name};this.$store.commit("currentSection",t)}},{key:"onEdit",value:function(){this.token&&this.$refs.edit.open(this.token)}},{key:"onCustomerTypeUpdated",value:function(){this.refresh()}},{key:"onDelete",value:function(){this.$refs["delete"].showDeleteDialog()}},{key:"onCustomerTypeDeleted",value:function(){ue(this,"/customertypes")}},{key:"customerType",get:function(){return this.record}},{key:"icon",get:function(){return I.CustomerType}},{key:"title",get:function(){return this.customerType?this.customerType.name:""}}]),a}(n["DetailComponent"]);gv=Object(u["a"])([Object(n["Component"])({components:{CustomerTypeDetailHeader:Sp,CustomerTypeCustomers:Vp,CustomerTypeDeleteDialog:Yp,CustomerTypeUpdateDialog:iv,EditButton:dv,DeleteButton:yv}})],gv);var kv=gv,Ov=kv,jv=Object(f["a"])(Ov,jp,Cp,!1,null,null,null),Cv=jv.exports,xv=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-list-page",{attrs:{icon:e.icon,title:"Customers",loadingMessage:"Loading customers ...",loaded:e.loaded,results:e.results},on:{pagingUpdated:e.onPagingUpdated}},[a("sw-list-layout",e._l(e.matches,(function(t){return a("v-flex",{key:t.token,attrs:{xs6:""}},[a("customer-list-entry",{attrs:{customer:t},on:{open:e.onOpenCustomer}})],1)})),1),a("template",{slot:"noresults"},[a("no-results-panel",[a("div",[e._v("No customers have been created for this tenant.")]),a("div",{staticClass:"mt-2"},[e._v(" Click "),a("v-icon",{staticClass:"pl-1 pr-2",attrs:{small:""}},[e._v(e._s(e.addIcon))]),e._v("in the toolbar to add a customer. ")],1)])],1),a("template",{slot:"dialogs"},[a("customer-create-dialog",{ref:"add",on:{customerAdded:e.onCustomerAdded}})],1),a("template",{slot:"actions"},[a("add-button",{attrs:{tooltip:"Add Customer"},on:{action:e.onAddCustomer}})],1)],2)},$v=[],_v=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("customer-dialog",{ref:"dialog",attrs:{title:"Create Customer",createLabel:"Create",cancelLabel:"Cancel"},on:{payload:e.onCommit}})},Tv=[],Dv=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-base-dialog",{ref:"dialog",attrs:{icon:e.icon,title:e.title,width:e.width,loaded:e.loaded,visible:e.dialogVisible,createLabel:e.createLabel,cancelLabel:e.cancelLabel},on:{createClicked:e.onCreateClicked,cancelClicked:e.onCancelClicked}},[a("template",{slot:"tabs"},[a("v-tab",{key:"details"},[e._v("Details")]),a("v-tab",{key:"branding"},[e._v("Branding")]),a("v-tab",{key:"metadata"},[e._v("Metadata")])],1),a("template",{slot:"tab-items"},[a("v-tab-item",{key:"details"},[a("customer-detail-fields",{ref:"details"})],1),a("v-tab-item",{key:"branding"},[a("branding-panel",{ref:"branding"})],1),a("v-tab-item",{key:"metadata"},[a("sw-metadata-panel",{ref:"metadata"})],1)],1)],2)},wv=[],Sv=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("dialog-form",[a("v-flex",{attrs:{xs12:""}},[a("form-token",{attrs:{required:"",label:"Customer token",title:"Unique token for referencing customer.",validator:e.$v},model:{value:e.token,callback:function(t){e.token=t},expression:"token"}})],1),a("v-flex",{attrs:{xs12:""}},[a("form-text",{attrs:{required:"",label:"Name",title:"Name displayed for customer.",icon:"info"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}},[!e.$v.name.required&&e.$v.$dirty?a("span",[e._v("Customer name is required.")]):e._e()])],1),a("v-flex",{attrs:{xs12:""}},[a("customer-type-selector",{attrs:{title:"Type of customer being created."},model:{value:e.customerTypeToken,callback:function(t){e.customerTypeToken=t},expression:"customerTypeToken"}},[e.$v.customerTypeToken.$invalid&&e.$v.$dirty?a("span",[e._v("Customer type is required.")]):e._e()])],1),a("v-flex",{attrs:{xs12:""}},[a("form-text-area",{attrs:{required:"",title:"Description of customer.",label:"Description",icon:"info"},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}})],1)],1)},Av=[],Pv=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form-select",{attrs:{items:e.customerTypes,title:e.title||"Choose type of customer",label:e.label||"Customer Type","item-text":"name","item-value":"token",icon:"settings"},model:{value:e.wrapped,callback:function(t){e.wrapped=t},expression:"wrapped"}},[e._t("default")],2)},Ev=[],Lv=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.customerTypes=[],e}return Object(j["a"])(a,[{key:"created",value:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){var t,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={pageNumber:1,pageSize:0},a={},e.prev=2,e.next=5,Ud(this.$store,t,a);case 5:n=e.sent,this.customerTypes=n.data.results,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),ie(e.t0);case 12:case"end":return e.stop()}}),e,this,[[2,9]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"wrapped",get:function(){return this.value},set:function(e){this.$emit("input",e)}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])(String)],Lv.prototype,"value",void 0),Object(u["a"])([Object(n["Prop"])(String)],Lv.prototype,"title",void 0),Object(u["a"])([Object(n["Prop"])(String)],Lv.prototype,"label",void 0),Lv=Object(u["a"])([Object(n["Component"])({components:{FormSelect:Fe}})],Lv);var Uv=Lv,Iv=Uv,qv=Object(f["a"])(Iv,Pv,Ev,!1,null,null,null),Rv=qv.exports,Mv=Ne["helpers"].regex("validToken",/^[a-zA-Z0-9-_]+$/),Fv=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.token=null,e.name=null,e.customerTypeToken=null,e.description=null,e}return Object(j["a"])(a,[{key:"reset",value:function(){this.token=null,this.name=null,this.customerTypeToken=null,this.description=null,this.$v.$reset()}},{key:"validate",value:function(){return this.$v.$touch(),!this.$v.$invalid}},{key:"load",value:function(e){this.token=e.token,this.name=e.name,this.customerTypeToken=e.customerType.token,this.description=e.description}},{key:"save",value:function(){return{token:this.token,name:this.name,customerTypeToken:this.customerTypeToken,description:this.description}}}]),a}(n["DialogSection"]);Fv=Object(u["a"])([Object(n["Component"])({components:{DialogForm:_e,FormToken:fd,FormText:Ee,FormTextArea:il,CustomerTypeSelector:Rv},validations:{token:{required:Ne["required"],validToken:Mv},name:{required:Ne["required"]},customerTypeToken:{required:Ne["required"]}}})],Fv);var Nv=Fv,zv=Nv,Bv=Object(f["a"])(zv,Sv,Av,!1,null,null,null),Vv=Bv.exports,Gv=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"generatePayload",value:function(){var e={};return Object.assign(e,this.$refs.details.save(),this.$refs.branding.save(),this.$refs.metadata.save()),e}},{key:"reset",value:function(){this.$refs.details&&this.$refs.details.reset(),this.$refs.branding&&this.$refs.branding.reset(),this.$refs.metadata&&this.$refs.metadata.reset(),this.$refs.dialog.setActiveTab(0)}},{key:"load",value:function(e){this.reset(),this.$refs.details&&this.$refs.details.load(e),this.$refs.branding&&this.$refs.branding.load(e),this.$refs.metadata&&this.$refs.metadata.load(e)}},{key:"onCreateClicked",value:function(e){if(this.$refs.details.validate())if(this.$refs.branding.validate()){var t=this.generatePayload();console.log("Before payload emit:",this),this.$emit("payload",t)}else this.$refs.dialog.setActiveTab(1);else this.$refs.dialog.setActiveTab(0)}},{key:"icon",get:function(){return I.Customer}}]),a}(n["DialogComponent"]);Gv=Object(u["a"])([Object(n["Component"])({components:{CustomerDetailFields:Vv,BrandingPanel:Pa}})],Gv);var Zv=Gv,Wv=Zv,Hv=Object(f["a"])(Wv,Dv,wv,!1,null,null,null),Jv=Hv.exports,Qv=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"getDialog",value:function(){return this.$refs.dialog}},{key:"onCommit",value:function(e){this.commit(e)}},{key:"save",value:function(e){return this.parentCustomer&&(e.parentToken=this.parentCustomer.token),Zr(this.$store,e)}},{key:"afterSave",value:function(e){this.$emit("customerAdded",e)}}]),a}(n["CreateDialogComponent"]);Object(u["a"])([Object(n["Prop"])()],Qv.prototype,"parentCustomer",void 0),Qv=Object(u["a"])([Object(n["Component"])({components:{CustomerDialog:Jv}})],Qv);var Yv=Qv,Kv=Yv,Xv=Object(f["a"])(Kv,_v,Tv,!1,null,null,null),ef=Xv.exports,tf=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.addIcon=I.Add,e}return Object(j["a"])(a,[{key:"buildSearchCriteria",value:function(){var e={};return e}},{key:"buildResponseFormat",value:function(){var e={includeCustomerType:!0};return e}},{key:"performSearch",value:function(e,t){return Jr(this.$store,e,t)}},{key:"onOpenCustomer",value:function(e){ue(this,"/customers/"+e.token)}},{key:"onAddCustomer",value:function(){this.$refs.add.open()}},{key:"onCustomerAdded",value:function(){this.refresh()}},{key:"icon",get:function(){return I.Customer}}]),a}(n["ListComponent"]);tf=Object(u["a"])([Object(n["Component"])({components:{CustomerListEntry:Mp,CustomerCreateDialog:ef,AddButton:cp,NoResultsPanel:hp}})],tf);var af=tf,nf=af,rf=Object(f["a"])(nf,xv,$v,!1,null,"36e78585",null),of=rf.exports,sf=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-detail-page",{attrs:{icon:e.icon,title:e.title,loadingMessage:"Loading customer ...",loaded:e.loaded,record:e.customer}},[a("template",{slot:"header"},[a("customer-detail-header",{attrs:{record:e.customer}})],1),a("template",{slot:"tabs"},[a("v-tab",{key:"customers"},[e._v("Subcustomers")]),a("v-tab",{key:"assignments"},[e._v("Assigned Devices")]),a("v-tab",{key:"locations"},[e._v("Locations")]),a("v-tab",{key:"measurements"},[e._v("Measurements")]),a("v-tab",{key:"alerts"},[e._v("Alerts")])],1),a("template",{slot:"tab-items"},[a("customer-subcustomers",{ref:"subcustomers",attrs:{tabkey:"customers",customer:e.customer}}),a("customer-assignments",{attrs:{tabkey:"assignments",customerToken:e.token}}),a("customer-location-events",{attrs:{tabkey:"locations",customerToken:e.token}}),a("customer-measurement-events",{attrs:{tabkey:"measurements",customerToken:e.token}}),a("customer-alert-events",{attrs:{tabkey:"alerts",customerToken:e.token}})],1),a("template",{slot:"dialogs"},[a("customer-create-dialog",{ref:"create",attrs:{parentCustomer:e.customer},on:{created:e.onSubcustomerAdded}}),a("customer-update-dialog",{ref:"edit",attrs:{token:e.token,parentCustomer:e.parentCustomer},on:{updated:e.onCustomerUpdated}}),a("customer-delete-dialog",{ref:"delete",attrs:{token:e.token},on:{deleted:e.onCustomerDeleted}})],1),a("template",{slot:"actions"},[e.parentCustomer?a("up-button",{attrs:{tooltip:"Up One Level"},on:{action:e.onUpOneLevel}}):e._e(),a("customer-button",{attrs:{tooltip:"Add Subcustomer"},on:{action:e.onAddSubcustomer}}),a("edit-button",{attrs:{tooltip:"Edit Customer"},on:{action:e.onEdit}}),a("delete-button",{attrs:{tooltip:"Delete Customer"},on:{action:e.onDelete}})],1)],2)},lf=[],cf=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.customer?a("sw-navigation-header-panel",{attrs:{height:"200px"}},[a("template",{slot:"left"},[a("sw-header-branding-panel",{attrs:{entity:e.customer}})],1),a("template",{slot:"content"},[a("sw-navigation-header-fields",[a("sw-header-field",{attrs:{label:"Token"}},[a("clipboard-copy-field",{attrs:{field:e.customer.token,message:"Token copied to clipboard"}})],1),a("sw-linked-header-field",{attrs:{label:"Customer Type",text:e.customer.customerType.name,url:"/customertypes/"+e.customer.customerType.token}}),a("sw-header-field",{attrs:{label:"Name"}},[a("span",[e._v(e._s(e.customer.name))])]),a("sw-header-field",{attrs:{label:"Description"}},[a("span",[e._v(e._s(e.customer.description))])]),a("sw-header-field",{attrs:{label:"Created"}},[a("span",[e._v(e._s(e.formatDate(e.customer.createdDate)))])]),a("sw-header-field",{attrs:{label:"Updated"}},[a("span",[e._v(e._s(e.formatDate(e.customer.updatedDate)))])])],1)],1),a("template",{slot:"right"},[a("authenticated-image",{attrs:{url:e.qrCodeUrl}})],1)],2):e._e()},uf=[],df=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"customer",get:function(){return this.record}},{key:"token",get:function(){return this.customer?this.customer.token:""}},{key:"imageUrl",get:function(){return this.customer?this.customer.imageUrl:""}},{key:"qrCodeUrl",get:function(){return"customers/"+this.token+"/label/qrcode"}}]),a}(n["HeaderComponent"]);df=Object(u["a"])([Object(n["Component"])({components:{ClipboardCopyField:rn,AuthenticatedImage:pn}})],df);var pf=df,vf=pf,ff=Object(f["a"])(vf,cf,uf,!1,null,"570e19ce",null),mf=ff.exports,hf=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-list-tab",{attrs:{tabkey:e.tabkey,loaded:e.loaded,results:e.results},on:{pagingUpdated:e.onPagingUpdated}},[a("sw-list-layout",e._l(e.matches,(function(t){return a("v-flex",{key:t.token,attrs:{xs6:""}},[a("customer-list-entry",{attrs:{customer:t},on:{open:e.onOpenCustomer}})],1)})),1),a("template",{slot:"noresults"},[a("no-results-panel",[a("div",[e._v("This customer has no subcustomers.")]),a("div",{staticClass:"mt-2"},[e._v(" Click "),a("v-icon",{staticClass:"pl-1 pr-2"},[e._v(e._s(e.custIcon))]),e._v("in the toolbar to add a subcustomer. ")],1)])],1),a("template",{slot:"dialogs"},[a("customer-create-dialog",{attrs:{parentCustomer:e.customer},on:{customerAdded:e.refresh}})],1)],2)},bf=[],yf=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.custIcon=I.Customer,e}return Object(j["a"])(a,[{key:"buildSearchCriteria",value:function(){var e={rootOnly:!1};return e.parentCustomerToken=this.customer.token,e}},{key:"buildResponseFormat",value:function(){var e={includeCustomerType:!0,includeParentCustomer:!1};return e}},{key:"performSearch",value:function(e,t){return Jr(this.$store,e,t)}},{key:"onOpenCustomer",value:function(e){ue(this,"/customers/"+e.token)}}]),a}(n["ListComponent"]);Object(u["a"])([Object(n["Prop"])()],yf.prototype,"tabkey",void 0),Object(u["a"])([Object(n["Prop"])()],yf.prototype,"customer",void 0),yf=Object(u["a"])([Object(n["Component"])({components:{CustomerListEntry:Mp,CustomerCreateDialog:ef,NoResultsPanel:hp}})],yf);var gf=yf,kf=gf,Of=Object(f["a"])(kf,hf,bf,!1,null,null,null),jf=Of.exports,Cf=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-list-tab",{attrs:{tabkey:e.tabkey,loaded:e.loaded,results:e.results},on:{pagingUpdated:e.onPagingUpdated}},[a("sw-list-layout",e._l(e.matches,(function(t){return a("v-flex",{key:t.token,attrs:{xs12:""}},[a("assignment-list-entry",{attrs:{assignment:t},on:{assignmentOpened:function(a){return e.onOpenAssignment(t)},refresh:e.refresh}})],1)})),1),a("template",{slot:"noresults"},[a("no-results-panel",[a("div",[e._v("This customer has no device assignments.")])])],1)],2)},xf=[],$f=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"white",attrs:{hover:!e.headerMode}},[a("v-card-text",{staticClass:"assn-root",style:e.styleForStatus,on:{click:e.onOpenAssignment}},[a("asset-mini-panel",{staticClass:"assn-asset",attrs:{assignment:e.assignment}}),a("div",{staticClass:"assn-separator1"}),a("device-mini-panel",{staticClass:"assn-device",attrs:{device:e.assignment.device}}),a("div",{staticClass:"assn-separator2"}),a("div",{staticClass:"assn-assigned-label"},[e._v("Assigned:")]),a("div",{staticClass:"assn-assigned-value"},[e._v(e._s(e.formatDate(e.assignment.activeDate)))]),a("div",{staticClass:"assn-released-label"},[e._v("Released:")]),a("div",{staticClass:"assn-released-value"},[e._v(e._s(e.formatDate(e.assignment.releasedDate)))]),a("div",{staticClass:"assn-status-label"},[e._v("Status:")]),a("assignment-status-indicator",{staticClass:"assn-status-indicator",attrs:{assignment:e.assignment}})],1)],1)},_f=[];function Tf(e){return{"background-color":Df(e),border:"1px solid "+wf(e),"border-top":"5px solid "+Sf(e)}}function Df(e){return e?"Active"===e.status?"#f5fff5":"Missing"===e.status?"#fff5f5":"#f0f0f0":"#f0f0f0"}function wf(e){return e?"Active"===e.status?"#99cc99":"Missing"===e.status?"#cc9999":"#dcdcdc":"#dcdcdc"}function Sf(e){return e?"Active"===e.status?"#007700":"Missing"===e.status?"#dc0000":"#333333":"#333333"}var Af=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.assignment.asset?a("div",{staticClass:"assn-asset-image",style:e.backgroundImageStyle(e.assignment.asset.imageUrl)}):e.assignment.area?a("div",{staticClass:"assn-asset-image",style:e.backgroundImageStyle(e.assignment.area.imageUrl)}):e.assignment.customer?a("div",{staticClass:"assn-asset-image",style:e.backgroundImageStyle(e.assignment.customer.imageUrl)}):a("div",{staticClass:"assn-asset-image",style:e.backgroundImageStyle(e.assignment.device.imageUrl)}),e.assignment.asset?a("div",{staticClass:"assn-asset-title"},[e._v(e._s(e.assignment.asset.name))]):e.assignment.area?a("div",{staticClass:"assn-asset-title"},[e._v(e._s(e.assignment.area.name))]):e.assignment.customer?a("div",{staticClass:"assn-asset-title"},[e._v(e._s(e.assignment.customer.name))]):e._e(),e.assignment.asset?a("div",{staticClass:"assn-asset-value1"},[e._v(e._s(e.assignment.asset.token))]):e.assignment.area?a("div",{staticClass:"assn-asset-value1"},[e._v(e._s(e.assignment.area.token))]):e._e(),"Unassociated"==e.assignment.assignmentType&&e.assignment.device?a("div",{staticClass:"assn-asset-image",style:e.backgroundImageStyle(e.assignment.device.assetImageUrl)}):e._e(),"Unassociated"==e.assignment.assignmentType?a("div",{staticClass:"assn-asset-title"},[e._v("Unassociated Device")]):e._e(),e.assignment.asset?a("div",{staticClass:"assn-asset-tag"},[e._v("Asset")]):e.assignment.area?a("div",{staticClass:"assn-asset-tag"},[e._v("Area")]):e._e()])},Pf=[],Ef=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"backgroundImageStyle",value:function(e){return{"background-image":"url("+e+")","background-size":"contain","background-repeat":"no-repeat","background-position":"50% 50%"}}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],Ef.prototype,"assignment",void 0),Ef=Object(u["a"])([Object(n["Component"])({})],Ef);var Lf=Ef,Uf=Lf,If=(a("efc5"),Object(f["a"])(Uf,Af,Pf,!1,null,"a006719c",null)),qf=If.exports,Rf=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.device?a("div",[a("span",{staticClass:"assn-device-image",style:e.imageStyle}),a("div",{staticClass:"assn-device-title ellipsis"},[e._v(e._s(e.device.deviceType.name))]),a("div",{staticClass:"assn-device-value1 ellipsis"},[e._v(e._s(e.device.token))]),a("div",{staticClass:"assn-device-value2 ellipsis"},[e._v(e._s(e.device.comments))]),a("div",{staticClass:"assn-device-tag"},[e._v("Device")])]):a("div",[a("div",[a("span",{staticClass:"assn-device-missing"},[a("v-icon",{staticClass:"red--text"},[e._v("warning")]),e._v("Referenced device does not exist! ")],1)])])])},Mf=[],Ff={data:function(){return{}},props:["device"],computed:{imageStyle:function(){return{"background-color":"#fff","background-image":"url("+this.device.deviceType.imageUrl+")","background-size":"contain","background-repeat":"no-repeat","background-position":"50% 50%",border:"1px solid #eee"}}}},Nf=Ff,zf=(a("9fb3"),Object(f["a"])(Nf,Rf,Mf,!1,null,"331b4d86",null)),Bf=zf.exports,Vf=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",[a("v-icon",{attrs:{small:"",color:e.colorForStatus}},[e._v(e._s(e.iconForStatus))]),e._v(" "+e._s(e.nameForStatus)+" ")],1)},Gf=[],Zf=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"iconForStatus",get:function(){return Hf(this.assignment.status)}},{key:"colorForStatus",get:function(){return Jf(this.assignment.status)}},{key:"nameForStatus",get:function(){return Qf(this.assignment.status)}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],Zf.prototype,"assignment",void 0),Zf=Object(u["a"])([Object(n["Component"])({})],Zf);var Wf=Zf;function Hf(e){if(e)switch(e){case B["DeviceAssignmentStatus"].Active:return"check_circle";case B["DeviceAssignmentStatus"].Missing:return"warning";case B["DeviceAssignmentStatus"].Released:return"block"}return"question"}function Jf(e){if(e)switch(e){case B["DeviceAssignmentStatus"].Active:return"#090";case B["DeviceAssignmentStatus"].Missing:return"#900";case B["DeviceAssignmentStatus"].Released:return"#ccc"}return"#ccc"}function Qf(e){if(e)switch(e){case B["DeviceAssignmentStatus"].Active:return"Active";case B["DeviceAssignmentStatus"].Missing:return"Missing";case B["DeviceAssignmentStatus"].Released:return"Released"}return"Unknown Status"}var Yf=Wf,Kf=Object(f["a"])(Yf,Vf,Gf,!1,null,null,null),Xf=Kf.exports,em=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"refresh",value:function(){this.$emit("refresh")}},{key:"onOpenAssignment",value:function(){this.$emit("assignmentOpened",this.assignment)}},{key:"formatDate",value:function(e){return se(e)}},{key:"styleForStatus",get:function(){return Tf(this.assignment)}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],em.prototype,"assignment",void 0),Object(u["a"])([Object(n["Prop"])()],em.prototype,"headerMode",void 0),em=Object(u["a"])([Object(n["Component"])({components:{AssetMiniPanel:qf,DeviceMiniPanel:Bf,AssignmentStatusIndicator:Xf}})],em);var tm=em,am=tm,nm=(a("313c"),Object(f["a"])(am,$f,_f,!1,null,"3852fe9f",null)),im=nm.exports;function rm(e,t){var a=lt(e),n=B["API"].DeviceAssignments.createDeviceAssignment(a,t);return ut(e,n)}function om(e,t,a){var n=lt(e),i=B["API"].DeviceAssignments.getDeviceAssignment(n,t,a);return ut(e,i)}function sm(e,t,a){var n=lt(e),i=B["API"].DeviceAssignments.listDeviceAssignments(n,t,a);return ut(e,i)}function lm(e,t,a){var n=lt(e),i=B["API"].DeviceAssignments.searchDeviceAssignments(n,t,a);return ut(e,i)}function cm(e,t){var a=lt(e),n=B["API"].DeviceAssignments.deleteDeviceAssignment(a,t);return ut(e,n)}function um(e,t,a){var n=lt(e),i=B["API"].DeviceAssignments.createMeasurementForAssignment(n,t,a);return ut(e,i)}function dm(e,t,a,n){var i=lt(e),r=B["API"].DeviceAssignments.listMeasurementsForAssignment(i,t,a,n);return ut(e,r)}function pm(e,t,a){var n=lt(e),i=B["API"].DeviceAssignments.createLocationForAssignment(n,t,a);return ut(e,i)}function vm(e,t,a,n){var i=lt(e),r=B["API"].DeviceAssignments.listLocationsForAssignment(i,t,a,n);return ut(e,r)}function fm(e,t,a){var n=lt(e),i=B["API"].DeviceAssignments.createAlertForAssignment(n,t,a);return ut(e,i)}function mm(e,t,a,n){var i=lt(e),r=B["API"].DeviceAssignments.listAlertsForAssignment(i,t,a,n);return ut(e,r)}function hm(e,t,a){var n=lt(e),i=B["API"].DeviceAssignments.createCommandInvocationForAssignment(n,t,a);return ut(e,i)}function bm(e,t,a,n){var i=lt(e),r=B["API"].DeviceAssignments.listCommandInvocationsForAssignment(i,t,a,n);return ut(e,r)}function ym(e,t,a,n){var i=lt(e),r=B["API"].DeviceAssignments.listCommandResponsesForAssignment(i,t,a,n);return ut(e,r)}function gm(e,t){var a=lt(e),n=B["API"].DeviceAssignments.releaseDeviceAssignment(a,t);return ut(e,n)}function km(e,t){var a=lt(e),n=B["API"].DeviceAssignments.missingDeviceAssignment(a,t);return ut(e,n)}var Om=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"buildSearchCriteria",value:function(){var e={};return e.customerTokens=[this.customerToken],e}},{key:"buildResponseFormat",value:function(){var e={includeDevice:!0,includeCustomer:!0,includeArea:!0,includeAsset:!0};return e}},{key:"performSearch",value:function(e,t){return lm(this.$store,e,t)}},{key:"onOpenAssignment",value:function(e){ue(this,"/assignments/"+e.token)}}]),a}(n["ListComponent"]);Object(u["a"])([Object(n["Prop"])()],Om.prototype,"tabkey",void 0),Object(u["a"])([Object(n["Prop"])()],Om.prototype,"customerToken",void 0),Om=Object(u["a"])([Object(n["Component"])({components:{AssignmentListEntry:im,NoResultsPanel:hp}})],Om);var jm=Om,Cm=jm,xm=Object(f["a"])(Cm,Cf,xf,!1,null,null,null),$m=xm.exports,_m=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-data-table-tab",{attrs:{tabkey:e.tabkey,loaded:e.loaded,headers:e.headers,results:e.results,pageSizes:e.pageSizes,loadingMessage:"Loading customer locations ..."},on:{pagingUpdated:e.onPagingUpdated},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{attrs:{width:"40%",title:t.item.assetName}},[e._v(e._s(t.item.assetName))]),a("td",{attrs:{width:"40%",title:"Lat/Lon/Elevation"}},[e._v(e._s(e.fourDecimalPlaces(t.item.latitude)+", "+e.fourDecimalPlaces(t.item.longitude)+", "+e.fourDecimalPlaces(t.item.elevation)))]),a("td",{staticStyle:{"white-space":"nowrap"},attrs:{width:"10%",title:e.formatDate(t.item.eventDate)}},[e._v(e._s(e.formatDate(t.item.eventDate)))]),a("td",{staticStyle:{"white-space":"nowrap"},attrs:{width:"10%",title:e.formatDate(t.item.receivedDate)}},[e._v(e._s(e.formatDate(t.item.receivedDate)))])]}}])})},Tm=[],Dm=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.pageSizes=V,e.headers=G,e}return Object(j["a"])(a,[{key:"buildSearchCriteria",value:function(){var e={};return e}},{key:"buildResponseFormat",value:function(){var e={};return e}},{key:"performSearch",value:function(e,t){return Yr(this.$store,this.customerToken,e,t)}},{key:"formatDate",value:function(e){return se(e)}},{key:"fourDecimalPlaces",value:function(e){return ce(e)}}]),a}(n["ListComponent"]);Object(u["a"])([Object(n["Prop"])()],Dm.prototype,"tabkey",void 0),Object(u["a"])([Object(n["Prop"])()],Dm.prototype,"customerToken",void 0),Dm=Object(u["a"])([Object(n["Component"])({})],Dm);var wm=Dm,Sm=wm,Am=Object(f["a"])(Sm,_m,Tm,!1,null,"7bc4f1ea",null),Pm=Am.exports,Em=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-data-table-tab",{attrs:{tabkey:e.tabkey,loaded:e.loaded,headers:e.headers,results:e.results,pageSizes:e.pageSizes,loadingMessage:"Loading customer measurements ..."},on:{pagingUpdated:e.onPagingUpdated},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{attrs:{width:"30%",title:t.item.assetName}},[e._v(e._s(t.item.assetName))]),a("td",{attrs:{width:"25%",title:t.item.name}},[e._v(e._s(t.item.name))]),a("td",{attrs:{width:"25%",title:t.item.value}},[e._v(e._s(t.item.value))]),a("td",{staticStyle:{"white-space":"nowrap"},attrs:{width:"10%",title:e.formatDate(t.item.eventDate)}},[e._v(e._s(e.formatDate(t.item.eventDate)))]),a("td",{staticStyle:{"white-space":"nowrap"},attrs:{width:"10%",title:e.formatDate(t.item.receivedDate)}},[e._v(e._s(e.formatDate(t.item.receivedDate)))])]}}])})},Lm=[],Um=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.pageSizes=V,e.headers=W,e}return Object(j["a"])(a,[{key:"buildSearchCriteria",value:function(){var e={};return e}},{key:"buildResponseFormat",value:function(){var e={};return e}},{key:"performSearch",value:function(e,t){return Kr(this.$store,this.customerToken,e,t)}},{key:"formatDate",value:function(e){return se(e)}}]),a}(n["ListComponent"]);Object(u["a"])([Object(n["Prop"])()],Um.prototype,"tabkey",void 0),Object(u["a"])([Object(n["Prop"])()],Um.prototype,"customerToken",void 0),Um=Object(u["a"])([Object(n["Component"])({})],Um);var Im=Um,qm=Im,Rm=Object(f["a"])(qm,Em,Lm,!1,null,"1db582e1",null),Mm=Rm.exports,Fm=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-data-table-tab",{attrs:{tabkey:e.tabkey,loaded:e.loaded,headers:e.headers,results:e.results,pageSizes:e.pageSizes,loadingMessage:"Loading customer alerts ..."},on:{pagingUpdated:e.onPagingUpdated},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{attrs:{width:"30%",title:t.item.assetName}},[e._v(e._s(t.item.assetName))]),a("td",{attrs:{width:"20%",title:t.item.type}},[e._v(e._s(t.item.type))]),a("td",{attrs:{width:"30%",title:t.item.message}},[e._v(e._s(t.item.message))]),a("td",{staticStyle:{"white-space":"nowrap"},attrs:{width:"10%",title:e.formatDate(t.item.eventDate)}},[e._v(e._s(e.formatDate(t.item.eventDate)))]),a("td",{staticStyle:{"white-space":"nowrap"},attrs:{width:"10%",title:e.formatDate(t.item.receivedDate)}},[e._v(e._s(e.formatDate(t.item.receivedDate)))])]}}])})},Nm=[],zm=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.pageSizes=V,e.headers=J,e}return Object(j["a"])(a,[{key:"buildSearchCriteria",value:function(){var e={};return e}},{key:"buildResponseFormat",value:function(){var e={};return e}},{key:"performSearch",value:function(e,t){return Xr(this.$store,this.customerToken,e,t)}},{key:"formatDate",value:function(e){return se(e)}}]),a}(n["ListComponent"]);Object(u["a"])([Object(n["Prop"])()],zm.prototype,"tabkey",void 0),Object(u["a"])([Object(n["Prop"])()],zm.prototype,"customerToken",void 0),zm=Object(u["a"])([Object(n["Component"])({})],zm);var Bm=zm,Vm=Bm,Gm=Object(f["a"])(Vm,Fm,Nm,!1,null,null,null),Zm=Gm.exports,Wm=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("customer-dialog",{ref:"dialog",attrs:{title:"Edit Customer",loaded:e.loaded,createLabel:"Update",cancelLabel:"Cancel"},on:{payload:e.onSave}})},Hm=[],Jm=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"getDialog",value:function(){return this.$refs.dialog}},{key:"prepareLoad",value:function(e){var t={includeCustomerType:!0};return Wr(this.$store,e,t)}},{key:"prepareSave",value:function(e,t){return Hr(this.$store,e.token,t)}},{key:"onSave",value:function(e){this.save(e)}},{key:"afterSave",value:function(e){this.$emit("customerUpdated",e)}}]),a}(n["EditDialogComponent"]);Jm=Object(u["a"])([Object(n["Component"])({components:{CustomerDialog:Jv}})],Jm);var Qm=Jm,Ym=Qm,Km=Object(f["a"])(Ym,Wm,Hm,!1,null,"26cb05f8",null),Xm=Km.exports,eh=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-delete-dialog",{ref:"dialog",attrs:{title:"Delete Customer Type",width:"400",visible:e.visible},on:{delete:e.onDelete,cancel:e.onCancel}},[a("v-card-text",[e._v(e._s(e.message))])],1)},th=[],ah=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.message=null,e}return Object(j["a"])(a,[{key:"prepareLoad",value:function(e){var t={};return Wr(this.$store,e,t)}},{key:"afterLoad",value:function(e){this.message="Are you sure you want to delete '".concat(e.name,"'?")}},{key:"prepareDelete",value:function(e){return Qr(this.$store,e.token)}},{key:"onDelete",value:function(e){this.delete()}},{key:"onCancel",value:function(e){this.cancel()}}]),a}(n["DeleteDialogComponent"]);ah=Object(u["a"])([Object(n["Component"])({})],ah);var nh=ah,ih=nh,rh=Object(f["a"])(ih,eh,th,!1,null,null,null),oh=rh.exports,sh=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-navigation-action-button",{attrs:{material:"true",icon:e.icon,tooltip:e.tooltip},on:{action:e.onAction}})},lh=[],ch=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"onAction",value:function(){this.$emit("action")}},{key:"icon",get:function(){return I.Customer}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],ch.prototype,"tooltip",void 0),ch=Object(u["a"])([Object(n["Component"])({})],ch);var uh=ch,dh=uh,ph=Object(f["a"])(dh,sh,lh,!1,null,"c25f926c",null),vh=ph.exports,fh=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-navigation-action-button",{attrs:{material:"true",icon:e.icon,tooltip:e.tooltip},on:{action:e.onAction}})},mh=[],hh=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"onAction",value:function(){this.$emit("action")}},{key:"icon",get:function(){return I.Up}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],hh.prototype,"tooltip",void 0),hh=Object(u["a"])([Object(n["Component"])({})],hh);var bh=hh,yh=bh,gh=Object(f["a"])(yh,fh,mh,!1,null,"6916f68d",null),kh=gh.exports,Oh=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.parentCustomer=null,e}return Object(j["a"])(a,[{key:"beforeRouteUpdate",value:function(e,t,a){this.display(e.params.token),a()}},{key:"loadRecord",value:function(e){var t={includeCustomerType:!0,includeParentCustomer:!0};return Wr(this.$store,e,t)}},{key:"afterRecordLoaded",value:function(e){this.parentCustomer=e.parentCustomer;var t={id:"customers",title:"Customers",icon:"building",route:"/admin/customers/"+e.token,longTitle:"Manage Customer: "+e.name};this.$store.commit("currentSection",t)}},{key:"onEdit",value:function(){this.token&&this.$refs.edit.open(this.token)}},{key:"onAddSubcustomer",value:function(){this.$refs.create.open()}},{key:"onSubcustomerAdded",value:function(){this.$refs.subcustomers.refresh()}},{key:"onCustomerUpdated",value:function(){this.refresh()}},{key:"onDelete",value:function(){this.token&&this.$refs.delete.open(this.token)}},{key:"onCustomerDeleted",value:function(){ue(this,"/customers")}},{key:"onUpOneLevel",value:function(){ue(this,"/customers/"+this.customer.parentCustomer.token)}},{key:"customer",get:function(){return this.record}},{key:"icon",get:function(){return I.Customer}},{key:"title",get:function(){return this.customer?this.customer.name:""}}]),a}(n["DetailComponent"]);Oh=Object(u["a"])([Object(n["Component"])({components:{CustomerDetailHeader:mf,CustomerSubcustomers:jf,CustomerAssignments:$m,CustomerLocationEvents:Pm,CustomerMeasurementEvents:Mm,CustomerAlertEvents:Zm,CustomerCreateDialog:ef,CustomerDeleteDialog:oh,CustomerUpdateDialog:Xm,CustomerButton:vh,UpButton:kh,EditButton:dv,DeleteButton:yv}})],Oh);var jh=Oh,Ch=jh,xh=Object(f["a"])(Ch,sf,lf,!1,null,null,null),$h=xh.exports,_h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("list-page",{attrs:{icon:e.icon,title:"Area Types",loadingMessage:"Loading area types ...",loaded:e.loaded,results:e.results},on:{pagingUpdated:e.onPagingUpdated}},[a("list-layout",e._l(e.matches,(function(t){return a("v-flex",{key:t.token,attrs:{xs6:""}},[a("area-type-list-entry",{attrs:{areaType:t},on:{open:e.onOpenAreaType}})],1)})),1),a("template",{slot:"noresults"},[a("no-results-panel",[a("div",[e._v("No area types have been created for this tenant.")]),a("div",{staticClass:"mt-2"},[e._v(" Click "),a("v-icon",{staticClass:"pl-1 pr-2",attrs:{small:""}},[e._v(e._s(e.addIcon))]),e._v("in the toolbar to add an area type. ")],1)])],1),a("template",{slot:"dialogs"},[a("area-type-create-dialog",{ref:"add",attrs:{areaTypes:e.matches},on:{areaTypeAdded:e.onAreaTypeAdded}})],1),a("template",{slot:"actions"},[a("add-button",{attrs:{icon:"plus",tooltip:"Add Area Type"},on:{action:e.onAddAreaType}})],1)],2)},Th=[],Dh=a("9de7"),wh=a.n(Dh),Sh=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-list-entry",[a("v-container",{on:{click:e.onAreaTypeClicked}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs2:""}},[a("branding-image",{style:e.logoStyle,attrs:{entity:e.areaType,iconSize:"3x"}})],1),a("v-flex",{attrs:{xs10:""}},[a("div",[a("div",{staticClass:"title ellipsis mb-1"},[e._v(e._s(e.areaType.name))]),a("div",{staticClass:"atdesc"},[e._v(e._s(e.areaType.description))])])])],1)],1)],1)},Ah=[],Ph=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"onAreaTypeClicked",value:function(){this.$emit("open",this.areaType)}},{key:"logoStyle",get:function(){return{height:"80px",width:"80px"}}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],Ph.prototype,"areaType",void 0),Ph=Object(u["a"])([Object(n["Component"])({components:{BrandingImage:Qu}})],Ph);var Eh=Ph,Lh=Eh,Uh=(a("196b"),Object(f["a"])(Lh,Sh,Ah,!1,null,"66c02078",null)),Ih=Uh.exports,qh=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("area-type-dialog",{ref:"dialog",attrs:{title:"Create Area Type",width:"600",createLabel:"Create",cancelLabel:"Cancel"},on:{payload:e.onCommit}})},Rh=[],Mh=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-base-dialog",{ref:"dialog",attrs:{icon:e.icon,title:e.title,width:e.width,loaded:e.loaded,visible:e.dialogVisible,createLabel:e.createLabel,cancelLabel:e.cancelLabel},on:{createClicked:e.onCreateClicked,cancelClicked:e.onCancelClicked}},[a("template",{slot:"tabs"},[a("v-tab",{key:"details"},[e._v("Details")]),a("v-tab",{key:"content"},[e._v("Content")]),a("v-tab",{key:"branding"},[e._v("Branding")]),a("v-tab",{key:"metadata"},[e._v("Metadata")])],1),a("template",{slot:"tab-items"},[a("v-tab-item",{key:"details"},[a("area-type-detail-fields",{ref:"details"})],1),a("v-tab-item",{key:"content"},[a("area-type-content-fields",{ref:"content"})],1),a("v-tab-item",{key:"branding"},[a("branding-panel",{ref:"branding"})],1),a("v-tab-item",{key:"metadata"},[a("sw-metadata-panel",{ref:"metadata"})],1)],1)],2)},Fh=[],Nh=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("dialog-form",[a("v-flex",{attrs:{xs12:""}},[a("form-token",{attrs:{required:"",label:"Area type token",title:"Unique token for referencing area type.",validator:e.$v},model:{value:e.token,callback:function(t){e.token=t},expression:"token"}})],1),a("v-flex",{attrs:{xs12:""}},[a("form-text",{attrs:{required:"",label:"Name",title:"Name displayed for area type.",icon:"info"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}},[e.$v.name.$invalid&&e.$v.$dirty?a("span",[e._v("Name is required.")]):e._e()])],1),a("v-flex",{attrs:{xs12:""}},[a("form-text-area",{attrs:{required:"",title:"Area type description.",label:"Description",icon:"info"},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}},[e.$v.description.$invalid&&e.$v.$dirty?a("span",[e._v("Description is required.")]):e._e()])],1)],1)},zh=[],Bh=Ne["helpers"].regex("validToken",/^[a-zA-Z0-9-_]+$/),Vh=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.token=null,e.name=null,e.description=null,e}return Object(j["a"])(a,[{key:"reset",value:function(){this.token=null,this.name=null,this.description=null,this.$v.$reset()}},{key:"validate",value:function(){return this.$v.$touch(),!this.$v.$invalid}},{key:"load",value:function(e){this.token=e.token,this.name=e.name,this.description=e.description}},{key:"save",value:function(){return{token:this.token,name:this.name,description:this.description}}}]),a}(n["DialogSection"]);Vh=Object(u["a"])([Object(n["Component"])({components:{DialogForm:_e,FormToken:fd,FormText:Ee,FormTextArea:il},validations:{token:{required:Ne["required"],validToken:Bh},name:{required:Ne["required"]},description:{required:Ne["required"]}}})],Vh);var Gh=Vh,Zh=Gh,Wh=Object(f["a"])(Zh,Nh,zh,!1,null,null,null),Hh=Wh.exports,Jh=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("dialog-form",[a("v-flex",{attrs:{xs12:""}},[a("area-type-multiselect",{attrs:{idMode:!0,value:e.containedAreaTypeIds},on:{input:e.onSelectionUpdated}})],1)],1)},Qh=[],Yh=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("multichooser",{attrs:{idMode:e.idMode,all:e.all},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})},Kh=[];function Xh(e,t){var a=lt(e),n=B["API"].AreaTypes.createAreaType(a,t);return ut(e,n)}function eb(e,t,a){var n=lt(e),i=B["API"].AreaTypes.getAreaType(n,t,a);return ut(e,i)}function tb(e,t,a){var n=lt(e),i=B["API"].AreaTypes.updateAreaType(n,t,a);return ut(e,i)}function ab(e,t,a){var n=lt(e),i=B["API"].AreaTypes.listAreaTypes(n,t,a);return ut(e,i)}function nb(e,t){var a=lt(e),n=B["API"].AreaTypes.deleteAreaType(a,t);return ut(e,n)}var ib=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.selected=[],e.all=[],e}return Object(j["a"])(a,[{key:"created",value:function(){this.refresh()}},{key:"refresh",value:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){var t,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={},a={},e.next=4,ab(this.$store,a,t);case 4:n=e.sent,this.all=n.data.results;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onValuesSet",value:function(e){this.selected=e}},{key:"onSelectionUpdated",value:function(e){this.$emit("input",e)}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],ib.prototype,"value",void 0),Object(u["a"])([Object(n["Prop"])({default:!1})],ib.prototype,"idMode",void 0),Object(u["a"])([Object(n["Watch"])("value",{immediate:!0})],ib.prototype,"onValuesSet",null),Object(u["a"])([Object(n["Watch"])("selected",{immediate:!0})],ib.prototype,"onSelectionUpdated",null),ib=Object(u["a"])([Object(n["Component"])({components:{Multichooser:Ad}})],ib);var rb=ib,ob=rb,sb=Object(f["a"])(ob,Yh,Kh,!1,null,null,null),lb=sb.exports,cb=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.containedAreaTypeIds=[],e.containedAreaTypeTokens=[],e}return Object(j["a"])(a,[{key:"reset",value:function(){this.containedAreaTypeIds=[]}},{key:"validate",value:function(){return!0}},{key:"onSelectionUpdated",value:function(e){this.containedAreaTypeTokens=e}},{key:"load",value:function(e){this.containedAreaTypeIds=e.containedAreaTypeIds}},{key:"save",value:function(){return{containedAreaTypeTokens:this.containedAreaTypeTokens}}}]),a}(n["DialogSection"]);cb=Object(u["a"])([Object(n["Component"])({components:{DialogForm:_e,AreaTypeMultiselect:lb}})],cb);var ub=cb,db=ub,pb=Object(f["a"])(db,Jh,Qh,!1,null,null,null),vb=pb.exports,fb=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"generatePayload",value:function(){var e={};return Object.assign(e,this.$refs.details.save(),this.$refs.content.save(),this.$refs.branding.save(),this.$refs.metadata.save()),e}},{key:"reset",value:function(){this.$refs.details&&this.$refs.details.reset(),this.$refs.content&&this.$refs.content.reset(),this.$refs.branding&&this.$refs.branding.reset(),this.$refs.metadata&&this.$refs.metadata.reset(),this.$refs.dialog.setActiveTab(0)}},{key:"load",value:function(e){this.reset(),this.$refs.details&&this.$refs.details.load(e),this.$refs.content&&this.$refs.content.load(e),this.$refs.branding&&this.$refs.branding.load(e),this.$refs.metadata&&this.$refs.metadata.load(e)}},{key:"onCreateClicked",value:function(e){if(this.$refs.details.validate())if(this.$refs.content.validate())if(this.$refs.branding.validate()){var t=this.generatePayload();this.$emit("payload",t)}else this.$refs.dialog.setActiveTab(1);else this.$refs.dialog.setActiveTab(0);else this.$refs.dialog.setActiveTab(0)}},{key:"icon",get:function(){return I.CustomerType}}]),a}(n["DialogComponent"]);fb=Object(u["a"])([Object(n["Component"])({components:{AreaTypeDetailFields:Hh,AreaTypeContentFields:vb,BrandingPanel:Pa}})],fb);var mb=fb,hb=mb,bb=Object(f["a"])(hb,Mh,Fh,!1,null,null,null),yb=bb.exports,gb=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"getDialog",value:function(){return this.$refs.dialog}},{key:"onCommit",value:function(e){this.commit(e)}},{key:"save",value:function(e){return Xh(this.$store,e)}},{key:"afterSave",value:function(e){this.$emit("areaTypeAdded",e)}}]),a}(n["CreateDialogComponent"]);gb=Object(u["a"])([Object(n["Component"])({components:{AreaTypeDialog:yb}})],gb);var kb=gb,Ob=kb,jb=Object(f["a"])(Ob,qh,Rh,!1,null,null,null),Cb=jb.exports,xb=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.addIcon=I.Add,e}return Object(j["a"])(a,[{key:"buildSearchCriteria",value:function(){var e={};return e}},{key:"buildResponseFormat",value:function(){var e={includeContainedAreaTypes:!0};return e}},{key:"performSearch",value:function(e,t){return ab(this.$store,e,t)}},{key:"onOpenAreaType",value:function(e){ue(this,"/areatypes/"+e.token)}},{key:"onAddAreaType",value:function(){this.$refs.add.open()}},{key:"onAreaTypeAdded",value:function(){this.refresh()}},{key:"icon",get:function(){return I.AreaType}}]),a}(n["ListComponent"]);xb=Object(u["a"])([Object(n["Component"])({components:{ListPage:Dh["ListPage"],ListLayout:Dh["ListLayout"],AreaTypeListEntry:Ih,AreaTypeCreateDialog:Cb,AddButton:cp,NoResultsPanel:hp}})],xb);var $b=xb,_b=$b,Tb=Object(f["a"])(_b,_h,Th,!1,null,null,null),Db=Tb.exports,wb=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-detail-page",{attrs:{icon:e.icon,title:e.title,loadingMessage:"Loading area type ...",loaded:e.loaded,record:e.areaType}},[a("template",{slot:"header"},[a("area-type-detail-header",{attrs:{record:e.areaType},on:{areaTypeDeleted:e.onAreaTypeDeleted,areaTypeUpdated:e.onAreaTypeUpdated}})],1),a("template",{slot:"tabs"},[a("v-tab",{key:"areas"},[e._v("Areas of Type")])],1),a("template",{slot:"tab-items"},[a("area-type-areas",{ref:"areas",attrs:{tabkey:"areas",areaTypeToken:e.token}})],1),a("template",{slot:"dialogs"},[a("area-type-update-dialog",{ref:"edit",attrs:{token:e.token},on:{areaTypeUpdated:e.onAreaTypeUpdated}}),a("area-type-delete-dialog",{ref:"delete",attrs:{token:e.token},on:{areaTypeDeleted:e.onAreaTypeDeleted}})],1),a("template",{slot:"actions"},[a("edit-button",{attrs:{tooltip:"Edit Area Type"},on:{action:e.onEdit}}),a("delete-button",{attrs:{tooltip:"Delete Area Type"},on:{action:e.onDelete}})],1)],2)},Sb=[],Ab=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.areaType?a("sw-navigation-header-panel",{attrs:{icon:e.areaType.icon,height:"200px"}},[a("template",{slot:"left"},[a("sw-header-branding-panel",{attrs:{entity:e.areaType}})],1),a("template",{slot:"content"},[a("sw-navigation-header-fields",[a("sw-header-field",{attrs:{label:"Token"}},[a("clipboard-copy-field",{attrs:{field:e.areaType.token,message:"Token copied to clipboard"}})],1),a("sw-header-field",{attrs:{label:"Name"}},[a("span",[e._v(e._s(e.areaType.name))])]),a("sw-header-field",{attrs:{label:"Description"}},[a("span",[e._v(e._s(e.areaType.description))])]),a("sw-header-field",{attrs:{label:"Created"}},[a("span",[e._v(e._s(e.formatDate(e.areaType.createdDate)))])]),a("sw-header-field",{attrs:{label:"Updated"}},[a("span",[e._v(e._s(e.formatDate(e.areaType.updatedDate)))])])],1)],1),a("template",{slot:"right"},[a("authenticated-image",{attrs:{url:e.qrCodeUrl}})],1)],2):e._e()},Pb=[],Eb=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"formatDate",value:function(e){return se(e)}},{key:"areaType",get:function(){return this.record}},{key:"token",get:function(){return this.areaType?this.areaType.token:""}},{key:"qrCodeUrl",get:function(){return"areatypes/"+this.token+"/label/qrcode"}}]),a}(n["HeaderComponent"]);Eb=Object(u["a"])([Object(n["Component"])({components:{ClipboardCopyField:rn,AuthenticatedImage:pn}})],Eb);var Lb=Eb,Ub=Lb,Ib=Object(f["a"])(Ub,Ab,Pb,!1,null,null,null),qb=Ib.exports,Rb=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-list-tab",{attrs:{tabkey:e.tabkey,id:e.id,loaded:e.loaded,results:e.results,loadingMessage:"Loading areas ..."},on:{pagingUpdated:e.onPagingUpdated}},[a("sw-list-layout",e._l(e.matches,(function(t){return a("v-flex",{key:t.token,attrs:{xs6:""}},[a("area-list-entry",{attrs:{area:t},on:{open:e.onOpenArea}})],1)})),1),a("template",{slot:"noresults"},[a("no-results-panel",[a("div",[e._v("There are no areas of this type.")])])],1)],2)},Mb=[],Fb=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-list-entry",{staticStyle:{"min-height":"140px"}},[a("v-container",{on:{click:e.onAreaClicked}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs3:""}},[a("branding-image",{style:e.logoStyle,attrs:{entity:e.area}})],1),a("v-flex",{attrs:{xs9:""}},[a("div",[a("div",{staticClass:"title ellipsis mb-1"},[e._v(e._s(e.area.name))]),a("div",{staticClass:"areadesc"},[e._v(e._s(e.area.description))])])])],1)],1)],1)},Nb=[],zb=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"onAreaClicked",value:function(){this.$emit("open",this.area)}},{key:"logoStyle",get:function(){return{height:"120px",width:"120px","padding-left":"15px"}}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],zb.prototype,"area",void 0),zb=Object(u["a"])([Object(n["Component"])({components:{BrandingImage:Qu}})],zb);var Bb=zb,Vb=Bb,Gb=(a("e888"),Object(f["a"])(Vb,Fb,Nb,!1,null,"7241334a",null)),Zb=Gb.exports,Wb=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"buildSearchCriteria",value:function(){var e={};return e.areaTypeToken=this.areaTypeToken,e}},{key:"buildResponseFormat",value:function(){var e={};return e}},{key:"performSearch",value:function(e,t){return uo(this.$store,e,t)}},{key:"onOpenArea",value:function(e){ue(this,"/areas/"+e.token)}}]),a}(n["ListComponent"]);Object(u["a"])([Object(n["Prop"])()],Wb.prototype,"tabkey",void 0),Object(u["a"])([Object(n["Prop"])()],Wb.prototype,"id",void 0),Object(u["a"])([Object(n["Prop"])()],Wb.prototype,"areaTypeToken",void 0),Wb=Object(u["a"])([Object(n["Component"])({components:{AreaListEntry:Zb,NoResultsPanel:hp}})],Wb);var Hb=Wb,Jb=Hb,Qb=Object(f["a"])(Jb,Rb,Mb,!1,null,null,null),Yb=Qb.exports,Kb=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-delete-dialog",{ref:"dialog",attrs:{title:"Delete Area Type",width:"400",visible:e.visible},on:{delete:e.onDelete,cancel:e.onCancel}},[a("v-card-text",[e._v(e._s(e.message))])],1)},Xb=[],ey=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.message=null,e}return Object(j["a"])(a,[{key:"prepareLoad",value:function(e){var t={};return eb(this.$store,e,t)}},{key:"afterLoad",value:function(e){this.message="Are you sure you want to delete '".concat(e.name,"'?")}},{key:"prepareDelete",value:function(e){return nb(this.$store,e.token)}},{key:"onDelete",value:function(e){this.delete()}},{key:"onCancel",value:function(e){this.cancel()}}]),a}(n["DeleteDialogComponent"]);ey=Object(u["a"])([Object(n["Component"])({})],ey);var ty=ey,ay=ty,ny=Object(f["a"])(ay,Kb,Xb,!1,null,null,null),iy=ny.exports,ry=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("area-type-dialog",{ref:"dialog",attrs:{title:"Edit Area Type",loaded:e.loaded,createLabel:"Update",cancelLabel:"Cancel"},on:{payload:e.onSave}})},oy=[],sy=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"getDialog",value:function(){return this.$refs.dialog}},{key:"prepareLoad",value:function(e){var t={};return eb(this.$store,e,t)}},{key:"prepareSave",value:function(e,t){return tb(this.$store,e.token,t)}},{key:"onSave",value:function(e){this.save(e)}},{key:"afterSave",value:function(e){this.$emit("areaTypeUpdated",e)}}]),a}(n["EditDialogComponent"]);sy=Object(u["a"])([Object(n["Component"])({components:{AreaTypeDialog:yb}})],sy);var ly=sy,cy=ly,uy=Object(f["a"])(cy,ry,oy,!1,null,null,null),dy=uy.exports,py=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"loadRecord",value:function(e){var t={includeContainedAreaTypes:!1};return eb(this.$store,e,t)}},{key:"afterRecordLoaded",value:function(e){var t={id:"areatypes",title:"Area Types",icon:I.AreaType,route:"/admin/areatypes/"+e.token,longTitle:"Manage Area Type: "+e.name};this.$store.commit("currentSection",t)}},{key:"onEdit",value:function(){this.token&&this.$refs.edit.open(this.token)}},{key:"onAreaTypeUpdated",value:function(){this.refresh()}},{key:"onDelete",value:function(){this.$refs["delete"].showDeleteDialog()}},{key:"onAreaTypeDeleted",value:function(){ue(this,"/areatypes")}},{key:"areaType",get:function(){return this.record}},{key:"icon",get:function(){return I.AreaType}},{key:"title",get:function(){return this.areaType?this.areaType.name:""}}]),a}(n["DetailComponent"]);py=Object(u["a"])([Object(n["Component"])({components:{AreaTypeDetailHeader:qb,AreaTypeAreas:Yb,AreaListEntry:Zb,AreaTypeDeleteDialog:iy,AreaTypeUpdateDialog:dy,EditButton:dv,DeleteButton:yv}})],py);var vy=py,fy=vy,my=Object(f["a"])(fy,wb,Sb,!1,null,null,null),hy=my.exports,by=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-list-page",{attrs:{icon:e.icon,title:"Areas",loadingMessage:"Loading areas ...",loaded:e.loaded,results:e.results},on:{pagingUpdated:e.onPagingUpdated}},[a("sw-list-layout",e._l(e.matches,(function(t){return a("v-flex",{key:t.token,attrs:{xs6:""}},[a("area-list-entry",{attrs:{area:t},on:{open:e.onOpenArea}})],1)})),1),a("template",{slot:"noresults"},[a("no-results-panel",[a("div",[e._v("No areas have been created for this tenant.")]),a("div",{staticClass:"mt-2"},[e._v(" Click "),a("v-icon",{staticClass:"pl-1 pr-2",attrs:{small:""}},[e._v(e._s(e.addIcon))]),e._v("in the toolbar to add an area. ")],1)])],1),a("template",{slot:"dialogs"},[a("area-create-dialog",{ref:"add",on:{created:e.onAreaAdded}})],1),a("template",{slot:"actions"},[a("add-button",{attrs:{tooltip:"Add Area"},on:{action:e.onAddArea}})],1)],2)},yy=[],gy=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("area-dialog",{ref:"dialog",attrs:{title:"Create Area",createLabel:"Create",cancelLabel:"Cancel"},on:{payload:e.onCommit}})},ky=[],Oy=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-base-dialog",{ref:"dialog",attrs:{icon:e.icon,title:e.title,width:e.width,loaded:e.loaded,visible:e.dialogVisible,createLabel:e.createLabel,cancelLabel:e.cancelLabel},on:{createClicked:e.onCreateClicked,cancelClicked:e.onCancelClicked,tabSelected:e.onTabSelected}},[a("template",{slot:"tabs"},[a("v-tab",{key:"details"},[e._v("Details")]),a("v-tab",{key:"bounds"},[e._v("Bounds")]),a("v-tab",{key:"branding"},[e._v("Branding")]),a("v-tab",{key:"metadata"},[e._v("Metadata")])],1),a("template",{slot:"tab-items"},[a("v-tab-item",{key:"details"},[a("area-detail-fields",{ref:"details"})],1),a("v-tab-item",{key:"bounds"},[a("area-bounds-panel",{ref:"bounds"})],1),a("v-tab-item",{key:"branding"},[a("branding-panel",{ref:"branding"})],1),a("v-tab-item",{key:"metadata"},[a("sw-metadata-panel",{ref:"metadata"})],1)],1)],2)},jy=[],Cy=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("dialog-form",[a("v-flex",{attrs:{xs12:""}},[a("form-token",{attrs:{required:"",label:"Area token",title:"Unique token for referencing area.",validator:e.$v},model:{value:e.token,callback:function(t){e.token=t},expression:"token"}})],1),a("v-flex",{attrs:{xs12:""}},[a("form-text",{attrs:{required:"",label:"Name",title:"Name displayed for area.",icon:"info"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}},[!e.$v.name.required&&e.$v.$dirty?a("span",[e._v("Area name is required.")]):e._e()])],1),a("v-flex",{attrs:{xs12:""}},[a("area-type-selector",{attrs:{title:"Type of area being created."},model:{value:e.areaTypeToken,callback:function(t){e.areaTypeToken=t},expression:"areaTypeToken"}},[e.$v.areaTypeToken.$invalid&&e.$v.$dirty?a("span",[e._v("Area type is required.")]):e._e()])],1),a("v-flex",{attrs:{xs12:""}},[a("form-text-area",{attrs:{required:"",title:"Description of area.",label:"Description",icon:"info"},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}})],1)],1)},xy=[],$y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form-select",{attrs:{items:e.areaTypes,title:e.title||"Choose type of area",label:e.label||"Area Type","item-text":"name","item-value":"token",icon:"settings"},model:{value:e.wrapped,callback:function(t){e.wrapped=t},expression:"wrapped"}},[e._t("default")],2)},_y=[],Ty=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.areaTypes=[],e}return Object(j["a"])(a,[{key:"created",value:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){var t,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={pageNumber:1,pageSize:0},a={},e.prev=2,e.next=5,ab(this.$store,t,a);case 5:n=e.sent,this.areaTypes=n.data.results,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),ie(e.t0);case 12:case"end":return e.stop()}}),e,this,[[2,9]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"wrapped",get:function(){return this.value},set:function(e){this.$emit("input",e)}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])(String)],Ty.prototype,"value",void 0),Object(u["a"])([Object(n["Prop"])(String)],Ty.prototype,"title",void 0),Object(u["a"])([Object(n["Prop"])(String)],Ty.prototype,"label",void 0),Ty=Object(u["a"])([Object(n["Component"])({components:{FormSelect:Fe}})],Ty);var Dy=Ty,wy=Dy,Sy=Object(f["a"])(wy,$y,_y,!1,null,null,null),Ay=Sy.exports,Py=Ne["helpers"].regex("validToken",/^[a-zA-Z0-9-_]+$/),Ey=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.token=null,e.name=null,e.areaTypeToken=null,e.description=null,e}return Object(j["a"])(a,[{key:"reset",value:function(){this.token=null,this.name=null,this.areaTypeToken=null,this.description=null,this.$v.$reset()}},{key:"validate",value:function(){return this.$v.$touch(),!this.$v.$invalid}},{key:"load",value:function(e){this.token=e.token,this.name=e.name,this.areaTypeToken=e.areaType.token,this.description=e.description}},{key:"save",value:function(){return{token:this.token,name:this.name,areaTypeToken:this.areaTypeToken,description:this.description}}}]),a}(n["DialogSection"]);Ey=Object(u["a"])([Object(n["Component"])({components:{DialogForm:_e,FormToken:fd,FormText:Ee,FormTextArea:il,AreaTypeSelector:Ay},validations:{token:{required:Ne["required"],validToken:Py},name:{required:Ne["required"]},areaTypeToken:{required:Ne["required"]}}})],Ey);var Ly=Ey,Uy=Ly,Iy=Object(f["a"])(Uy,Cy,xy,!1,null,null,null),qy=Iy.exports,Ry=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("map-with-zone-overlay-panel",{ref:"map",staticStyle:{height:"450px",border:"1px solid #ddd"},attrs:{areaToken:e.areaToken,visible:e.showMap},on:{ready:e.onInitializeMap}})],1)},My=[],Fy=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("map-panel",{ref:"map",attrs:{visible:e.visible},on:{ready:e.onInitializeMap}})},Ny=[],zy=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"flex-rows"},[e.visible?a("div",{staticClass:"map-content"},[a("v-map",{ref:"map",staticStyle:{"z-index":"1"},attrs:{zoom:e.zoom,center:e.center}})],1):e._e(),e.mapReady?e._e():a("sw-loading-overlay",{attrs:{loadingMessage:"Loading map..."}})],1)},By=[],Vy=a("e11e"),Gy=a.n(Vy),Zy=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.mapReady=!1,e}return Object(j["a"])(a,[{key:"onVisibilityUpdated",value:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t){e.next=7;break}case 1:if(null!=this.getMap()){e.next=6;break}return e.next=4,this.sleep(100);case 4:e.next=1;break;case 6:this.resetMap();case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"sleep",value:function(e){return new Promise((function(t){return setTimeout(t,e)}))}},{key:"getMap",value:function(){return this.$refs.map?this.$refs.map.mapObject:null}},{key:"resetMap",value:function(){var e=this.getMap();if(e){e.eachLayer((function(t){e&&e.removeLayer(t)}));var t="http://{s}.tile.osm.org/{z}/{x}/{y}.png",a=new Vy["TileLayer"](t,{maxZoom:20});a.addTo(e),e.invalidateSize(),this.mapReady=!0,this.$emit("ready")}}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])({default:!1})],Zy.prototype,"visible",void 0),Object(u["a"])([Object(n["Prop"])({default:function(){return[47.41322,-1.219482]}})],Zy.prototype,"center",void 0),Object(u["a"])([Object(n["Prop"])({default:13})],Zy.prototype,"zoom",void 0),Object(u["a"])([Object(n["Watch"])("visible",{immediate:!0})],Zy.prototype,"onVisibilityUpdated",null),Zy=Object(u["a"])([Object(n["Component"])({})],Zy);var Wy=Zy,Hy=Wy,Jy=(a("e49a"),Object(f["a"])(Hy,zy,By,!1,null,"18cf0cac",null)),Qy=Jy.exports;function Yy(e){var t=[];return e.forEach((function(e){t.push(new Gy.a.LatLng(e.latitude,e.longitude))})),t}function Ky(e){var t=[];return e&&Array.isArray(e)&&e.forEach((function(e){t.push({latitude:e.lat,longitude:e.lng,elevation:0})})),t}function Xy(e){return{polyline:!1,circle:!1,marker:!1,circlemarker:!1,polygon:{shapeOptions:{color:e.borderColor,opacity:e.borderOpacity,fillColor:e.fillColor,fillOpacity:e.fillOpacity}},rectangle:{shapeOptions:{color:e.borderColor,opacity:e.borderOpacity,fillColor:e.fillColor,fillOpacity:e.fillOpacity}}}}function eg(){return{polyline:!1,circle:!1,marker:!1,circlemarker:!1,polygon:!1,rectangle:!1}}function tg(e,t){var a={position:"topright"};a.draw=Xy(t);var n=new Vy["Control"].Draw(a);return e.addControl(n),n}function ag(e,t){var a=new Vy["FeatureGroup"];a.addLayer(t),e.addLayer(a),a.bringToFront();var n={position:"topright",edit:{featureGroup:a,remove:!0}};n.draw=eg();var i=new Vy["Control"].Draw(n);e.addControl(i);var r=t.getBounds();return t.isEmpty()||e.fitBounds(r,{padding:[0,0]}),i}function ng(e,t){var a=lt(e),n=B["API"].Zones.createZone(a,t);return ut(e,n)}function ig(e,t){var a=lt(e),n=B["API"].Zones.getZone(a,t);return ut(e,n)}function rg(e,t,a){var n=lt(e),i=B["API"].Zones.updateZone(n,t,a);return ut(e,i)}function og(e,t,a){var n=lt(e),i=B["API"].Zones.listZones(n,t,a);return ut(e,i)}function sg(e,t){var a=lt(e),n=B["API"].Zones.deleteZone(a,t);return ut(e,n)}var lg=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.showMap=!1,e.zonesGroup=null,e}return Object(j["a"])(a,[{key:"makeMapVisible",value:function(){this.showMap=!0}},{key:"onInitializeMap",value:function(){this.refresh(),this.$emit("ready")}},{key:"getMap",value:function(){return this.$refs.map?this.$refs.map.getMap():null}},{key:"refresh",value:function(){this.loadZoneLayers()}},{key:"loadZoneLayers",value:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){var t,a,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.getMap(),!t){e.next=11;break}if(this.zonesGroup&&t.removeLayer(this.zonesGroup),this.areaToken){e.next=5;break}return e.abrupt("return");case 5:return a={areaToken:this.areaToken},n={},e.next=9,og(this.$store,a,n);case 9:i=e.sent,this.addZonesToFeatureGroup(t,i.data.results);case 11:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"addZonesToFeatureGroup",value:function(e,t){var a=this;if(this.zonesGroup=new Vy["FeatureGroup"],e.addLayer(this.zonesGroup),t.reverse(),t.forEach((function(e){if(-1===a.ignoreZoneTokens.indexOf(e.token)){var t=a.createPolygonForZone(e);a.zonesGroup&&a.zonesGroup.addLayer(t)}else console.log("ignored zone",e.token)})),this.zoomToZones){var n=this.zonesGroup.getBounds();e.fitBounds(n,{padding:[10,10]})}}},{key:"createPolygonForZone",value:function(e){var t=Yy(e.bounds),a=new Vy["Polygon"](t,{color:e.borderColor,opacity:e.borderOpacity,weight:3,fillColor:e.fillColor,fillOpacity:e.fillOpacity});return a}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])({default:!1})],lg.prototype,"visible",void 0),Object(u["a"])([Object(n["Prop"])()],lg.prototype,"areaToken",void 0),Object(u["a"])([Object(n["Prop"])({default:function(){return[]}})],lg.prototype,"ignoreZoneTokens",void 0),Object(u["a"])([Object(n["Prop"])({default:!1})],lg.prototype,"zoomToZones",void 0),lg=Object(u["a"])([Object(n["Component"])({components:{MapPanel:Qy}})],lg);var cg=lg,ug=cg,dg=Object(f["a"])(ug,Fy,Ny,!1,null,null,null),pg=dg.exports,vg=a("20d6"),fg=a.n(vg),mg=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.showMap=!1,e.areaToken=void 0,e.bounds=[],e.editControl=null,e.boundsLayer=null,e.borderColor="#446644",e.borderOpacity=.8,e.fillColor="#779977",e.fillOpacity=.3,e.xxx=fg.a,e}return Object(j["a"])(a,[{key:"makeMapVisible",value:function(){this.showMap=!0}},{key:"onInitializeMap",value:function(){var e=this,t=this.getMap();t&&(t.off(Vy["Draw"].Event.DRAWSTART).on(Vy["Draw"].Event.DRAWSTART,(function(t){e.removeBoundsLayer()})),t.off(Vy["Draw"].Event.CREATED).on(Vy["Draw"].Event.CREATED,(function(t){e.addBoundsLayer(t)})),t.off(Vy["Draw"].Event.EDITED).on(Vy["Draw"].Event.EDITED,(function(t){e.editBoundsLayer(t)})),t.off(Vy["Draw"].Event.DELETED).on(Vy["Draw"].Event.DELETED,(function(t){e.bounds=[],e.removeBoundsLayer()}))),this.onBoundsSet(this.bounds)}},{key:"reset",value:function(){this.$refs.map&&this.$refs.map.refresh(),this.areaToken=void 0,this.bounds=[],this.borderColor="#446644",this.fillColor="#779977",this.fillOpacity=.3}},{key:"validate",value:function(){return!0}},{key:"load",value:function(e){this.areaToken=e.token,this.bounds=e.bounds}},{key:"save",value:function(){return{bounds:this.bounds}}},{key:"getMap",value:function(){return this.$refs.map?this.$refs.map.getMap():null}},{key:"onBoundsSet",value:function(e){var t=this.getMap();if(t){if(this.boundsLayer&&this.removeBoundsLayer(),e&&e.length>0){var a=Yy(e),n=Object(Vy["latLngBounds"])(a);if(a&&a.length>0){var i=new Vy["Polygon"](a,{opacity:1,weight:3});i.setStyle({color:this.borderColor}),i.setStyle({fillColor:this.fillColor}),i.setStyle({fillOpacity:this.fillOpacity}),this.boundsLayer=i,t.addLayer(i),t.fitBounds(n,{padding:[10,10]})}}var r=this.editControl;if(r&&t.removeControl(r),this.boundsLayer)this.editControl=ag(t,this.boundsLayer);else{var o={areaToken:"",name:"",bounds:[],borderColor:this.borderColor,borderOpacity:this.borderOpacity,fillColor:this.fillColor,fillOpacity:this.fillOpacity};this.editControl=tg(t,o)}}}},{key:"addBoundsLayer",value:function(e){var t=e.layer;this.bounds=Ky(t.getLatLngs()[0])}},{key:"editBoundsLayer",value:function(e){this.boundsLayer&&(this.bounds=Ky(this.boundsLayer.getLatLngs()[0]))}},{key:"removeBoundsLayer",value:function(){var e=this.getMap();this.boundsLayer&&e&&(e.removeLayer(this.boundsLayer),this.boundsLayer=null)}}]),a}(n["DialogSection"]);Object(u["a"])([Object(n["Watch"])("bounds")],mg.prototype,"onBoundsSet",null),mg=Object(u["a"])([Object(n["Component"])({components:{MapWithZoneOverlayPanel:pg}})],mg);var hg=mg,bg=hg,yg=Object(f["a"])(bg,Ry,My,!1,null,null,null),gg=yg.exports,kg=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"generatePayload",value:function(){var e={};return Object.assign(e,this.$refs.details.save(),this.$refs.bounds.save(),this.$refs.branding.save(),this.$refs.metadata.save()),e}},{key:"reset",value:function(){this.$refs.details&&this.$refs.details.reset(),this.$refs.bounds&&this.$refs.bounds.reset(),this.$refs.branding&&this.$refs.branding.reset(),this.$refs.metadata&&this.$refs.metadata.reset(),this.$refs.dialog.setActiveTab(0)}},{key:"load",value:function(e){this.reset(),this.$refs.details&&this.$refs.details.load(e),this.$refs.bounds&&this.$refs.bounds.load(e),this.$refs.branding&&this.$refs.branding.load(e),this.$refs.metadata&&this.$refs.metadata.load(e)}},{key:"onTabSelected",value:function(e){1===e&&this.$refs.bounds.makeMapVisible()}},{key:"onCreateClicked",value:function(e){if(this.$refs.details.validate())if(this.$refs.bounds.validate())if(this.$refs.branding.validate()){var t=this.generatePayload();this.$emit("payload",t)}else this.$refs.dialog.setActiveTab(2);else this.$refs.dialog.setActiveTab(1);else this.$refs.dialog.setActiveTab(0)}},{key:"icon",get:function(){return I.Area}}]),a}(n["DialogComponent"]);kg=Object(u["a"])([Object(n["Component"])({components:{AreaDetailFields:qy,AreaBoundsPanel:gg,BrandingPanel:Pa}})],kg);var Og=kg,jg=Og,Cg=Object(f["a"])(jg,Oy,jy,!1,null,null,null),xg=Cg.exports,$g=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"getDialog",value:function(){return this.$refs.dialog}},{key:"onCommit",value:function(e){this.commit(e)}},{key:"save",value:function(e){return this.parentArea&&(e.parentToken=this.parentArea.token),so(this.$store,e)}},{key:"afterSave",value:function(e){}}]),a}(n["CreateDialogComponent"]);Object(u["a"])([Object(n["Prop"])()],$g.prototype,"parentArea",void 0),$g=Object(u["a"])([Object(n["Component"])({components:{AreaDialog:xg}})],$g);var _g=$g,Tg=_g,Dg=Object(f["a"])(Tg,gy,ky,!1,null,null,null),wg=Dg.exports,Sg=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.addIcon=I.Add,e}return Object(j["a"])(a,[{key:"buildSearchCriteria",value:function(){var e={};return e}},{key:"buildResponseFormat",value:function(){var e={includeAreaType:!0,includeAssignments:!1,includeZones:!1};return e}},{key:"performSearch",value:function(e,t){return uo(this.$store,e,t)}},{key:"onOpenArea",value:function(e){ue(this,"/areas/"+e.token)}},{key:"onAddArea",value:function(){this.$refs.add.open()}},{key:"onAreaAdded",value:function(){this.refresh()}},{key:"icon",get:function(){return I.Area}}]),a}(n["ListComponent"]);Sg=Object(u["a"])([Object(n["Component"])({components:{AreaListEntry:Zb,AreaCreateDialog:wg,AddButton:cp,NoResultsPanel:hp}})],Sg);var Ag=Sg,Pg=Ag,Eg=Object(f["a"])(Pg,by,yy,!1,null,null,null),Lg=Eg.exports,Ug=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-detail-page",{attrs:{icon:e.icon,title:e.title,loadingMessage:"Loading area ...",loaded:e.loaded,record:e.area}},[a("template",{slot:"header"},[a("area-detail-header",{attrs:{record:e.area}})],1),a("template",{slot:"tabs"},[a("v-tab",{key:"areas"},[e._v("Subareas")]),a("v-tab",{key:"assignments"},[e._v("Assigned Devices")]),a("v-tab",{key:"locations"},[e._v("Locations")]),a("v-tab",{key:"measurements"},[e._v("Measurements")]),a("v-tab",{key:"alerts"},[e._v("Alerts")]),a("v-tab",{key:"zones"},[e._v("Zones")])],1),a("template",{slot:"tab-items"},[a("area-subareas",{ref:"subareas",attrs:{tabkey:"areas",areaToken:e.token}}),a("area-assignments",{attrs:{tabkey:"assignments",areaToken:e.token}}),a("area-location-events",{attrs:{tabkey:"locations",areaToken:e.token}}),a("area-measurement-events",{attrs:{tabkey:"measurements",areaToken:e.token}}),a("area-alert-events",{attrs:{tabkey:"alerts",areaToken:e.token}}),a("area-zones",{ref:"zones",attrs:{tabkey:"zones",area:e.area}})],1),a("template",{slot:"dialogs"},[a("area-create-dialog",{ref:"create",attrs:{parentArea:e.area},on:{created:e.onSubareaAdded}}),a("area-update-dialog",{ref:"edit",attrs:{token:e.token,parentArea:e.area},on:{areaUpdated:e.onAreaUpdated}}),a("area-delete-dialog",{ref:"delete",attrs:{token:e.token},on:{deleted:e.afterAreaDeleted}}),a("zone-create-dialog",{ref:"zoneCreate",attrs:{area:e.area},on:{zoneAdded:e.onZoneAdded}})],1),a("template",{slot:"actions"},[e.parentArea?a("up-button",{attrs:{tooltip:"Up One Level"},on:{action:e.onUpOneLevel}}):e._e(),a("area-button",{attrs:{tooltip:"Add Subarea"},on:{action:e.onAddSubarea}}),a("zone-button",{attrs:{tooltip:"Add Zone"},on:{action:e.onAddZone}}),a("edit-button",{attrs:{tooltip:"Edit Area"},on:{action:e.onEdit}}),a("delete-button",{attrs:{tooltip:"Delete Area"},on:{action:e.onDelete}})],1)],2)},Ig=[],qg=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.area?a("sw-navigation-header-panel",{attrs:{height:"200px"}},[a("template",{slot:"left"},[a("sw-header-branding-panel",{attrs:{entity:e.area}})],1),a("template",{slot:"content"},[a("sw-navigation-header-fields",[a("sw-header-field",{attrs:{label:"Token"}},[a("clipboard-copy-field",{attrs:{field:e.area.token,message:"Token copied to clipboard"}})],1),a("sw-linked-header-field",{attrs:{label:"Area Type",text:e.area.areaType.name,url:"/areatypes/"+e.area.areaType.token}}),a("sw-header-field",{attrs:{label:"Name"}},[a("span",[e._v(e._s(e.area.name))])]),a("sw-header-field",{attrs:{label:"Description"}},[a("span",[e._v(e._s(e.area.description))])]),a("sw-header-field",{attrs:{label:"Created"}},[a("span",[e._v(e._s(e.formatDate(e.area.createdDate)))])]),a("sw-header-field",{attrs:{label:"Updated"}},[a("span",[e._v(e._s(e.formatDate(e.area.updatedDate)))])])],1)],1),a("template",{slot:"right"},[a("authenticated-image",{attrs:{url:e.qrCodeUrl}})],1)],2):e._e()},Rg=[],Mg=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"formatDate",value:function(e){return se(e)}},{key:"area",get:function(){return this.record}},{key:"token",get:function(){return this.area?this.area.token:""}},{key:"qrCodeUrl",get:function(){return"areas/"+this.token+"/label/qrcode"}}]),a}(n["HeaderComponent"]);Mg=Object(u["a"])([Object(n["Component"])({components:{ClipboardCopyField:rn,AuthenticatedImage:pn}})],Mg);var Fg=Mg,Ng=Fg,zg=Object(f["a"])(Ng,qg,Rg,!1,null,null,null),Bg=zg.exports,Vg=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-list-tab",{attrs:{tabkey:e.tabkey,loaded:e.loaded,results:e.results},on:{pagingUpdated:e.onPagingUpdated}},[a("sw-list-layout",e._l(e.matches,(function(t){return a("v-flex",{key:t.token,attrs:{xs6:""}},[a("area-list-entry",{attrs:{area:t},on:{open:e.onOpenArea}})],1)})),1),a("template",{slot:"noresults"},[a("no-results-panel",[a("div",[e._v("This area has no subareas.")]),a("div",{staticClass:"mt-2"},[e._v(" Click "),a("v-icon",{staticClass:"pl-1 pr-2"},[e._v(e._s(e.areaIcon))]),e._v("in the toolbar to add a subarea. ")],1)])],1),a("template",{slot:"dialogs"},[a("area-create-dialog",{on:{areaAdded:e.refresh}})],1)],2)},Gg=[],Zg=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.areaIcon=I.Area,e}return Object(j["a"])(a,[{key:"buildSearchCriteria",value:function(){var e={rootOnly:!1};return e.parentAreaToken=this.areaToken,e}},{key:"buildResponseFormat",value:function(){var e={includeAreaType:!0,includeAssignments:!1};return e}},{key:"performSearch",value:function(e,t){return uo(this.$store,e,t)}},{key:"onOpenArea",value:function(e){ue(this,"/areas/"+e.token)}}]),a}(n["ListComponent"]);Object(u["a"])([Object(n["Prop"])()],Zg.prototype,"tabkey",void 0),Object(u["a"])([Object(n["Prop"])()],Zg.prototype,"areaToken",void 0),Zg=Object(u["a"])([Object(n["Component"])({components:{AreaListEntry:Zb,AreaCreateDialog:wg,NoResultsPanel:hp}})],Zg);var Wg=Zg,Hg=Wg,Jg=Object(f["a"])(Hg,Vg,Gg,!1,null,null,null),Qg=Jg.exports,Yg=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-list-tab",{attrs:{tabkey:e.tabkey,loaded:e.loaded,results:e.results},on:{pagingUpdated:e.onPagingUpdated}},[a("sw-list-layout",e._l(e.matches,(function(t){return a("v-flex",{key:t.token,attrs:{xs12:""}},[a("assignment-list-entry",{attrs:{assignment:t},on:{assignmentOpened:function(a){return e.onOpenAssignment(t)},refresh:e.refresh}})],1)})),1),a("template",{slot:"noresults"},[a("no-results-panel",[a("div",[e._v("This area has no device assignments.")])])],1)],2)},Kg=[],Xg=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"buildSearchCriteria",value:function(){var e={};return e.areaTokens=[this.areaToken],e}},{key:"buildResponseFormat",value:function(){var e={includeDevice:!0,includeCustomer:!0,includeArea:!0,includeAsset:!0};return e}},{key:"performSearch",value:function(e,t){return lm(this.$store,e,t)}},{key:"onOpenAssignment",value:function(e){ue(this,"/assignments/"+e.token)}}]),a}(n["ListComponent"]);Object(u["a"])([Object(n["Prop"])()],Xg.prototype,"tabkey",void 0),Object(u["a"])([Object(n["Prop"])()],Xg.prototype,"areaToken",void 0),Xg=Object(u["a"])([Object(n["Component"])({components:{AssignmentListEntry:im,NoResultsPanel:hp}})],Xg);var ek=Xg,tk=ek,ak=Object(f["a"])(tk,Yg,Kg,!1,null,null,null),nk=ak.exports,ik=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-data-table-tab",{attrs:{tabkey:e.tabkey,loaded:e.loaded,headers:e.headers,results:e.results,pageSizes:e.pageSizes,loadingMessage:"Loading area locations ..."},on:{pagingUpdated:e.onPagingUpdated},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{attrs:{width:"40%",title:t.item.assetName}},[e._v(e._s(t.item.assetName))]),a("td",{attrs:{width:"40%",title:"Lat/Lon/Elevation"}},[e._v(e._s(e.fourDecimalPlaces(t.item.latitude)+", "+e.fourDecimalPlaces(t.item.longitude)+", "+e.fourDecimalPlaces(t.item.elevation)))]),a("td",{staticStyle:{"white-space":"nowrap"},attrs:{width:"10%",title:e.formatDate(t.item.eventDate)}},[e._v(e._s(e.formatDate(t.item.eventDate)))]),a("td",{staticStyle:{"white-space":"nowrap"},attrs:{width:"10%",title:e.formatDate(t.item.receivedDate)}},[e._v(e._s(e.formatDate(t.item.receivedDate)))])]}}])})},rk=[],ok=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.pageSizes=V,e.headers=G,e}return Object(j["a"])(a,[{key:"buildSearchCriteria",value:function(){var e={};return e}},{key:"buildResponseFormat",value:function(){var e={};return e}},{key:"performSearch",value:function(e,t){return vo(this.$store,this.areaToken,e,t)}},{key:"formatDate",value:function(e){return se(e)}},{key:"fourDecimalPlaces",value:function(e){return ce(e)}}]),a}(n["ListComponent"]);Object(u["a"])([Object(n["Prop"])()],ok.prototype,"tabkey",void 0),Object(u["a"])([Object(n["Prop"])()],ok.prototype,"areaToken",void 0),ok=Object(u["a"])([Object(n["Component"])({})],ok);var sk=ok,lk=sk,ck=Object(f["a"])(lk,ik,rk,!1,null,null,null),uk=ck.exports,dk=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-data-table-tab",{attrs:{tabkey:e.tabkey,loaded:e.loaded,headers:e.headers,results:e.results,pageSizes:e.pageSizes,loadingMessage:"Loading area measurements ..."},on:{pagingUpdated:e.onPagingUpdated},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{attrs:{width:"30%",title:t.item.assetName}},[e._v(e._s(t.item.assetName))]),a("td",{attrs:{width:"25%",title:t.item.name}},[e._v(e._s(t.item.name))]),a("td",{attrs:{width:"25%",title:t.item.value}},[e._v(e._s(t.item.value))]),a("td",{staticStyle:{"white-space":"nowrap"},attrs:{width:"10%",title:e.formatDate(t.item.eventDate)}},[e._v(e._s(e.formatDate(t.item.eventDate)))]),a("td",{staticStyle:{"white-space":"nowrap"},attrs:{width:"10%",title:e.formatDate(t.item.receivedDate)}},[e._v(e._s(e.formatDate(t.item.receivedDate)))])]}}])})},pk=[],vk=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.pageSizes=V,e.headers=W,e}return Object(j["a"])(a,[{key:"buildSearchCriteria",value:function(){var e={};return e}},{key:"buildResponseFormat",value:function(){var e={};return e}},{key:"performSearch",value:function(e,t){return fo(this.$store,this.areaToken,e,t)}},{key:"formatDate",value:function(e){return se(e)}}]),a}(n["ListComponent"]);Object(u["a"])([Object(n["Prop"])()],vk.prototype,"tabkey",void 0),Object(u["a"])([Object(n["Prop"])()],vk.prototype,"areaToken",void 0),vk=Object(u["a"])([Object(n["Component"])({})],vk);var fk=vk,mk=fk,hk=Object(f["a"])(mk,dk,pk,!1,null,null,null),bk=hk.exports,yk=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-data-table-tab",{attrs:{tabkey:e.tabkey,loaded:e.loaded,headers:e.headers,results:e.results,pageSizes:e.pageSizes,loadingMessage:"Loading area alerts ..."},on:{pagingUpdated:e.onPagingUpdated},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{attrs:{width:"30%",title:t.item.assetName}},[e._v(e._s(t.item.assetName))]),a("td",{attrs:{width:"20%",title:t.item.type}},[e._v(e._s(t.item.type))]),a("td",{attrs:{width:"30%",title:t.item.message}},[e._v(e._s(t.item.message))]),a("td",{staticStyle:{"white-space":"nowrap"},attrs:{width:"10%",title:e.formatDate(t.item.eventDate)}},[e._v(e._s(e.formatDate(t.item.eventDate)))]),a("td",{staticStyle:{"white-space":"nowrap"},attrs:{width:"10%",title:e.formatDate(t.item.receivedDate)}},[e._v(e._s(e.formatDate(t.item.receivedDate)))])]}}])})},gk=[],kk=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.pageSizes=V,e.headers=J,e}return Object(j["a"])(a,[{key:"buildSearchCriteria",value:function(){var e={};return e}},{key:"buildResponseFormat",value:function(){var e={};return e}},{key:"performSearch",value:function(e,t){return mo(this.$store,this.areaToken,e,t)}},{key:"formatDate",value:function(e){return se(e)}}]),a}(n["ListComponent"]);Object(u["a"])([Object(n["Prop"])()],kk.prototype,"tabkey",void 0),Object(u["a"])([Object(n["Prop"])()],kk.prototype,"areaToken",void 0),kk=Object(u["a"])([Object(n["Component"])({})],kk);var Ok=kk,jk=Ok,Ck=Object(f["a"])(jk,yk,gk,!1,null,null,null),xk=Ck.exports,$k=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-data-table-tab",{attrs:{tabkey:e.tabkey,id:e.id,loaded:e.loaded,headers:e.headers,results:e.results,pageSizes:e.pageSizes,loadingMessage:"Loading area measurements ..."},on:{pagingUpdated:e.onPagingUpdated},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{attrs:{width:"30%",title:t.item.name}},[a("span",{staticClass:"zone-name"},[a("div",{staticClass:"zone-outer",style:{"border-color":t.item.borderColor}},[a("div",{staticClass:"zone-inner",style:{"background-color":t.item.fillColor,opacity:t.item.opacity}})]),e._v(" "+e._s(t.item.name)+" ")])]),a("td",{staticClass:"zone-token",attrs:{width:"40%",title:t.item.token}},[e._v(e._s(t.item.token))]),a("td",{staticStyle:{"white-space":"nowrap"},attrs:{width:"10%",title:e.formatDate(t.item.createdDate)}},[e._v(e._s(e.formatDate(t.item.createdDate)))]),a("td",{staticStyle:{"white-space":"nowrap"},attrs:{width:"10%",title:e.formatDate(t.item.updatedDate)}},[e._v(e._s(e.formatDate(t.item.updatedDate)))]),a("td",{staticStyle:{"white-space":"nowrap"},attrs:{width:"1%",title:"Edit/Delete"}},[a("actions-block",{on:{edit:function(a){return e.onEditZone(t.item.token)},delete:function(a){return e.onDeleteZone(t.item.token)}}})],1)]}}])},[a("template",{slot:"dialogs"},[a("zone-update-dialog",{ref:"update",attrs:{area:e.area}}),a("zone-delete-dialog",{ref:"delete",on:{deleted:e.refresh}})],1)],2)},_k=[],Tk=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("zone-dialog",{ref:"dialog",attrs:{area:e.area,title:"Update Zone",width:"700",createLabel:"Update",cancelLabel:"Cancel"},on:{payload:e.onSave}})},Dk=[],wk=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-base-dialog",{ref:"dialog",attrs:{icon:e.icon,title:e.title,width:e.width,loaded:e.loaded,visible:e.dialogVisible,createLabel:e.createLabel,cancelLabel:e.cancelLabel},on:{createClicked:e.onCreateClicked,cancelClicked:e.onCancelClicked}},[a("template",{slot:"tabs"},[a("v-tab",{key:"details"},[e._v("Details")]),a("v-tab",{key:"metadata"},[e._v("Metadata")])],1),a("template",{slot:"tab-items"},[a("v-tab-item",{key:"details"},[a("zone-detail-fields",{ref:"details",attrs:{area:e.area,mapVisible:e.mapVisible}})],1),a("v-tab-item",{key:"metadata"},[a("sw-metadata-panel",{ref:"metadata"})],1)],1)],2)},Sk=[],Ak=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("dialog-form",[a("v-flex",{attrs:{xs12:""}},[a("map-with-zone-overlay-panel",{ref:"map",staticStyle:{height:"400px",border:"1px solid #ddd"},attrs:{areaToken:e.areaToken,visible:e.mapVisible,zoomToZones:!1,ignoreZoneTokens:e.ignoredZones},on:{ready:e.onInitializeMap}}),a("v-container",{attrs:{fluid:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{staticClass:"mb-2",attrs:{xs12:""}},[a("v-text-field",{attrs:{required:"",label:"Token",placeholder:" ","hide-details":"","prepend-icon":"info"},model:{value:e.token,callback:function(t){e.token=t},expression:"token"}}),a("div",{staticClass:"verror"},[!e.$v.token.required&&e.$v.$dirty?a("span",[e._v("Token is required.")]):e._e(),!e.$v.token.validToken&&e.$v.$dirty?a("span",[e._v("Token is not valid.")]):e._e()])],1),a("v-flex",{attrs:{xs8:""}},[a("v-text-field",{attrs:{required:"","hide-details":"",label:"Zone name",placeholder:" ","prepend-icon":"info"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}}),a("div",{staticClass:"verror"},[e.$v.name.$invalid&&e.$v.$dirty?a("span",[e._v("Zone name is required.")]):e._e()])],1),a("v-flex",{attrs:{xs2:""}},[a("sw-color-picker",{attrs:{text:"Border",opacity:e.borderOpacity},on:{opacityChanged:e.onBorderOpacityUpdated},model:{value:e.borderColor,callback:function(t){e.borderColor=t},expression:"borderColor"}})],1),a("v-flex",{attrs:{xs2:""}},[a("sw-color-picker",{attrs:{text:"Fill",opacity:e.fillOpacity},on:{opacityChanged:e.onFillOpacityUpdated},model:{value:e.fillColor,callback:function(t){e.fillColor=t},expression:"fillColor"}})],1)],1)],1)],1)],1)},Pk=[],Ek=Ne["helpers"].regex("validToken",/^[a-zA-Z0-9-_]+$/),Lk=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.token=null,e.name=null,e.bounds=[],e.borderColor="#333",e.borderOpacity=.7,e.fillColor="#ccc",e.fillOpacity=.4,e.editControl=null,e.zoneLayer=null,e.xxx=fg.a,e}return Object(j["a"])(a,[{key:"onInitializeMap",value:function(){var e=this,t=this.getMap();t&&(t.off(Vy["Draw"].Event.DRAWSTART).on(Vy["Draw"].Event.DRAWSTART,(function(t){e.removeZoneLayer()})),t.off(Vy["Draw"].Event.CREATED).on(Vy["Draw"].Event.CREATED,(function(t){e.addZoneLayer(t)})),t.off(Vy["Draw"].Event.EDITED).on(Vy["Draw"].Event.EDITED,(function(t){e.editZoneLayer(t)})),t.off(Vy["Draw"].Event.DELETED).on(Vy["Draw"].Event.DELETED,(function(t){e.bounds=[],e.removeZoneLayer()})));var a=Yy(this.area.bounds);t&&t.fitBounds(Object(Vy["latLngBounds"])(a),{padding:[10,10]}),this.onBoundsSet(this.bounds)}},{key:"getMap",value:function(){return this.$refs.map?this.$refs.map.getMap():null}},{key:"reset",value:function(){this.$refs.map&&this.$refs.map.refresh(),this.token=null,this.name=null,this.bounds=[],this.borderColor="#333",this.borderOpacity=.7,this.fillColor="#ccc",this.fillOpacity=.4,this.$v.$reset()}},{key:"validate",value:function(){return!!this.zoneLayer&&(this.$v.$touch(),!this.$v.$invalid)}},{key:"load",value:function(e){this.token=e.token,this.name=e.name,this.bounds=e.bounds,this.borderColor=e.borderColor,this.borderOpacity=e.borderOpacity,this.fillColor=e.fillColor,this.fillOpacity=e.fillOpacity}},{key:"save",value:function(){return{token:this.token,name:this.name,bounds:this.bounds,borderColor:this.borderColor,borderOpacity:this.borderOpacity,fillColor:this.fillColor,fillOpacity:this.fillOpacity}}},{key:"onBoundsUpdated",value:function(e){this.bounds=e}},{key:"onBorderOpacityUpdated",value:function(e){this.borderOpacity=e}},{key:"onFillOpacityUpdated",value:function(e){this.fillOpacity=e}},{key:"onBoundsSet",value:function(e){var t=this.getMap();if(t){if(this.zoneLayer&&this.removeZoneLayer(),e&&e.length>0){var a=Yy(e),n=Object(Vy["latLngBounds"])(a);if(a&&a.length>0){var i=new Vy["Polygon"](a,{weight:3});this.zoneLayer=i,this.updateZoneStyle(),t.addLayer(i),t.fitBounds(n,{padding:[10,10]})}}this.prepareDrawControls(t)}}},{key:"prepareDrawControls",value:function(e){var t=this.editControl;if(t&&e.removeControl(t),this.zoneLayer)this.editControl=ag(e,this.zoneLayer);else{var a={areaToken:"",name:"",bounds:[],borderColor:this.borderColor?this.borderColor:"#666",borderOpacity:this.borderOpacity?this.borderOpacity:.7,fillColor:this.fillColor?this.fillColor:"#ccc",fillOpacity:this.fillOpacity?this.fillOpacity:.4};this.editControl=tg(e,a)}}},{key:"onStyleSet",value:function(){this.updateZoneStyle()}},{key:"updateZoneStyle",value:function(){this.zoneLayer&&(this.zoneLayer.setStyle({color:this.borderColor?this.borderColor:"#666"}),this.zoneLayer.setStyle({opacity:this.borderOpacity?this.borderOpacity:.7}),this.zoneLayer.setStyle({fillColor:this.fillColor?this.fillColor:"#ccc"}),this.zoneLayer.setStyle({fillOpacity:this.fillOpacity?this.fillOpacity:.4}))}},{key:"addZoneLayer",value:function(e){var t=e.layer;this.bounds=Ky(t.getLatLngs()[0])}},{key:"editZoneLayer",value:function(e){this.zoneLayer&&(this.bounds=Ky(this.zoneLayer.getLatLngs()[0]))}},{key:"removeZoneLayer",value:function(){var e=this.getMap();this.zoneLayer&&e&&(e.removeLayer(this.zoneLayer),this.zoneLayer=null)}},{key:"areaToken",get:function(){return this.area?this.area.token:null}},{key:"ignoredZones",get:function(){return this.token?[this.token]:[]}}]),a}(n["DialogSection"]);Object(u["a"])([Object(n["Prop"])()],Lk.prototype,"area",void 0),Object(u["a"])([Object(n["Prop"])()],Lk.prototype,"mapVisible",void 0),Object(u["a"])([Object(n["Watch"])("bounds")],Lk.prototype,"onBoundsSet",null),Object(u["a"])([Object(n["Watch"])("borderColor"),Object(n["Watch"])("borderOpacity"),Object(n["Watch"])("fillColor"),Object(n["Watch"])("fillOpacity")],Lk.prototype,"onStyleSet",null),Lk=Object(u["a"])([Object(n["Component"])({components:{DialogForm:_e,MapWithZoneOverlayPanel:pg},validations:{token:{required:Ne["required"],validToken:Ek},name:{required:Ne["required"]},borderColor:{required:Ne["required"]},borderOpacity:{required:Ne["required"]},fillColor:{required:Ne["required"]},fillOpacity:{required:Ne["required"]}}})],Lk);var Uk=Lk,Ik=Uk,qk=Object(f["a"])(Ik,Ak,Pk,!1,null,null,null),Rk=qk.exports,Mk=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.mapVisible=!1,e}return Object(j["a"])(a,[{key:"generatePayload",value:function(){var e={};return Object.assign(e,this.$refs.details.save(),this.$refs.metadata.save()),e}},{key:"reset",value:function(){this.mapVisible=!0,this.$refs.details&&this.$refs.details.reset(),this.$refs.metadata&&this.$refs.metadata.reset(),this.$refs.dialog.setActiveTab(0)}},{key:"load",value:function(e){this.reset(),this.$refs.details&&this.$refs.details.load(e),this.$refs.metadata&&this.$refs.metadata.load(e)}},{key:"onCreateClicked",value:function(e){if(this.$refs.details.validate()){var t=this.generatePayload();console.log("Before payload emit:",this),this.$emit("payload",t)}else this.$refs.dialog.setActiveTab(0)}},{key:"icon",get:function(){return I.Zone}}]),a}(n["DialogComponent"]);Object(u["a"])([Object(n["Prop"])()],Mk.prototype,"area",void 0),Mk=Object(u["a"])([Object(n["Component"])({components:{ZoneDetailFields:Rk}})],Mk);var Fk=Mk,Nk=Fk,zk=Object(f["a"])(Nk,wk,Sk,!1,null,null,null),Bk=zk.exports,Vk=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"getDialog",value:function(){return this.$refs.dialog}},{key:"prepareLoad",value:function(e){return ig(this.$store,e)}},{key:"prepareSave",value:function(e,t){return rg(this.$store,e.token,t)}},{key:"onSave",value:function(e){this.save(e)}}]),a}(n["EditDialogComponent"]);Object(u["a"])([Object(n["Prop"])()],Vk.prototype,"area",void 0),Vk=Object(u["a"])([Object(n["Component"])({components:{ZoneDialog:Bk}})],Vk);var Gk=Vk,Zk=Gk,Wk=Object(f["a"])(Zk,Tk,Dk,!1,null,null,null),Hk=Wk.exports,Jk=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-delete-dialog",{ref:"dialog",attrs:{title:"Delete Zone",width:"400",visible:e.visible},on:{delete:e.onDelete,cancel:e.onCancel}},[a("v-card-text",[e._v(e._s(e.message))])],1)},Qk=[],Yk=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.message=null,e}return Object(j["a"])(a,[{key:"prepareLoad",value:function(e){return ig(this.$store,e)}},{key:"afterLoad",value:function(e){this.message="Are you sure you want to delete '".concat(e.name,"'?")}},{key:"prepareDelete",value:function(e){return sg(this.$store,e.token)}},{key:"onDelete",value:function(e){this.delete()}},{key:"onCancel",value:function(e){this.cancel()}}]),a}(n["DeleteDialogComponent"]);Yk=Object(u["a"])([Object(n["Component"])({})],Yk);var Kk=Yk,Xk=Kk,eO=Object(f["a"])(Xk,Jk,Qk,!1,null,null,null),tO=eO.exports,aO=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.pageSizes=[{text:"25",value:25},{text:"50",value:50},{text:"100",value:100}],e.headers=[{align:"left",sortable:!1,text:"Name",value:"name"},{align:"left",sortable:!1,text:"Token",value:"token"},{align:"left",sortable:!1,text:"Created Date",value:"created"},{align:"left",sortable:!1,text:"Updated Date",value:"updated"},{align:"left",sortable:!1,text:"",value:"edit"}],e}return Object(j["a"])(a,[{key:"buildSearchCriteria",value:function(){var e={};return e.areaToken=this.area.token,e}},{key:"buildResponseFormat",value:function(){var e={};return e}},{key:"performSearch",value:function(e,t){return og(this.$store,e,t)}},{key:"formatDate",value:function(e){return se(e)}},{key:"onEditZone",value:function(e){this.$refs.update.open(e)}},{key:"onZoneUpdated",value:function(){this.refresh()}},{key:"onDeleteZone",value:function(e){this.$refs.delete.open(e)}},{key:"onZoneDeleted",value:function(){this.refresh()}}]),a}(n["ListComponent"]);Object(u["a"])([Object(n["Prop"])()],aO.prototype,"tabkey",void 0),Object(u["a"])([Object(n["Prop"])()],aO.prototype,"id",void 0),Object(u["a"])([Object(n["Prop"])()],aO.prototype,"area",void 0),aO=Object(u["a"])([Object(n["Component"])({components:{ActionsBlock:gc,ZoneUpdateDialog:Hk,ZoneDeleteDialog:tO}})],aO);var nO=aO,iO=nO,rO=(a("f8c4"),Object(f["a"])(iO,$k,_k,!1,null,"45acc4d6",null)),oO=rO.exports,sO=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("area-dialog",{ref:"dialog",attrs:{title:"Edit Area",loaded:e.loaded,createLabel:"Update",cancelLabel:"Cancel"},on:{payload:e.onSave}})},lO=[],cO=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"getDialog",value:function(){return this.$refs.dialog}},{key:"prepareLoad",value:function(e){var t={includeAreaType:!0};return lo(this.$store,e,t)}},{key:"prepareSave",value:function(e,t){return co(this.$store,e.token,t)}},{key:"onSave",value:function(e){this.save(e)}},{key:"afterSave",value:function(e){this.$emit("areaUpdated",e)}}]),a}(n["EditDialogComponent"]);cO=Object(u["a"])([Object(n["Component"])({components:{AreaDialog:xg}})],cO);var uO=cO,dO=uO,pO=Object(f["a"])(dO,sO,lO,!1,null,null,null),vO=pO.exports,fO=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-delete-dialog",{ref:"dialog",attrs:{title:"Delete Area",width:"400",visible:e.visible},on:{delete:e.onDelete,cancel:e.onCancel}},[a("v-card-text",[e._v(e._s(e.message))])],1)},mO=[],hO=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.message=null,e}return Object(j["a"])(a,[{key:"prepareLoad",value:function(e){var t={};return lo(this.$store,e,t)}},{key:"afterLoad",value:function(e){this.message="Are you sure you want to delete '".concat(e.name,"'?")}},{key:"prepareDelete",value:function(e){return po(this.$store,e.token)}},{key:"onDelete",value:function(e){this.delete()}},{key:"onCancel",value:function(e){this.cancel()}}]),a}(n["DeleteDialogComponent"]);hO=Object(u["a"])([Object(n["Component"])({})],hO);var bO=hO,yO=bO,gO=Object(f["a"])(yO,fO,mO,!1,null,null,null),kO=gO.exports,OO=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("zone-dialog",{ref:"dialog",attrs:{area:e.area,title:"Create Zone",width:"700",createLabel:"Create",cancelLabel:"Cancel",mode:"create"},on:{payload:e.onCommit}})},jO=[],CO=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"getDialog",value:function(){return this.$refs.dialog}},{key:"onCommit",value:function(e){this.commit(e)}},{key:"save",value:function(e){return e.areaToken=this.area.token,ng(this.$store,e)}},{key:"afterSave",value:function(e){this.$emit("zoneAdded",e)}}]),a}(n["CreateDialogComponent"]);Object(u["a"])([Object(n["Prop"])()],CO.prototype,"area",void 0),CO=Object(u["a"])([Object(n["Component"])({components:{ZoneDialog:Bk}})],CO);var xO=CO,$O=xO,_O=Object(f["a"])($O,OO,jO,!1,null,null,null),TO=_O.exports,DO=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-navigation-action-button",{attrs:{material:"true",icon:e.icon,tooltip:e.tooltip},on:{action:e.onAction}})},wO=[],SO=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"onAction",value:function(){this.$emit("action")}},{key:"icon",get:function(){return I.Area}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],SO.prototype,"tooltip",void 0),SO=Object(u["a"])([Object(n["Component"])({})],SO);var AO=SO,PO=AO,EO=Object(f["a"])(PO,DO,wO,!1,null,"0893a44a",null),LO=EO.exports,UO=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-navigation-action-button",{attrs:{material:"true",icon:e.icon,tooltip:e.tooltip},on:{action:e.onAction}})},IO=[],qO=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"onAction",value:function(){this.$emit("action")}},{key:"icon",get:function(){return I.Zone}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],qO.prototype,"tooltip",void 0),qO=Object(u["a"])([Object(n["Component"])({})],qO);var RO=qO,MO=RO,FO=Object(f["a"])(MO,UO,IO,!1,null,"43c67d7c",null),NO=FO.exports,zO=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.parentArea=null,e}return Object(j["a"])(a,[{key:"beforeRouteUpdate",value:function(e,t,a){this.display(e.params.token),a()}},{key:"loadRecord",value:function(e){var t={includeAreaType:!0};return lo(this.$store,e,t)}},{key:"afterRecordLoaded",value:function(e){this.parentArea=e.parentArea;var t={id:"areas",title:"Areas",icon:I.Area,route:"/admin/areas/"+e.token,longTitle:"Manage Area: "+e.name};this.$store.commit("currentSection",t)}},{key:"onEdit",value:function(){this.token&&this.$refs.edit.open(this.token)}},{key:"onAddSubarea",value:function(){this.$refs.create.open()}},{key:"onSubareaAdded",value:function(){this.$refs.subareas.refresh()}},{key:"onAddZone",value:function(){this.$refs.zoneCreate.open()}},{key:"onZoneAdded",value:function(){this.$refs.zones.refresh(),this.refresh()}},{key:"onAreaUpdated",value:function(){this.refresh()}},{key:"onDelete",value:function(){this.token&&this.$refs.delete.open(this.token)}},{key:"afterAreaDeleted",value:function(){ue(this,"/areas")}},{key:"onUpOneLevel",value:function(){this.parentArea&&ue(this,"/areas/"+this.parentArea.token)}},{key:"area",get:function(){return this.record}},{key:"icon",get:function(){return I.Area}},{key:"title",get:function(){return this.area?this.area.name:""}}]),a}(n["DetailComponent"]);zO=Object(u["a"])([Object(n["Component"])({components:{AreaDetailHeader:Bg,AreaSubareas:Qg,AreaAssignments:nk,AreaLocationEvents:uk,AreaMeasurementEvents:bk,AreaAlertEvents:xk,AreaZones:oO,AreaCreateDialog:wg,AreaUpdateDialog:vO,AreaDeleteDialog:kO,ZoneCreateDialog:TO,UpButton:kh,AreaButton:LO,ZoneButton:NO,EditButton:dv,DeleteButton:yv}})],zO);var BO=zO,VO=BO,GO=Object(f["a"])(VO,Ug,Ig,!1,null,null,null),ZO=GO.exports,WO=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-list-page",{attrs:{icon:e.icon,title:"Manage Assignments",loadingMessage:"Loading assignments ...",loaded:e.loaded,results:e.results,pageSizes:e.pageSizes},on:{pagingUpdated:e.onPagingUpdated}},[a("sw-list-layout",e._l(e.matches,(function(t){return a("v-flex",{key:t.token,attrs:{xs12:""}},[a("assignment-list-entry",{attrs:{assignment:t},on:{assignmentOpened:e.onOpenAssignment}})],1)})),1),a("template",{slot:"filters"},[a("assignment-list-filter-bar",{ref:"filters",attrs:{criteria:e.filter},on:{update:e.onUpdateFilterCriteria,clear:e.onClearFilterCriteria}})],1),a("template",{slot:"noresults"},[a("no-results-panel",[a("div",[e._v("No device assignments have been created for this tenant.")])])],1),a("template",{slot:"dialogs"},[a("assignment-list-filter-dialog",{ref:"filter",on:{payload:e.onFilterUpdated}}),a("invocation-by-assignment-criteria-create-dialog",{ref:"batch",attrs:{filter:e.filter}})],1),a("template",{slot:"actions"},[e.hasOneDeviceType?a("device-command-button",{attrs:{tooltip:"Execute Batch Command"},on:{action:e.onBatchCommandInvocation}}):e._e(),a("filter-button",{attrs:{tooltip:"Filter Device Assignment List"},on:{action:e.onShowFilterCriteria}})],1)],2)},HO=[],JO=(a("4de4"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.active?a("list-filter-bar",{on:{clear:e.onClearCriteria}},[a("device-type-multifilter-chip",{attrs:{tokens:e.deviceTypeTokens,tooltip:e.deviceTypeTooltip},on:{closed:e.onClearDeviceTypes}}),a("customer-multifilter-chip",{attrs:{tokens:e.customerTokens,tooltip:e.customerTooltip},on:{closed:e.onClearCustomers}}),a("area-multifilter-chip",{attrs:{tokens:e.areaTokens,tooltip:e.areaTooltip},on:{closed:e.onClearAreas}}),a("asset-multifilter-chip",{attrs:{tokens:e.assetTokens,tooltip:e.assetTooltip},on:{closed:e.onClearAssets}})],1):e._e()}),QO=[],YO=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-toolbar",{staticClass:"tb",attrs:{dense:"",flat:"",color:"#eee"}},[a("v-icon",{staticClass:"mr-2",staticStyle:{"pointer-events":"none"}},[e._v(e._s(e.icon))]),e._t("default"),a("v-spacer"),a("v-tooltip",{attrs:{left:""}},[a("v-icon",{attrs:{slot:"activator",color:"#bbb;"},on:{click:e.onClear},slot:"activator"},[e._v("delete")]),a("span",[e._v("Clear Filter")])],1)],2),a("v-divider")],1)},KO=[],XO=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.icon=I.Filter,e}return Object(j["a"])(a,[{key:"onClear",value:function(){this.$emit("clear")}}]),a}(i["default"]);XO=Object(u["a"])([Object(n["Component"])({})],XO);var ej=XO,tj=ej,aj=(a("395c"),Object(f["a"])(tj,YO,KO,!1,null,"16914b30",null)),nj=aj.exports,ij=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.token?a("filter-chip",{attrs:{type:"devicetype",token:e.token,imageUrl:e.image,label:e.label,tooltip:e.tooltip},on:{closed:e.onFilterClosed}}):e._e()},rj=[],oj=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-tooltip",{attrs:{bottom:""}},[a("v-chip",{attrs:{slot:"activator",close:""},on:{input:e.onFilterClosed},slot:"activator"},[a("v-avatar",[a("img",{attrs:{src:e.imageUrl,alt:e.label}})]),e._v(" "+e._s(e.label)+" ")],1),a("span",[e._v(e._s(e.tooltip))])],1)},sj=[],lj=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"onFilterClosed",value:function(){this.$emit("closed",this.type,this.token)}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],lj.prototype,"type",void 0),Object(u["a"])([Object(n["Prop"])()],lj.prototype,"token",void 0),Object(u["a"])([Object(n["Prop"])()],lj.prototype,"imageUrl",void 0),Object(u["a"])([Object(n["Prop"])()],lj.prototype,"label",void 0),Object(u["a"])([Object(n["Prop"])()],lj.prototype,"tooltip",void 0),lj=Object(u["a"])([Object(n["Component"])({})],lj);var cj=lj,uj=cj,dj=Object(f["a"])(uj,oj,sj,!1,null,null,null),pj=dj.exports,vj=a("60a3"),fj=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.record=null,e}return Object(j["a"])(a,[{key:"onSelectionUpdated",value:function(e){this.refresh()}},{key:"load",value:function(){throw new Error("Must implement load() method.")}},{key:"isAxiosResponse",value:function(e){return void 0!==e.data}},{key:"refresh",value:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,!this.token){e.next=8;break}return e.next=4,this.load();case 4:t=e.sent,this.record=this.isAxiosResponse(t)?t.data:t,e.next=9;break;case 8:this.record=null;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e["catch"](0),ie(e.t0);case 14:case"end":return e.stop()}}),e,this,[[0,11]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"onFilterClosed",value:function(){this.$emit("closed",this.tokens)}},{key:"token",get:function(){return this.tokens&&this.tokens.length>0?this.tokens[0]:null}},{key:"image",get:function(){return this.record?this.record.imageUrl:null}},{key:"label",get:function(){if(this.record){var e=this.record.name;if(1===this.tokens.length)return e;if(this.tokens.length>1)return"".concat(e," and ").concat(this.tokens.length-1," more")}return null}}]),a}(i["default"]);Object(u["a"])([Object(vj["b"])()],fj.prototype,"tokens",void 0),Object(u["a"])([Object(vj["b"])()],fj.prototype,"tooltip",void 0),Object(u["a"])([Object(vj["c"])("tokens",{immediate:!0})],fj.prototype,"onSelectionUpdated",null),fj=Object(u["a"])([vj["a"]],fj);var mj=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"load",value:function(){var e={};return Tr(this.$store,this.tokens[0],e)}}]),a}(fj);mj=Object(u["a"])([Object(n["Component"])({components:{FilterChip:pj}})],mj);var hj=mj,bj=hj,yj=Object(f["a"])(bj,ij,rj,!1,null,null,null),gj=yj.exports,kj=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.token?a("filter-chip",{attrs:{type:"customer",token:e.token,imageUrl:e.image,label:e.label,tooltip:e.tooltip},on:{closed:e.onFilterClosed}}):e._e()},Oj=[],jj=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"load",value:function(){var e={};return Wr(this.$store,this.tokens[0],e)}}]),a}(fj);jj=Object(u["a"])([Object(n["Component"])({components:{FilterChip:pj}})],jj);var Cj=jj,xj=Cj,$j=Object(f["a"])(xj,kj,Oj,!1,null,null,null),_j=$j.exports,Tj=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.token?a("filter-chip",{attrs:{type:"area",token:e.token,imageUrl:e.image,label:e.label,tooltip:e.tooltip},on:{closed:e.onFilterClosed}}):e._e()},Dj=[],wj=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"load",value:function(){var e={};return lo(this.$store,this.tokens[0],e)}}]),a}(fj);wj=Object(u["a"])([Object(n["Component"])({components:{FilterChip:pj}})],wj);var Sj=wj,Aj=Sj,Pj=Object(f["a"])(Aj,Tj,Dj,!1,null,null,null),Ej=Pj.exports,Lj=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.token?a("filter-chip",{attrs:{type:"area",token:e.token,imageUrl:e.image,label:e.label,tooltip:e.tooltip},on:{closed:e.onFilterClosed}}):e._e()},Uj=[];function Ij(e,t){var a=lt(e),n=B["API"].Assets.createAsset(a,t);return ut(e,n)}function qj(e,t,a){var n=lt(e),i=B["API"].Assets.getAsset(n,t,a);return ut(e,i)}function Rj(e,t,a){var n=lt(e),i=B["API"].Assets.updateAsset(n,t,a);return ut(e,i)}function Mj(e,t,a){var n=lt(e),i=B["API"].Assets.listAssets(n,t,a);return ut(e,i)}function Fj(e,t){var a=lt(e),n=B["API"].Assets.deleteAsset(a,t);return ut(e,n)}var Nj=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"load",value:function(){var e={};return qj(this.$store,this.tokens[0],e)}}]),a}(fj);Nj=Object(u["a"])([Object(n["Component"])({components:{FilterChip:pj}})],Nj);var zj=Nj,Bj=zj,Vj=Object(f["a"])(Bj,Lj,Uj,!1,null,null,null),Gj=Vj.exports,Zj=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"hasContent",value:function(e){return!(!e||!e.length)}},{key:"onClearDeviceTypes",value:function(){var e=Object.assign({},this.criteria);e.deviceTypeTokens=void 0,this.$emit("update",e)}},{key:"onClearCustomers",value:function(){var e=Object.assign({},this.criteria);e.customerTokens=void 0,this.$emit("update",e)}},{key:"onClearAreas",value:function(){var e=Object.assign({},this.criteria);e.areaTokens=void 0,this.$emit("update",e)}},{key:"onClearAssets",value:function(){var e=Object.assign({},this.criteria);e.assetTokens=void 0,this.$emit("update",e)}},{key:"onClearCriteria",value:function(){this.$emit("clear")}},{key:"active",get:function(){return this.hasContent(this.criteria.deviceTypeTokens)||this.hasContent(this.criteria.customerTokens)||this.hasContent(this.criteria.areaTokens)||this.hasContent(this.criteria.assetTokens)}},{key:"deviceTypeTokens",get:function(){return this.criteria&&this.criteria.deviceTypeTokens?this.criteria.deviceTypeTokens:[]}},{key:"customerTokens",get:function(){return this.criteria&&this.criteria.customerTokens?this.criteria.customerTokens:[]}},{key:"areaTokens",get:function(){return this.criteria&&this.criteria.areaTokens?this.criteria.areaTokens:[]}},{key:"assetTokens",get:function(){return this.criteria&&this.criteria.assetTokens?this.criteria.assetTokens:[]}},{key:"deviceTypeTooltip",get:function(){return this.criteria&&this.criteria.deviceTypeTokens?"Filtering by ".concat(this.criteria.deviceTypeTokens.length," device types."):null}},{key:"customerTooltip",get:function(){return this.criteria&&this.criteria.customerTokens?"Filtering by ".concat(this.criteria.customerTokens.length," customers."):null}},{key:"areaTooltip",get:function(){return this.criteria&&this.criteria.areaTokens?"Filtering by ".concat(this.criteria.areaTokens.length," areas."):null}},{key:"assetTooltip",get:function(){return this.criteria&&this.criteria.assetTokens?"Filtering by ".concat(this.criteria.assetTokens.length," assets."):null}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],Zj.prototype,"criteria",void 0),Zj=Object(u["a"])([Object(n["Component"])({components:{ListFilterBar:nj,DeviceTypeMultifilterChip:gj,CustomerMultifilterChip:_j,AreaMultifilterChip:Ej,AssetMultifilterChip:Gj}})],Zj);var Wj=Zj,Hj=Wj,Jj=Object(f["a"])(Hj,JO,QO,!1,null,null,null),Qj=Jj.exports,Yj=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("assignment-dialog",{ref:"dialog",attrs:{title:"Create Device Assignment",device:e.device,createLabel:"Create",cancelLabel:"Cancel"},on:{payload:e.onCommit}})},Kj=[],Xj=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.device?a("sw-base-dialog",{ref:"dialog",attrs:{icon:e.icon,title:e.title,width:e.width,loaded:e.loaded,visible:e.dialogVisible,createLabel:e.createLabel,cancelLabel:e.cancelLabel},on:{createClicked:e.onCreateClicked,cancelClicked:e.onCancelClicked}},[a("dialog-header",[e._v("Assign a customer, area, and/or asset associated with '"+e._s(e.device.token)+"'.")]),a("template",{slot:"tabs"},[a("v-tab",{key:"customer"},[e._v("Customer")]),a("v-tab",{key:"area"},[e._v("Area")]),a("v-tab",{key:"asset"},[e._v("Asset")]),a("v-tab",{key:"metadata"},[e._v("Metadata")])],1),a("template",{slot:"tab-items"},[a("v-tab-item",{key:"customer"},[a("assignment-customer-fields",{ref:"customer"})],1),a("v-tab-item",{key:"area"},[a("assignment-area-fields",{ref:"area"})],1),a("v-tab-item",{key:"asset"},[a("assignment-asset-fields",{ref:"asset"})],1),a("v-tab-item",{key:"metadata"},[a("sw-metadata-panel",{ref:"metadata"})],1)],1)],2):e._e()},eC=[],tC=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"grey lighten-3"},[a("v-card-text",[e._t("default")],2)],1)},aC=[],nC=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return a}(i["default"]);nC=Object(u["a"])([Object(n["Component"])({})],nC);var iC=nC,rC=iC,oC=Object(f["a"])(rC,tC,aC,!1,null,null,null),sC=oC.exports,lC=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("dialog-form",[a("v-flex",{attrs:{xs12:""}},[a("v-card",{attrs:{flat:""}},[a("v-checkbox",{attrs:{label:"Assign device to a customer?",light:""},model:{value:e.assign,callback:function(t){e.assign=t},expression:"assign"}}),e.assign?a("v-divider"):e._e(),e.assign?a("customer-chooser",{attrs:{notChosenText:"Choose a customer below for assignment:",chosenText:"The customer below will be assigned:"},model:{value:e.token,callback:function(t){e.token=t},expression:"token"}}):e._e()],1)],1)],1)},cC=[],uC=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("chooser",{attrs:{all:e.all,chosenText:e.chosenText,notChosenText:e.notChosenText,value:e.value},on:{selected:e.onItemSelected}})},dC=[],pC=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.selected?a("div",[a("v-card-text",{staticClass:"subheading pb-0 mb-0"},[e._v(e._s(e.chosenText))]),a("v-list",{attrs:{"two-line":"",dense:""}},[a("v-list-tile",{key:e.selected.token,attrs:{avatar:""}},[a("v-list-tile-avatar",[a("img",{attrs:{src:e.selected.imageUrl}})]),a("v-list-tile-content",[a("v-list-tile-title",{domProps:{innerHTML:e._s(e.selected.name)}}),a("v-list-tile-sub-title",{domProps:{innerHTML:e._s(e.selected.description)}})],1),a("v-list-tile-action",[a("v-btn",{attrs:{icon:"",ripple:""},on:{click:function(t){return t.stopPropagation(),e.onRemoved(!0)}}},[a("v-icon",{staticClass:"grey--text"},[e._v("delete")])],1)],1)],1)],1)],1):a("div",[a("v-card-text",{staticClass:"subheading pb-0 mb-0"},[e._v(e._s(e.notChosenText))]),e.all?a("v-list",{staticClass:"scrolling-list",attrs:{"two-line":"",dense:""}},[e._l(e.all,(function(t){return[a("v-list-tile",{key:t.token,attrs:{avatar:""},on:{click:function(a){return e.onSelected(t,!0)}}},[a("v-list-tile-avatar",[a("img",{attrs:{src:t.imageUrl}})]),a("v-list-tile-content",[a("v-list-tile-title",{domProps:{innerHTML:e._s(t.name)}}),a("v-list-tile-sub-title",{domProps:{innerHTML:e._s(t.description)}})],1)],1)]}))],2):e._e()],1)])},vC=[],fC=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.selected=null,e}return Object(j["a"])(a,[{key:"onValueChanged",value:function(e){this.onValueUpdated(e)}},{key:"onValueUpdated",value:function(e){var t=this,a=!1;this.all.forEach((function(n){n.token===e&&(a=!0,t.onSelected(n,!1))})),a||this.onRemoved(!1)}},{key:"onSelected",value:function(e,t){this.selected=e,t&&this.$emit("selected",e.token)}},{key:"onRemoved",value:function(e){this.selected=null,e&&this.$emit("selected",null)}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],fC.prototype,"value",void 0),Object(u["a"])([Object(n["Prop"])()],fC.prototype,"chosenText",void 0),Object(u["a"])([Object(n["Prop"])()],fC.prototype,"notChosenText",void 0),Object(u["a"])([Object(n["Prop"])()],fC.prototype,"all",void 0),Object(u["a"])([Object(n["Watch"])("value",{immediate:!0})],fC.prototype,"onValueChanged",null),fC=Object(u["a"])([Object(n["Component"])({})],fC);var mC=fC,hC=mC,bC=(a("57a0"),Object(f["a"])(hC,pC,vC,!1,null,"e85867b4",null)),yC=bC.exports,gC=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.selected=null,e.all=[],e}return Object(j["a"])(a,[{key:"created",value:function(){this.refresh()}},{key:"refresh",value:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){var t,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={},a={},e.next=4,Jr(this.$store,a,t);case 4:n=e.sent,this.all=n.data.results;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onItemSelected",value:function(e){this.selected=e,this.$emit("input",e)}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],gC.prototype,"value",void 0),Object(u["a"])([Object(n["Prop"])()],gC.prototype,"chosenText",void 0),Object(u["a"])([Object(n["Prop"])()],gC.prototype,"notChosenText",void 0),gC=Object(u["a"])([Object(n["Component"])({components:{Chooser:yC}})],gC);var kC=gC,OC=kC,jC=Object(f["a"])(OC,uC,dC,!1,null,null,null),CC=jC.exports,xC=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.token=null,e.assign=!1,e}return Object(j["a"])(a,[{key:"reset",value:function(){this.token=null,this.assign=!1}},{key:"validate",value:function(){return!0}},{key:"load",value:function(e){this.token=e.customerToken,this.token&&(this.assign=!0)}},{key:"save",value:function(){return{customerToken:this.token}}}]),a}(n["DialogSection"]);xC=Object(u["a"])([Object(n["Component"])({components:{DialogForm:_e,CustomerChooser:CC}})],xC);var $C=xC,_C=$C,TC=Object(f["a"])(_C,lC,cC,!1,null,null,null),DC=TC.exports,wC=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("dialog-form",[a("v-flex",{attrs:{xs12:""}},[a("v-card",{attrs:{flat:""}},[a("v-checkbox",{attrs:{label:"Assign device to an area?",light:""},model:{value:e.assign,callback:function(t){e.assign=t},expression:"assign"}}),e.assign?a("v-divider"):e._e(),e.assign?a("area-chooser",{attrs:{notChosenText:"Choose an area below for assignment:",chosenText:"The area below will be assigned:"},model:{value:e.token,callback:function(t){e.token=t},expression:"token"}}):e._e()],1)],1)],1)},SC=[],AC=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("chooser",{staticClass:"ma-0",attrs:{all:e.all,chosenText:e.chosenText,notChosenText:e.notChosenText,value:e.value},on:{selected:e.onItemSelected}})},PC=[],EC=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.selected=null,e.all=[],e}return Object(j["a"])(a,[{key:"created",value:function(){this.refresh()}},{key:"refresh",value:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){var t,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={},a={},e.next=4,uo(this.$store,a,t);case 4:n=e.sent,this.all=n.data.results;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onItemSelected",value:function(e){this.selected=e,this.$emit("input",e)}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],EC.prototype,"value",void 0),Object(u["a"])([Object(n["Prop"])()],EC.prototype,"chosenText",void 0),Object(u["a"])([Object(n["Prop"])()],EC.prototype,"notChosenText",void 0),EC=Object(u["a"])([Object(n["Component"])({components:{Chooser:yC}})],EC);var LC=EC,UC=LC,IC=Object(f["a"])(UC,AC,PC,!1,null,null,null),qC=IC.exports,RC=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.token=null,e.assign=!1,e}return Object(j["a"])(a,[{key:"reset",value:function(){this.token=null,this.assign=!1}},{key:"validate",value:function(){return!0}},{key:"load",value:function(e){this.token=e.areaToken,this.token&&(this.assign=!0)}},{key:"save",value:function(){return{areaToken:this.token}}}]),a}(n["DialogSection"]);RC=Object(u["a"])([Object(n["Component"])({components:{DialogForm:_e,AreaChooser:qC}})],RC);var MC=RC,FC=MC,NC=Object(f["a"])(FC,wC,SC,!1,null,null,null),zC=NC.exports,BC=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("dialog-form",[a("v-flex",{attrs:{xs12:""}},[a("v-card",{attrs:{flat:""}},[a("v-checkbox",{attrs:{label:"Assign device to an asset?",light:""},model:{value:e.assign,callback:function(t){e.assign=t},expression:"assign"}}),e.assign?a("v-divider"):e._e(),e.assign?a("asset-chooser",{attrs:{notChosenText:"Choose an asset below for assignment:",chosenText:"The asset below will be assigned:"},model:{value:e.token,callback:function(t){e.token=t},expression:"token"}}):e._e()],1)],1)],1)},VC=[],GC=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("chooser",{attrs:{all:e.all,chosenText:e.chosenText,notChosenText:e.notChosenText,value:e.value},on:{selected:e.onItemSelected}})},ZC=[],WC=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.selected=null,e.all=[],e}return Object(j["a"])(a,[{key:"created",value:function(){this.refresh()}},{key:"refresh",value:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){var t,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={},a={},e.next=4,Mj(this.$store,a,t);case 4:n=e.sent,this.all=n.data.results;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onItemSelected",value:function(e){this.selected=e,this.$emit("input",e)}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],WC.prototype,"value",void 0),Object(u["a"])([Object(n["Prop"])()],WC.prototype,"chosenText",void 0),Object(u["a"])([Object(n["Prop"])()],WC.prototype,"notChosenText",void 0),WC=Object(u["a"])([Object(n["Component"])({components:{Chooser:yC}})],WC);var HC=WC,JC=HC,QC=Object(f["a"])(JC,GC,ZC,!1,null,null,null),YC=QC.exports,KC=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.token=null,e.assign=!1,e}return Object(j["a"])(a,[{key:"reset",value:function(){this.token=null,this.assign=!1}},{key:"validate",value:function(){return!0}},{key:"load",value:function(e){this.token=e.assetToken,this.token&&(this.assign=!0)}},{key:"save",value:function(){return{assetToken:this.token}}}]),a}(n["DialogSection"]);KC=Object(u["a"])([Object(n["Component"])({components:{DialogForm:_e,AssetChooser:YC}})],KC);var XC=KC,ex=XC,tx=Object(f["a"])(ex,BC,VC,!1,null,null,null),ax=tx.exports,nx=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"generatePayload",value:function(){var e={};return Object.assign(e,this.$refs.customer.save(),this.$refs.area.save(),this.$refs.asset.save(),this.$refs.metadata.save()),e}},{key:"reset",value:function(){this.$refs.customer&&this.$refs.customer.reset(),this.$refs.area&&this.$refs.area.reset(),this.$refs.asset&&this.$refs.asset.reset(),this.$refs.metadata&&this.$refs.metadata.reset(),this.$refs.dialog&&this.$refs.dialog.setActiveTab(0)}},{key:"load",value:function(e){this.reset(),this.$refs.customer&&this.$refs.customer.load(e),this.$refs.area&&this.$refs.area.load(e),this.$refs.asset&&this.$refs.asset.load(e),this.$refs.metadata&&this.$refs.metadata.load(e)}},{key:"onCreateClicked",value:function(e){if(this.$refs.customer.validate())if(this.$refs.area.validate())if(this.$refs.asset.validate()){var t=this.generatePayload();this.$emit("payload",t)}else this.$refs.dialog.setActiveTab(2);else this.$refs.dialog.setActiveTab(1);else this.$refs.dialog.setActiveTab(0)}},{key:"icon",get:function(){return I.DeviceAssignment}}]),a}(n["DialogComponent"]);Object(u["a"])([Object(n["Prop"])()],nx.prototype,"device",void 0),nx=Object(u["a"])([Object(n["Component"])({components:{DialogHeader:sC,AssignmentCustomerFields:DC,AssignmentAreaFields:zC,AssignmentAssetFields:ax}})],nx);var ix=nx,rx=ix,ox=Object(f["a"])(rx,Xj,eC,!1,null,null,null),sx=ox.exports,lx=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"getDialog",value:function(){return this.$refs.dialog}},{key:"onCommit",value:function(e){this.commit(e)}},{key:"save",value:function(e){return this.device&&(e.deviceToken=this.device.token),rm(this.$store,e)}},{key:"afterSave",value:function(e){}}]),a}(n["CreateDialogComponent"]);Object(u["a"])([Object(n["Prop"])()],lx.prototype,"device",void 0),lx=Object(u["a"])([Object(n["Component"])({components:{AssignmentDialog:sx}})],lx);var cx=lx,ux=cx,dx=Object(f["a"])(ux,Yj,Kj,!1,null,null,null),px=dx.exports,vx=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-base-dialog",{ref:"dialog",attrs:{icon:e.icon,title:"Filter Device Assignment List",width:"700",loaded:e.loaded,visible:e.dialogVisible,createLabel:"Filter",cancelLabel:"Cancel"},on:{createClicked:e.onCreateClicked,cancelClicked:e.onCancelClicked}},[a("dialog-header",[e._v("Choose criteria for filtering which device assignments are shown.")]),a("template",{slot:"tabs"},[a("v-tab",{key:"devicetype"},[e._v("Device Types")]),a("v-tab",{key:"customer"},[e._v("Customers")]),a("v-tab",{key:"area"},[e._v("Areas")]),a("v-tab",{key:"asset"},[e._v("Assets")])],1),a("template",{slot:"tab-items"},[a("v-tab-item",{key:"devicetype"},[a("assignment-list-filter-device-type-fields",{ref:"devicetype"})],1),a("v-tab-item",{key:"customer"},[a("assignment-list-filter-customer-fields",{ref:"customer"})],1),a("v-tab-item",{key:"area"},[a("assignment-list-filter-area-fields",{ref:"area"})],1),a("v-tab-item",{key:"asset"},[a("assignment-list-filter-asset-fields",{ref:"asset"})],1)],1)],2)},fx=[],mx=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("dialog-form",[a("v-flex",{attrs:{xs12:""}},[a("v-card-text",{staticClass:"subheading"},[e._v(" Device types selected below will be included in results. If no items are selected, all device types will be included. ")]),a("device-type-multiselect",{model:{value:e.deviceTypeTokens,callback:function(t){e.deviceTypeTokens=t},expression:"deviceTypeTokens"}})],1)],1)},hx=[],bx=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("multichooser",{attrs:{all:e.all},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})},yx=[],gx=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.selected=[],e.all=[],e}return Object(j["a"])(a,[{key:"created",value:function(){this.refresh()}},{key:"refresh",value:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){var t,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={},a={},e.next=4,wr(this.$store,a,t);case 4:n=e.sent,this.all=n.data.results;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onValuesSet",value:function(e){this.selected=e}},{key:"onSelectionUpdated",value:function(e){this.$emit("input",e)}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],gx.prototype,"value",void 0),Object(u["a"])([Object(n["Watch"])("value",{immediate:!0})],gx.prototype,"onValuesSet",null),Object(u["a"])([Object(n["Watch"])("selected",{immediate:!0})],gx.prototype,"onSelectionUpdated",null),gx=Object(u["a"])([Object(n["Component"])({components:{Multichooser:Ad}})],gx);var kx=gx,Ox=kx,jx=Object(f["a"])(Ox,bx,yx,!1,null,null,null),Cx=jx.exports,xx=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.deviceTypeTokens=[],e}return Object(j["a"])(a,[{key:"reset",value:function(){this.deviceTypeTokens=[]}},{key:"validate",value:function(){return!0}},{key:"load",value:function(e){this.deviceTypeTokens=e.deviceTypeTokens}},{key:"save",value:function(){return{deviceTypeTokens:this.deviceTypeTokens}}}]),a}(n["DialogSection"]);xx=Object(u["a"])([Object(n["Component"])({components:{DialogForm:_e,DeviceTypeMultiselect:Cx}})],xx);var $x=xx,_x=$x,Tx=Object(f["a"])(_x,mx,hx,!1,null,null,null),Dx=Tx.exports,wx=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("dialog-form",[a("v-flex",{attrs:{xs12:""}},[a("v-card-text",{staticClass:"subheading"},[e._v(" Customers selected below will be included in results. If no items are selected, all customers will be included. ")]),a("customer-multiselect",{model:{value:e.customerTokens,callback:function(t){e.customerTokens=t},expression:"customerTokens"}})],1)],1)},Sx=[],Ax=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("multichooser",{attrs:{all:e.all},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})},Px=[],Ex=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.selected=[],e.all=[],e}return Object(j["a"])(a,[{key:"created",value:function(){this.refresh()}},{key:"refresh",value:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){var t,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={},a={},e.next=4,Jr(this.$store,a,t);case 4:n=e.sent,this.all=n.data.results;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onValuesSet",value:function(e){this.selected=e}},{key:"onSelectionUpdated",value:function(e){this.$emit("input",e)}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],Ex.prototype,"value",void 0),Object(u["a"])([Object(n["Watch"])("value",{immediate:!0})],Ex.prototype,"onValuesSet",null),Object(u["a"])([Object(n["Watch"])("selected",{immediate:!0})],Ex.prototype,"onSelectionUpdated",null),Ex=Object(u["a"])([Object(n["Component"])({components:{Multichooser:Ad}})],Ex);var Lx=Ex,Ux=Lx,Ix=Object(f["a"])(Ux,Ax,Px,!1,null,null,null),qx=Ix.exports,Rx=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.customerTokens=[],e}return Object(j["a"])(a,[{key:"reset",value:function(){this.customerTokens=[]}},{key:"validate",value:function(){return!0}},{key:"load",value:function(e){this.customerTokens=e.customerTokens}},{key:"save",value:function(){return{customerTokens:this.customerTokens}}}]),a}(n["DialogSection"]);Rx=Object(u["a"])([Object(n["Component"])({components:{DialogForm:_e,CustomerMultiselect:qx}})],Rx);var Mx=Rx,Fx=Mx,Nx=Object(f["a"])(Fx,wx,Sx,!1,null,null,null),zx=Nx.exports,Bx=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("dialog-form",[a("v-flex",{attrs:{xs12:""}},[a("v-card-text",{staticClass:"subheading"},[e._v(" Areas selected below will be included in results. If no items are selected, all areas will be included. ")]),a("area-multiselect",{model:{value:e.areaTokens,callback:function(t){e.areaTokens=t},expression:"areaTokens"}})],1)],1)},Vx=[],Gx=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("multichooser",{attrs:{all:e.all},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})},Zx=[],Wx=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.selected=[],e.all=[],e}return Object(j["a"])(a,[{key:"created",value:function(){this.refresh()}},{key:"refresh",value:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){var t,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={},a={},e.next=4,uo(this.$store,a,t);case 4:n=e.sent,this.all=n.data.results;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onValuesSet",value:function(e){this.selected=e}},{key:"onSelectionUpdated",value:function(e){this.$emit("input",e)}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],Wx.prototype,"value",void 0),Object(u["a"])([Object(n["Watch"])("value",{immediate:!0})],Wx.prototype,"onValuesSet",null),Object(u["a"])([Object(n["Watch"])("selected",{immediate:!0})],Wx.prototype,"onSelectionUpdated",null),Wx=Object(u["a"])([Object(n["Component"])({components:{Multichooser:Ad}})],Wx);var Hx=Wx,Jx=Hx,Qx=Object(f["a"])(Jx,Gx,Zx,!1,null,null,null),Yx=Qx.exports,Kx=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.areaTokens=[],e}return Object(j["a"])(a,[{key:"reset",value:function(){this.areaTokens=[]}},{key:"validate",value:function(){return!0}},{key:"load",value:function(e){this.areaTokens=e.areaTokens}},{key:"save",value:function(){return{areaTokens:this.areaTokens}}}]),a}(n["DialogSection"]);Kx=Object(u["a"])([Object(n["Component"])({components:{DialogForm:_e,AreaMultiselect:Yx}})],Kx);var Xx=Kx,e$=Xx,t$=Object(f["a"])(e$,Bx,Vx,!1,null,null,null),a$=t$.exports,n$=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("dialog-form",[a("v-flex",{attrs:{xs12:""}},[a("v-card-text",{staticClass:"subheading"},[e._v(" Assets selected below will be included in results. If no items are selected, all assets will be included. ")]),a("asset-multiselect",{model:{value:e.assetTokens,callback:function(t){e.assetTokens=t},expression:"assetTokens"}})],1)],1)},i$=[],r$=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("multichooser",{attrs:{all:e.all},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})},o$=[],s$=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.selected=[],e.all=[],e}return Object(j["a"])(a,[{key:"created",value:function(){this.refresh()}},{key:"refresh",value:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){var t,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={},a={},e.next=4,Mj(this.$store,a,t);case 4:n=e.sent,this.all=n.data.results;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onValuesSet",value:function(e){this.selected=e}},{key:"onSelectionUpdated",value:function(e){this.$emit("input",e)}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],s$.prototype,"value",void 0),Object(u["a"])([Object(n["Watch"])("value",{immediate:!0})],s$.prototype,"onValuesSet",null),Object(u["a"])([Object(n["Watch"])("selected",{immediate:!0})],s$.prototype,"onSelectionUpdated",null),s$=Object(u["a"])([Object(n["Component"])({components:{Multichooser:Ad}})],s$);var l$=s$,c$=l$,u$=Object(f["a"])(c$,r$,o$,!1,null,null,null),d$=u$.exports,p$=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.assetTokens=[],e}return Object(j["a"])(a,[{key:"reset",value:function(){this.assetTokens=[]}},{key:"validate",value:function(){return!0}},{key:"load",value:function(e){this.assetTokens=e.assetTokens}},{key:"save",value:function(){return{assetTokens:this.assetTokens}}}]),a}(n["DialogSection"]);p$=Object(u["a"])([Object(n["Component"])({components:{DialogForm:_e,AssetMultiselect:d$}})],p$);var v$=p$,f$=v$,m$=Object(f["a"])(f$,n$,i$,!1,null,null,null),h$=m$.exports,b$=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"generatePayload",value:function(){var e={};return Object.assign(e,this.$refs.devicetype.save()),Object.assign(e,this.$refs.customer.save()),Object.assign(e,this.$refs.area.save()),Object.assign(e,this.$refs.asset.save()),e}},{key:"reset",value:function(){this.$refs.devicetype&&this.$refs.devicetype.reset(),this.$refs.customer&&this.$refs.customer.reset(),this.$refs.area&&this.$refs.area.reset(),this.$refs.asset&&this.$refs.asset.reset(),this.$refs.dialog&&this.$refs.dialog.setActiveTab(0)}},{key:"load",value:function(e){this.reset(),this.$refs.devicetype&&this.$refs.devicetype.load(e),this.$refs.customer&&this.$refs.customer.load(e),this.$refs.area&&this.$refs.area.load(e),this.$refs.asset&&this.$refs.asset.load(e)}},{key:"onCreateClicked",value:function(e){if(this.$refs.devicetype.validate())if(this.$refs.customer.validate())if(this.$refs.area.validate())if(this.$refs.asset.validate()){var t=this.generatePayload();this.$emit("payload",t)}else this.$refs.dialog.setActiveTab(3);else this.$refs.dialog.setActiveTab(2);else this.$refs.dialog.setActiveTab(1);else this.$refs.dialog.setActiveTab(0)}},{key:"icon",get:function(){return I.DeviceAssignment}}]),a}(n["DialogComponent"]);b$=Object(u["a"])([Object(n["Component"])({components:{DialogHeader:sC,AssignmentListFilterDeviceTypeFields:Dx,AssignmentListFilterCustomerFields:zx,AssignmentListFilterAreaFields:a$,AssignmentListFilterAssetFields:h$}})],b$);var y$=b$,g$=y$,k$=Object(f["a"])(g$,vx,fx,!1,null,null,null),O$=k$.exports,j$=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("invocation-by-assignment-criteria-dialog",{ref:"dialog",attrs:{title:"Invoke Batch Command",width:"600",filter:e.filter,createLabel:"Invoke",cancelLabel:"Cancel"},on:{payload:e.onCommit}})},C$=[],x$=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-base-dialog",{ref:"dialog",attrs:{icon:e.icon,title:e.title,width:e.width,loaded:e.loaded,visible:e.dialogVisible,createLabel:e.createLabel,cancelLabel:e.cancelLabel},on:{createClicked:e.onCreateClicked,cancelClicked:e.onCancelClicked}},[a("template",{slot:"tabs"},[a("v-tab",{key:"details"},[e._v("Details")]),a("v-tab",{key:"schedule"},[e._v("Schedule")]),a("v-tab",{key:"metadata"},[e._v("Metadata")])],1),a("template",{slot:"tab-items"},[a("v-tab-item",{key:"details"},[a("batch-command-detail-fields",{ref:"details",attrs:{deviceTypeToken:e.deviceTypeToken}})],1),a("v-tab-item",{key:"schedule"},[a("batch-command-schedule-fields",{ref:"schedule"})],1),a("v-tab-item",{key:"metadata"},[a("sw-metadata-panel",{ref:"metadata"})],1)],1)],2)},$$=[],_$=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("dialog-form",[a("v-flex",{attrs:{xs12:""}},[a("v-select",{attrs:{items:e.commands,label:"Command","item-text":"name","item-value":"token",light:"","single-line":"",auto:"","prepend-icon":"flash_on","hide-details":""},model:{value:e.commandToken,callback:function(t){e.commandToken=t},expression:"commandToken"}})],1),e.command?a("v-flex",{attrs:{xs12:""}},[a("v-card",{staticStyle:{width:"100%"}},[a("v-card-text",[e._v(e._s(e.command.description))]),e.command.parameters.length?a("v-card-text",{staticClass:"pt-0"},e._l(e.command.parameters,(function(t){return a("v-flex",{key:t.name,attrs:{xs12:""}},[a("v-text-field",{attrs:{label:t.name,required:t.required},model:{value:e.parameters[t.name],callback:function(a){e.$set(e.parameters,t.name,a)},expression:"parameters[param.name]"}})],1)})),1):e._e()],1)],1):e._e()],1)},T$=[];function D$(e,t,a){var n=lt(e),i=B["API"].DeviceCommands.listDeviceCommands(n,t,a);return ut(e,i)}var w$=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.command=null,e.commands=[],e.commandToken=null,e.parameters={},e}return Object(j["a"])(a,[{key:"reset",value:function(){this.command=null,this.commands=[],this.loadDeviceCommands()}},{key:"validate",value:function(){return!0}},{key:"load",value:function(e){}},{key:"loadDeviceCommands",value:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){var t,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={deviceTypeToken:this.deviceTypeToken},a={},e.next=4,D$(this.$store,t,a);case 4:n=e.sent,this.commands=n.data.results;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onCommandSelected",value:function(e){var t=this;this.commands&&this.commands.forEach((function(a){a.token===e&&(t.command=a)}))}},{key:"save",value:function(){return{commandToken:this.commandToken,parameterValues:this.parameters}}}]),a}(n["DialogSection"]);Object(u["a"])([Object(n["Prop"])()],w$.prototype,"deviceTypeToken",void 0),Object(u["a"])([Object(n["Watch"])("commandToken")],w$.prototype,"onCommandSelected",null),w$=Object(u["a"])([Object(n["Component"])({components:{DialogForm:_e}})],w$);var S$=w$,A$=S$,P$=Object(f["a"])(A$,_$,T$,!1,null,null,null),E$=P$.exports,L$=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("dialog-form",[a("v-flex",{attrs:{xs12:""}},[a("v-card",[a("v-card-text",[a("v-switch",{staticClass:"mb-0",attrs:{label:e.scheduleMessage},model:{value:e.useSchedule,callback:function(t){e.useSchedule=t},expression:"useSchedule"}}),a("schedule-chooser",{attrs:{enabled:e.useSchedule},model:{value:e.scheduleToken,callback:function(t){e.scheduleToken=t},expression:"scheduleToken"}})],1)],1)],1)],1)},U$=[],I$=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("chooser",{staticClass:"ma-0",attrs:{all:e.all,chosenText:e.chosenText,notChosenText:e.notChosenText,value:e.value},on:{selected:e.onItemSelected}})},q$=[];function R$(e,t){var a=lt(e),n=B["API"].Schedules.createSchedule(a,t);return ut(e,n)}function M$(e,t,a){var n=lt(e),i=B["API"].Schedules.getSchedule(n,t,a);return ut(e,i)}function F$(e,t,a){var n=lt(e),i=B["API"].Schedules.updateSchedule(n,t,a);return ut(e,i)}function N$(e,t){var a=lt(e),n=B["API"].Schedules.deleteSchedule(a,t);return ut(e,n)}function z$(e,t,a){var n=lt(e),i=B["API"].Schedules.listSchedules(n,t,a);return ut(e,i)}var B$=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.selected=null,e.all=[],e}return Object(j["a"])(a,[{key:"created",value:function(){this.refresh()}},{key:"refresh",value:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){var t,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={},a={},e.next=4,z$(this.$store,a,t);case 4:n=e.sent,this.all=n.data.results;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onItemSelected",value:function(e){this.selected=e,this.$emit("input",e)}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],B$.prototype,"value",void 0),Object(u["a"])([Object(n["Prop"])()],B$.prototype,"chosenText",void 0),Object(u["a"])([Object(n["Prop"])()],B$.prototype,"notChosenText",void 0),B$=Object(u["a"])([Object(n["Component"])({components:{Chooser:yC}})],B$);var V$=B$,G$=V$,Z$=Object(f["a"])(G$,I$,q$,!1,null,null,null),W$=Z$.exports,H$=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.scheduleToken=null,e.useSchedule=!1,e}return Object(j["a"])(a,[{key:"reset",value:function(){this.scheduleToken=null,this.useSchedule=!1}},{key:"validate",value:function(){return!0}},{key:"load",value:function(e){this.scheduleToken=e.scheduleToken}},{key:"save",value:function(){return{scheduleToken:this.scheduleToken}}},{key:"scheduleMessage",get:function(){return this.useSchedule?"Invoke command on schedule below.":"No schedule. Invoke command immediately."}}]),a}(n["DialogSection"]);H$=Object(u["a"])([Object(n["Component"])({components:{DialogForm:_e,ScheduleChooser:W$}})],H$);var J$=H$,Q$=J$,Y$=Object(f["a"])(Q$,L$,U$,!1,null,null,null),K$=Y$.exports,X$=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"generatePayload",value:function(){var e={};return this.filter.deviceTypeTokens&&this.filter.deviceTypeTokens.length>0&&(e.deviceTypeToken=this.filter.deviceTypeTokens[0]),this.filter.customerTokens&&(e.customerTokens=this.filter.customerTokens),this.filter.areaTokens&&(e.areaTokens=this.filter.areaTokens),this.filter.assetTokens&&(e.assetTokens=this.filter.assetTokens),Object.assign(e,this.$refs.details.save(),this.$refs.schedule.save(),this.$refs.metadata.save()),e}},{key:"reset",value:function(){this.$refs.details&&this.$refs.details.reset(),this.$refs.schedule&&this.$refs.schedule.reset(),this.$refs.metadata&&this.$refs.metadata.reset(),this.$refs.dialog.setActiveTab(0)}},{key:"load",value:function(e){this.reset(),this.$refs.details&&this.$refs.details.load(e),this.$refs.schedule&&this.$refs.schedule.load(e),this.$refs.metadata&&this.$refs.metadata.load(e)}},{key:"onCreateClicked",value:function(e){if(this.$refs.details.validate())if(this.$refs.schedule.validate()){var t=this.generatePayload();this.$emit("payload",t)}else this.$refs.dialog.setActiveTab(1);else this.$refs.dialog.setActiveTab(0)}},{key:"icon",get:function(){return I.DeviceCommand}},{key:"deviceTypeToken",get:function(){return this.filter.deviceTypeTokens&&this.filter.deviceTypeTokens.length>0?this.filter.deviceTypeTokens[0]:null}}]),a}(n["DialogComponent"]);Object(u["a"])([Object(n["Prop"])()],X$.prototype,"filter",void 0),X$=Object(u["a"])([Object(n["Component"])({components:{BatchCommandDetailFields:E$,BatchCommandScheduleFields:K$}})],X$);var e_=X$,t_=e_,a_=Object(f["a"])(t_,x$,$$,!1,null,null,null),n_=a_.exports;function i_(e,t,a){var n=lt(e),i=B["API"].BatchOperations.getBatchOperation(n,t,a);return ut(e,i)}function r_(e,t,a){var n=lt(e),i=B["API"].BatchOperations.listBatchOperations(n,t,a);return ut(e,i)}function o_(e,t,a,n){var i=lt(e),r=B["API"].BatchOperations.listBatchOperationElements(i,t,a,n);return ut(e,r)}function s_(e,t){var a=lt(e),n=B["API"].BatchOperations.createInvocationsByDeviceCriteria(a,t);return ut(e,n)}function l_(e,t){var a=lt(e),n=B["API"].BatchOperations.createInvocationsByAssignmentCriteria(a,t);return ut(e,n)}var c_=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"getDialog",value:function(){return this.$refs.dialog}},{key:"onCommit",value:function(e){this.commit(e)}},{key:"save",value:function(e){return l_(this.$store,e)}},{key:"afterSave",value:function(e){}}]),a}(n["CreateDialogComponent"]);Object(u["a"])([Object(n["Prop"])()],c_.prototype,"filter",void 0),c_=Object(u["a"])([Object(n["Component"])({components:{InvocationByAssignmentCriteriaDialog:n_}})],c_);var u_=c_,d_=u_,p_=Object(f["a"])(d_,j$,C$,!1,null,null,null),v_=p_.exports,f_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-navigation-action-button",{attrs:{material:"true",icon:e.icon,tooltip:e.tooltip},on:{action:e.onAction}})},m_=[],h_=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"onAction",value:function(){this.$emit("action")}},{key:"icon",get:function(){return I.DeviceCommand}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],h_.prototype,"tooltip",void 0),h_=Object(u["a"])([Object(n["Component"])({})],h_);var b_=h_,y_=b_,g_=Object(f["a"])(y_,f_,m_,!1,null,"516d9981",null),k_=g_.exports,O_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-navigation-action-button",{attrs:{material:"true",icon:e.icon,tooltip:e.tooltip},on:{action:e.onAction}})},j_=[],C_=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"onAction",value:function(){this.$emit("action")}},{key:"icon",get:function(){return I.Filter}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],C_.prototype,"tooltip",void 0),C_=Object(u["a"])([Object(n["Component"])({})],C_);var x_=C_,$_=x_,__=Object(f["a"])($_,O_,j_,!1,null,"95d14aa0",null),T_=__.exports,D_=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.filter={},e.pageSizes=[{text:"20",value:20},{text:"50",value:50},{text:"100",value:100}],e}return Object(j["a"])(a,[{key:"buildSearchCriteria",value:function(){return this.filter}},{key:"buildResponseFormat",value:function(){var e={includeDevice:!0,includeAsset:!0};return e}},{key:"performSearch",value:function(e,t){return lm(this.$store,e,t)}},{key:"onShowFilterCriteria",value:function(){this.$refs.filter.load(this.filter),this.$refs.filter.openDialog()}},{key:"onUpdateFilterCriteria",value:function(e){this.filter=e,this.refresh()}},{key:"onClearFilterCriteria",value:function(){this.filter={},this.$refs.filter.reset(),this.refresh()}},{key:"onFilterUpdated",value:function(e){this.$refs.filter.closeDialog(),this.filter=e,this.refresh()}},{key:"onOpenAssignment",value:function(e){ue(this,"/assignments/"+e.token)}},{key:"onBatchCommandInvocation",value:function(){this.$refs.batch.open()}},{key:"icon",get:function(){return I.DeviceAssignment}},{key:"hasOneDeviceType",get:function(){return this.filter&&this.filter.deviceTypeTokens&&1===this.filter.deviceTypeTokens.length}}]),a}(n["ListComponent"]);D_=Object(u["a"])([Object(n["Component"])({components:{AssignmentListEntry:im,AssignmentListFilterBar:Qj,AssignmentCreateDialog:px,AssignmentListFilterDialog:O$,InvocationByAssignmentCriteriaCreateDialog:v_,DeviceCommandButton:k_,FilterButton:T_,NoResultsPanel:hp}})],D_);var w_=D_,S_=w_,A_=Object(f["a"])(S_,WO,HO,!1,null,null,null),P_=A_.exports,E_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-detail-page",{attrs:{icon:e.icon,title:e.title,loadingMessage:"Loading assignment ...",loaded:e.loaded,record:e.assignment}},[a("template",{slot:"header"},[a("assignment-detail-header",{attrs:{record:e.assignment},on:{statusUpdated:e.refresh}})],1),a("template",{slot:"tabs"},[a("v-tab",{key:"locations"},[e._v("Locations")]),a("v-tab",{key:"measurements"},[e._v("Measurements")]),a("v-tab",{key:"alerts"},[e._v("Alerts")]),a("v-tab",{key:"invocations"},[e._v("Command Invocations")]),a("v-tab",{key:"responses"},[e._v("Command Responses")])],1),a("template",{slot:"tab-items"},[a("assignment-location-events",{attrs:{tabkey:"locations",token:e.token}}),a("assignment-measurement-events",{attrs:{tabkey:"measurements",token:e.token}}),a("assignment-alert-events",{attrs:{tabkey:"alerts",token:e.token}}),a("assignment-invocation-events",{attrs:{tabkey:"invocations",token:e.token}}),a("assignment-response-events",{attrs:{tabkey:"responses",token:e.token}})],1),a("template",{slot:"dialogs"},[a("invocation-create-dialog",{ref:"invoke",attrs:{assignmentToken:e.token,deviceTypeToken:e.deviceTypeToken},on:{invocationAdded:e.onInvocationAdded}}),a("assignment-delete-dialog",{ref:"delete",attrs:{token:e.token},on:{assignmentDeleted:e.onAssignmentDeleted}})],1),a("template",{slot:"actions"},[a("device-command-button",{attrs:{tooltip:"Invoke Command"},on:{action:e.onAddCommandInvocation}}),a("emulator-button",{attrs:{tooltip:"Device Emulator"},on:{action:e.onOpenEmulator}}),a("delete-button",{attrs:{tooltip:"Delete Assignment"},on:{action:e.onAssignmentDelete}})],1)],2)},L_=[],U_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.assignment?a("sw-navigation-header-panel",{attrs:{imageUrl:e.imageUrl,height:"220px"}},[a("template",{slot:"left"},[a("assignment-detail-header-image",{attrs:{assignment:e.assignment}})],1),a("template",{slot:"content"},[a("sw-navigation-header-fields",[a("sw-header-field",{attrs:{label:"Assignment token"}},[a("clipboard-copy-field",{attrs:{field:e.assignment.token,message:"Assignment token copied to clipboard"}})],1),a("sw-linked-header-field",{attrs:{label:"Assigned device",text:e.assignment.device.deviceType.name,url:"/devices/"+e.assignment.device.token}}),a("sw-header-field",{attrs:{label:"Created date"}},[a("span",[e._v(e._s(e.formatDate(e.assignment.createdDate)))])]),a("sw-header-field",{attrs:{label:"Last updated date"}},[a("span",[e._v(e._s(e.formatDate(e.assignment.updatedDate)))])]),a("sw-header-field",{attrs:{label:"Active date"}},[a("span",[e._v(e._s(e.formatDate(e.assignment.activeDate)))])]),a("sw-header-field",{attrs:{label:"Released date"}},[a("span",[e._v(e._s(e.formatDate(e.assignment.releasedDate)))])]),a("sw-header-field",{attrs:{label:"Status"}},[a("assignment-status-button",{attrs:{assignment:e.assignment},on:{updated:e.onStatusUpdated}})],1)],1)],1),a("template",{slot:"right"},[a("authenticated-image",{attrs:{url:e.qrCodeUrl}})],1)],2):e._e()},I_=[],q_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticStyle:{position:"relative",height:"100%"},attrs:{flat:""}},[e.imageUrl?a("sw-image-zoom-on-hover",{attrs:{imageUrl:e.imageUrl}}):a("span",[e._v(e._s(e.assignment))])],1)},R_=[],M_=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"imageStyle",value:function(e){return{"background-color":"#fff","background-image":"url("+e+")","background-size":"contain","background-repeat":"no-repeat","background-position":"50% 50%"}}},{key:"device",get:function(){return this.assignment?this.assignment.device:null}},{key:"deviceType",get:function(){return this.device?this.device.deviceType:null}},{key:"imageUrl",get:function(){return this.deviceType?this.deviceType.imageUrl:null}},{key:"asset",get:function(){return this.assignment?this.assignment.asset:null}},{key:"area",get:function(){return this.assignment?this.assignment.area:null}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],M_.prototype,"assignment",void 0),M_=Object(u["a"])([Object(n["Component"])({})],M_);var F_=M_,N_=F_,z_=(a("406e"),Object(f["a"])(N_,q_,R_,!1,null,"ccfbc982",null)),B_=z_.exports,V_=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("sw-confirm-dialog",{ref:"dialog",attrs:{buttonText:"Update",title:"Update Assignment Status",width:"400"},on:{confirmed:e.onExecuteAction}},[a("v-card-text",[e._v("Are you sure you want to update the assignment status?")])],1),"Released"===e.assignment.status?a("span",[e._v("Released")]):"Active"===e.assignment.status?a("v-menu",{attrs:{"offset-y":""}},[a("v-tooltip",{attrs:{slot:"activator",left:""},slot:"activator"},[a("v-btn",{staticClass:"green darken-2 white--text pa-0 ma-0",attrs:{slot:"activator",small:""},slot:"activator"},[e._v("Active")]),a("span",[e._v("Update Status")])],1),a("v-list",e._l(e.statusActiveItems,(function(t){return a("v-list-tile",{key:t.text,on:{click:function(a){return a.stopPropagation(),e.confirmFirst(t.action)}}},[a("v-list-tile-title",[e._v(e._s(t.text))])],1)})),1)],1):"Missing"===e.assignment.status?a("v-menu",{attrs:{"offset-y":""}},[a("v-tooltip",{attrs:{slot:"activator",left:""},slot:"activator"},[a("v-btn",{staticClass:"red darken-2 white--text pa-0 ma-0",attrs:{slot:"activator",small:""},slot:"activator"},[e._v("Missing")]),a("span",[e._v("Update Status")])],1),a("v-list",e._l(e.statusMissingItems,(function(t){return a("v-list-tile",{key:t.text,on:{click:function(a){return a.stopPropagation(),e.confirmFirst(t.action)}}},[a("v-list-tile-title",[e._v(e._s(t.text))])],1)})),1)],1):e._e()],1)},G_=[],Z_=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.action=function(){},e.statusActiveItems=[{text:"Release Assignment",action:e.onReleaseAssignment},{text:"Report Missing",action:e.onMissingAssignment}],e.statusMissingItems=[{text:"Release Assignment",action:e.onReleaseAssignment}],e}return Object(j["a"])(a,[{key:"confirmFirst",value:function(e){this.action=e,this.$refs.dialog.open()}},{key:"onExecuteAction",value:function(){this.action()}},{key:"onReleaseAssignment",value:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,gm(this.$store,this.assignment.token);case 2:t=e.sent,this.onStatusUpdated(t.data);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onMissingAssignment",value:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,km(this.$store,this.assignment.token);case 2:t=e.sent,this.onStatusUpdated(t.data);case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onStatusUpdated",value:function(e){this.$emit("updated")}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],Z_.prototype,"assignment",void 0),Z_=Object(u["a"])([Object(n["Component"])({})],Z_);var W_=Z_,H_=W_,J_=Object(f["a"])(H_,V_,G_,!1,null,null,null),Q_=J_.exports,Y_=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"onStatusUpdated",value:function(){this.$emit("statusUpdated")}},{key:"formatDate",value:function(e){return se(e)}},{key:"assignment",get:function(){return this.record}},{key:"token",get:function(){return this.assignment?this.assignment.token:""}},{key:"imageUrl",get:function(){return this.assignment?this.assignment.device.deviceType.imageUrl:""}},{key:"qrCodeUrl",get:function(){return"assignments/"+this.token+"/label/qrcode"}}]),a}(n["HeaderComponent"]);Y_=Object(u["a"])([Object(n["Component"])({components:{ClipboardCopyField:rn,AuthenticatedImage:pn,AssignmentDetailHeaderImage:B_,AssignmentStatusButton:Q_}})],Y_);var K_=Y_,X_=K_,eT=Object(f["a"])(X_,U_,I_,!1,null,null,null),tT=eT.exports,aT=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-data-table-tab",{attrs:{tabkey:e.tabkey,loaded:e.loaded,headers:e.headers,results:e.results,pageSizes:e.pageSizes,loadingMessage:"Loading assignment locations ..."},on:{pagingUpdated:e.onPagingUpdated},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{attrs:{width:"50%",title:"Lat/Lon/Elevation"}},[e._v(e._s(e.fourDecimalPlaces(t.item.latitude)+", "+e.fourDecimalPlaces(t.item.longitude)+", "+e.fourDecimalPlaces(t.item.elevation)))]),a("td",{staticStyle:{"white-space":"nowrap"},attrs:{width:"25%",title:e.formatDate(t.item.eventDate)}},[e._v(e._s(e.formatDate(t.item.eventDate)))]),a("td",{staticStyle:{"white-space":"nowrap"},attrs:{width:"25%",title:e.formatDate(t.item.receivedDate)}},[e._v(e._s(e.formatDate(t.item.receivedDate)))])]}}])})},nT=[],iT=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.pageSizes=V,e.headers=Z,e}return Object(j["a"])(a,[{key:"buildSearchCriteria",value:function(){var e={};return e}},{key:"buildResponseFormat",value:function(){var e={};return e}},{key:"performSearch",value:function(e,t){return vm(this.$store,this.token,e,t)}},{key:"formatDate",value:function(e){return se(e)}},{key:"fourDecimalPlaces",value:function(e){return ce(e)}}]),a}(n["ListComponent"]);Object(u["a"])([Object(n["Prop"])()],iT.prototype,"tabkey",void 0),Object(u["a"])([Object(n["Prop"])()],iT.prototype,"token",void 0),iT=Object(u["a"])([Object(n["Component"])({})],iT);var rT=iT,oT=rT,sT=Object(f["a"])(oT,aT,nT,!1,null,null,null),lT=sT.exports,cT=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-data-table-tab",{attrs:{tabkey:e.tabkey,loaded:e.loaded,headers:e.headers,results:e.results,pageSizes:e.pageSizes,loadingMessage:"Loading assignment measurements ..."},on:{pagingUpdated:e.onPagingUpdated},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{attrs:{width:"35%",title:t.item.name}},[e._v(e._s(t.item.name))]),a("td",{attrs:{width:"35%",title:t.item.value}},[e._v(e._s(t.item.value))]),a("td",{staticStyle:{"white-space":"nowrap"},attrs:{width:"15%",title:e.formatDate(t.item.eventDate)}},[e._v(e._s(e.formatDate(t.item.eventDate)))]),a("td",{staticStyle:{"white-space":"nowrap"},attrs:{width:"15%",title:e.formatDate(t.item.receivedDate)}},[e._v(e._s(e.formatDate(t.item.receivedDate)))])]}}])})},uT=[],dT=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.pageSizes=V,e.headers=H,e}return Object(j["a"])(a,[{key:"buildSearchCriteria",value:function(){var e={};return e}},{key:"buildResponseFormat",value:function(){var e={};return e}},{key:"performSearch",value:function(e,t){return dm(this.$store,this.token,e,t)}},{key:"formatDate",value:function(e){return se(e)}}]),a}(n["ListComponent"]);Object(u["a"])([Object(n["Prop"])()],dT.prototype,"tabkey",void 0),Object(u["a"])([Object(n["Prop"])()],dT.prototype,"token",void 0),dT=Object(u["a"])([Object(n["Component"])({})],dT);var pT=dT,vT=pT,fT=Object(f["a"])(vT,cT,uT,!1,null,null,null),mT=fT.exports,hT=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-data-table-tab",{attrs:{tabkey:e.tabkey,loaded:e.loaded,headers:e.headers,results:e.results,pageSizes:e.pageSizes,loadingMessage:"Loading assignmnet alerts ..."},on:{pagingUpdated:e.onPagingUpdated},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{attrs:{width:"20%",title:t.item.type}},[e._v(e._s(t.item.type))]),a("td",{attrs:{width:"50%",title:t.item.message}},[e._v(e._s(t.item.message))]),a("td",{staticStyle:{"white-space":"nowrap"},attrs:{width:"15%",title:e.formatDate(t.item.eventDate)}},[e._v(e._s(e.formatDate(t.item.eventDate)))]),a("td",{staticStyle:{"white-space":"nowrap"},attrs:{width:"15%",title:e.formatDate(t.item.receivedDate)}},[e._v(e._s(e.formatDate(t.item.receivedDate)))])]}}])})},bT=[],yT=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.pageSizes=V,e.headers=Q,e}return Object(j["a"])(a,[{key:"buildSearchCriteria",value:function(){var e={};return e}},{key:"buildResponseFormat",value:function(){var e={};return e}},{key:"performSearch",value:function(e,t){return mm(this.$store,this.token,e,t)}},{key:"formatDate",value:function(e){return se(e)}}]),a}(n["ListComponent"]);Object(u["a"])([Object(n["Prop"])()],yT.prototype,"tabkey",void 0),Object(u["a"])([Object(n["Prop"])()],yT.prototype,"token",void 0),yT=Object(u["a"])([Object(n["Component"])({})],yT);var gT=yT,kT=gT,OT=Object(f["a"])(kT,hT,bT,!1,null,null,null),jT=OT.exports,CT=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-data-table-tab",{attrs:{tabkey:e.tabkey,loaded:e.loaded,headers:e.headers,results:e.results,pageSizes:e.pageSizes,loadingMessage:"Loading assignment command invocations ..."},on:{pagingUpdated:e.onPagingUpdated},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{attrs:{width:"15%",title:t.item.command.name}},[e._v(e._s(t.item.command.name))]),a("td",{attrs:{width:"45%",title:e.invocationSource(t.item)}},[e._v(e._s(e.invocationSource(t.item)))]),a("td",{attrs:{width:"20%",title:e.invocationTarget(t.item)}},[e._v(e._s(e.invocationTarget(t.item)))]),a("td",{staticStyle:{"white-space":"nowrap"},attrs:{width:"10%",title:e.formatDate(t.item.eventDate)}},[e._v(e._s(e.formatDate(t.item.eventDate)))]),a("td",{staticStyle:{"white-space":"nowrap"},attrs:{width:"10%",title:e.formatDate(t.item.receivedDate)}},[e._v(e._s(e.formatDate(t.item.receivedDate)))])]}}])})},xT=[],$T=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.pageSizes=V,e.headers=K,e}return Object(j["a"])(a,[{key:"buildSearchCriteria",value:function(){var e={};return e}},{key:"buildResponseFormat",value:function(){var e={};return e}},{key:"performSearch",value:function(e,t){return bm(this.$store,this.token,e,t)}},{key:"formatDate",value:function(e){return se(e)}},{key:"invocationSource",value:function(e){return e.initiator+" ("+e.initiatorId+")"}},{key:"invocationTarget",value:function(e){return e.target}}]),a}(n["ListComponent"]);Object(u["a"])([Object(n["Prop"])()],$T.prototype,"tabkey",void 0),Object(u["a"])([Object(n["Prop"])()],$T.prototype,"token",void 0),$T=Object(u["a"])([Object(n["Component"])({})],$T);var _T=$T,TT=_T,DT=Object(f["a"])(TT,CT,xT,!1,null,null,null),wT=DT.exports,ST=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-data-table-tab",{attrs:{tabkey:e.tabkey,loaded:e.loaded,headers:e.headers,results:e.results,pageSizes:e.pageSizes,loadingMessage:"Loading assignment command responses ..."},on:{pagingUpdated:e.onPagingUpdated},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{attrs:{width:"20%",title:t.item.originatingEventId}},[e._v(e._s(t.item.originatingEventId))]),a("td",{attrs:{width:"30%",title:t.item.response}},[e._v(e._s(t.item.response))]),a("td",{staticStyle:{"white-space":"nowrap"},attrs:{width:"10%",title:e.formatDate(t.item.eventDate)}},[e._v(e._s(e.formatDate(t.item.eventDate)))]),a("td",{staticStyle:{"white-space":"nowrap"},attrs:{width:"10%",title:e.formatDate(t.item.receivedDate)}},[e._v(e._s(e.formatDate(t.item.receivedDate)))])]}}])})},AT=[],PT=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.pageSizes=V,e.headers=Y,e}return Object(j["a"])(a,[{key:"buildSearchCriteria",value:function(){var e={};return e}},{key:"buildResponseFormat",value:function(){var e={};return e}},{key:"performSearch",value:function(e,t){return ym(this.$store,this.token,e,t)}},{key:"formatDate",value:function(e){return se(e)}}]),a}(n["ListComponent"]);Object(u["a"])([Object(n["Prop"])()],PT.prototype,"tabkey",void 0),Object(u["a"])([Object(n["Prop"])()],PT.prototype,"token",void 0),PT=Object(u["a"])([Object(n["Component"])({})],PT);var ET=PT,LT=ET,UT=Object(f["a"])(LT,ST,AT,!1,null,null,null),IT=UT.exports,qT=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-delete-dialog",{ref:"dialog",attrs:{title:"Delete Device Assignment",width:"400",visible:e.visible},on:{delete:e.onDelete,cancel:e.onCancel}},[a("v-card-text",[e._v(e._s(e.message))])],1)},RT=[],MT=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.message=null,e}return Object(j["a"])(a,[{key:"prepareLoad",value:function(e){var t={};return om(this.$store,e,t)}},{key:"afterLoad",value:function(e){this.message="Are you sure you want to delete '".concat(e.token,"'?")}},{key:"prepareDelete",value:function(e){return cm(this.$store,e.token)}},{key:"onDelete",value:function(e){this.delete()}},{key:"onCancel",value:function(e){this.cancel()}}]),a}(n["DeleteDialogComponent"]);MT=Object(u["a"])([Object(n["Component"])({})],MT);var FT=MT,NT=FT,zT=Object(f["a"])(NT,qT,RT,!1,null,null,null),BT=zT.exports,VT=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("invocation-dialog",{ref:"dialog",attrs:{assignmentToken:e.assignmentToken,deviceTypeToken:e.deviceTypeToken,title:"Invoke Device Command",width:"600",createLabel:"Create",cancelLabel:"Cancel"},on:{payload:e.onCommit}})},GT=[],ZT=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-base-dialog",{ref:"dialog",attrs:{icon:e.icon,title:e.title,width:e.width,loaded:e.loaded,visible:e.dialogVisible,createLabel:e.createLabel,cancelLabel:e.cancelLabel},on:{createClicked:e.onCreateClicked,cancelClicked:e.onCancelClicked}},[a("template",{slot:"tabs"},[a("v-tab",{key:"details"},[e._v("Details")]),a("v-tab",{key:"schedule"},[e._v("Schedule")]),a("v-tab",{key:"metadata"},[e._v("Metadata")])],1),a("template",{slot:"tab-items"},[a("v-tab-item",{key:"details"},[a("invocation-detail-fields",{ref:"details",attrs:{deviceTypeToken:e.deviceTypeToken,assignmentToken:e.assignmentToken}})],1),a("v-tab-item",{key:"schedule"},[a("schedule-chooser-section",{ref:"schedule"})],1),a("v-tab-item",{key:"metadata"},[a("sw-metadata-panel",{ref:"metadata"})],1)],1)],2)},WT=[],HT=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("dialog-form",[a("v-flex",{attrs:{xs12:""}},[a("command-selector",{attrs:{deviceTypeToken:e.deviceTypeToken,title:"Command being invoked."},on:{selected:e.onCommandSelected},model:{value:e.commandToken,callback:function(t){e.commandToken=t},expression:"commandToken"}},[e.$v.commandToken.$invalid&&e.$v.$dirty?a("span",[e._v("Command is required.")]):e._e()])],1),a("v-flex",{attrs:{xs12:""}},[e.command?a("v-card",{staticStyle:{width:"100%"}},[a("v-card-text",[e._v(e._s(e.command.description))]),e.command.parameters.length?a("v-card-text",{staticClass:"pt-0"},e._l(e.command.parameters,(function(t){return a("v-flex",{key:t.name,attrs:{xs12:""}},[a("v-text-field",{attrs:{placeholder:" ",label:t.name,required:t.required},model:{value:e.parameters[t.name],callback:function(a){e.$set(e.parameters,t.name,a)},expression:"parameters[param.name]"}})],1)})),1):e._e()],1):e._e()],1)],1)},JT=[],QT=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form-select",{attrs:{items:e.commands,title:e.title||"Choose command",label:e.label||"Command","item-text":"name","item-value":"token",icon:"settings"},model:{value:e.wrapped,callback:function(t){e.wrapped=t},expression:"wrapped"}},[e._t("default")],2)},YT=[],KT=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.commands=[],e.token=null,e}return Object(j["a"])(a,[{key:"onDeviceTypeChanged",value:function(e,t){this.loadCommandsForDeviceType(e)}},{key:"loadCommandsForDeviceType",value:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(t){var a,n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null==t){e.next=13;break}return a={deviceTypeToken:t,pageNumber:1,pageSize:0},n={},e.prev=3,e.next=6,D$(this.$store,a,n);case 6:i=e.sent,this.commands=i.data.results,e.next=13;break;case 10:e.prev=10,e.t0=e["catch"](3),ie(e.t0);case 13:case"end":return e.stop()}}),e,this,[[3,10]])})));function t(t){return e.apply(this,arguments)}return t}()},{key:"wrapped",get:function(){return this.value},set:function(e){var t=this;this.$emit("input",e),this.commands.forEach((function(a){a.token===e&&t.$emit("selected",a)}))}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])(String)],KT.prototype,"value",void 0),Object(u["a"])([Object(n["Prop"])(String)],KT.prototype,"title",void 0),Object(u["a"])([Object(n["Prop"])(String)],KT.prototype,"label",void 0),Object(u["a"])([Object(n["Prop"])(String)],KT.prototype,"deviceTypeToken",void 0),Object(u["a"])([Object(n["Watch"])("deviceTypeToken")],KT.prototype,"onDeviceTypeChanged",null),KT=Object(u["a"])([Object(n["Component"])({components:{FormSelect:Fe}})],KT);var XT=KT,eD=XT,tD=Object(f["a"])(eD,QT,YT,!1,null,null,null),aD=tD.exports,nD=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.commandToken=null,e.command=null,e.parameters={},e}return Object(j["a"])(a,[{key:"reset",value:function(){this.commandToken=null,this.command=null,this.parameters={},this.$v.$reset()}},{key:"validate",value:function(){return this.$v.$touch(),!this.$v.$invalid}},{key:"load",value:function(e){this.commandToken=e.commandToken}},{key:"save",value:function(){return{commandToken:this.commandToken,parameterValues:this.parameters}}},{key:"onCommandSelected",value:function(e){this.command=e}}]),a}(n["DialogSection"]);Object(u["a"])([Object(n["Prop"])(String)],nD.prototype,"deviceTypeToken",void 0),nD=Object(u["a"])([Object(n["Component"])({components:{DialogForm:_e,FormText:Ee,CommandSelector:aD},validations:{commandToken:{required:Ne["required"]}}})],nD);var iD=nD,rD=iD,oD=Object(f["a"])(rD,HT,JT,!1,null,null,null),sD=oD.exports,lD=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("dialog-form",[a("v-flex",{attrs:{xs12:""}},[a("schedule-chooser",{ref:"schedule"})],1)],1)},cD=[],uD=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"reset",value:function(){}},{key:"validate",value:function(){return!0}},{key:"load",value:function(e){}},{key:"save",value:function(){return{}}}]),a}(n["DialogSection"]);uD=Object(u["a"])([Object(n["Component"])({components:{DialogForm:_e,ScheduleChooser:W$}})],uD);var dD=uD,pD=dD,vD=Object(f["a"])(pD,lD,cD,!1,null,null,null),fD=vD.exports,mD=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"generatePayload",value:function(){var e={};return Object.assign(e,this.$refs.details.save(),this.$refs.schedule.save(),this.$refs.metadata.save(),{initiator:"REST",initiatorId:this.user.username,target:"Assignment",targetId:this.assignmentToken}),e}},{key:"reset",value:function(){this.$refs.details&&this.$refs.details.reset(),this.$refs.schedule&&this.$refs.schedule.reset(),this.$refs.metadata&&this.$refs.metadata.reset(),this.$refs.dialog.setActiveTab(0)}},{key:"load",value:function(e){this.reset(),this.$refs.details&&this.$refs.details.load(e),this.$refs.branding&&this.$refs.schedule.load(e),this.$refs.metadata&&this.$refs.metadata.load(e)}},{key:"onCreateClicked",value:function(e){if(this.$refs.details.validate())if(this.$refs.schedule.validate()){var t=this.generatePayload();this.$emit("payload",t)}else this.$refs.dialog.setActiveTab(1);else this.$refs.dialog.setActiveTab(0)}},{key:"icon",get:function(){return I.DeviceCommand}},{key:"user",get:function(){return this.$store.getters.user}}]),a}(n["DialogComponent"]);Object(u["a"])([Object(n["Prop"])()],mD.prototype,"assignmentToken",void 0),Object(u["a"])([Object(n["Prop"])()],mD.prototype,"deviceTypeToken",void 0),mD=Object(u["a"])([Object(n["Component"])({components:{InvocationDetailFields:sD,ScheduleChooserSection:fD}})],mD);var hD=mD,bD=hD,yD=Object(f["a"])(bD,ZT,WT,!1,null,null,null),gD=yD.exports,kD=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"getDialog",value:function(){return this.$refs.dialog}},{key:"onCommit",value:function(e){this.commit(e)}},{key:"save",value:function(e){if(!this.assignmentToken)throw new Error("No assignment token set.");return hm(this.$store,this.assignmentToken,e)}},{key:"afterSave",value:function(e){this.$emit("invocationAdded",e)}}]),a}(n["CreateDialogComponent"]);Object(u["a"])([Object(n["Prop"])()],kD.prototype,"assignmentToken",void 0),Object(u["a"])([Object(n["Prop"])()],kD.prototype,"deviceTypeToken",void 0),kD=Object(u["a"])([Object(n["Component"])({components:{InvocationDialog:gD}})],kD);var OD=kD,jD=OD,CD=Object(f["a"])(jD,VT,GT,!1,null,null,null),xD=CD.exports,$D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-navigation-action-button",{attrs:{material:"true",icon:e.icon,tooltip:e.tooltip},on:{action:e.onAction}})},_D=[],TD=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"onAction",value:function(){this.$emit("action")}},{key:"icon",get:function(){return I.Emulator}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],TD.prototype,"tooltip",void 0),TD=Object(u["a"])([Object(n["Component"])({})],TD);var DD=TD,wD=DD,SD=Object(f["a"])(wD,$D,_D,!1,null,"673f77d3",null),AD=SD.exports,PD=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"loadRecord",value:function(e){var t={includeDevice:!0};return om(this.$store,e,t)}},{key:"afterRecordLoaded",value:function(e){var t={id:"assignments",title:"Assignments",icon:I.DeviceAssignment,route:"/admin/assignments/"+e.token,longTitle:"Manage Assignment: "+e.token};this.$store.commit("currentSection",t)}},{key:"onAssignmentDelete",value:function(){console.log("Would be deleting assignment")}},{key:"onAssignmentDeleted",value:function(){ue(this,"/areas")}},{key:"onOpenEmulator",value:function(){ue(this,"/assignments/"+this.$data.token+"/emulator")}},{key:"onAddCommandInvocation",value:function(){this.$refs.invoke.open()}},{key:"onInvocationAdded",value:function(){console.log("Invocation added")}},{key:"assignment",get:function(){return this.record}},{key:"device",get:function(){return this.assignment?this.assignment.device:null}},{key:"deviceType",get:function(){return this.device?this.device.deviceType:null}},{key:"deviceTypeToken",get:function(){return this.deviceType?this.deviceType.token:null}},{key:"icon",get:function(){return I.DeviceAssignment}},{key:"title",get:function(){return this.assignment?this.assignment.token:""}}]),a}(n["DetailComponent"]);PD=Object(u["a"])([Object(n["Component"])({components:{AssignmentDetailHeader:tT,AssignmentLocationEvents:lT,AssignmentMeasurementEvents:mT,AssignmentAlertEvents:jT,AssignmentInvocationEvents:wT,AssignmentResponseEvents:IT,AssignmentDeleteDialog:BT,InvocationCreateDialog:xD,DeviceCommandButton:k_,EmulatorButton:AD,DeleteButton:yv}})],PD);var ED=PD,LD=ED,UD=Object(f["a"])(LD,E_,L_,!1,null,null,null),ID=UD.exports,qD=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-detail-page",{attrs:{icon:e.icon,title:e.title,loadingMessage:"Loading assignment ...",loaded:e.loaded,record:e.assignment}},[a("template",{slot:"header"},[e.assignment?a("assignment-list-entry",{attrs:{assignment:e.assignment,headerMode:"false"}}):e._e()],1),a("template",{slot:"tabs"},[a("v-tab",{key:"emulator"},[e._v("Emulator")])],1),a("template",{slot:"tab-items"},[a("div",{staticStyle:{position:"relative",height:"100%"}},[a("assignment-emulator-map",{ref:"map",attrs:{assignment:e.assignment,visible:e.loaded},on:{location:e.onLocationClicked}}),e.addLocationMode?a("div",{style:e.overlayStyle},[a("span",{staticClass:"loc-overlay-text"},[e._v("Click Map to Add Location Event")])]):e._e()],1)]),a("template",{slot:"dialogs"},[a("location-create-dialog",{ref:"location",attrs:{assignment:e.assignment},on:{created:e.onLocationAdded}}),a("alert-create-dialog",{ref:"alert",attrs:{assignment:e.assignment},on:{created:e.onAlertAdded}}),a("measurement-create-dialog",{ref:"measurement",attrs:{assignment:e.assignment},on:{created:e.onMeasurementAdded}})],1),a("template",{slot:"actions"},[a("sw-navigation-action-button",{attrs:{icon:"warning",material:!0,tooltip:"Add Alert"},on:{action:e.onAddAlertClicked}}),a("sw-navigation-action-button",{attrs:{icon:"room",material:!0,tooltip:"Add Location"},on:{action:e.onEnterAddLocationMode}}),a("sw-navigation-action-button",{attrs:{icon:"assessment",material:!0,tooltip:"Add Measurement"},on:{action:e.onAddMeasurementClicked}}),a("sw-navigation-action-button",{attrs:{icon:"cached",material:!0,tooltip:"Refresh Locations"},on:{action:e.onRefreshLocations}})],1)],2)},RD=[],MD=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticStyle:{height:"100%"}},[a("map-panel",{ref:"map",staticClass:"map-content",attrs:{visible:e.visible},on:{ready:e.onInitializeMap}})],1)},FD=[],ND=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.locations=[],e.lastLocation=null,e.locationsLayer=null,e}return Object(j["a"])(a,[{key:"onInitializeMap",value:function(){this.refreshLocations(),this.$emit("ready")}},{key:"getMap",value:function(){return this.$refs.map?this.$refs.map.getMap():null}},{key:"refreshLocations",value:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){var t,a,n,i,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=!(r.length>0&&void 0!==r[0])||r[0],a={},n={},e.next=5,vm(this.$store,this.assignment.token,a,n);case 5:i=e.sent,this.onLocationsLoaded(i.data.results,t);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onLocationsLoaded",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.locations=e,this.addLocationsLayer(t)}},{key:"addLocationsLayer",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=null,a=this.locations;a.reverse();var n=[],i=[];a.forEach((function(e){i.push(Object(Vy["marker"])([e.latitude,e.longitude]));var a=new Vy["LatLng"](e.latitude,e.longitude);n.push(a),t=a}));var r=this.locationsLayer;r&&r.remove();var o=this.getMap();if(o){var s=Object(Vy["featureGroup"])(i).addTo(o);if(n.length>1){var l=Object(Vy["polyline"])(n,{stroke:!0,color:"#005599",weight:5,opacity:.3});s.addLayer(l)}if(this.locationsLayer=s,this.lastLocation=t,1===n.length)o.setZoom(13),o.panTo(n[0]);else if(t){if(e){var c=this.locationsLayer.getBounds();o.fitBounds(c,{padding:[10,10],animate:!1})}o.panTo(t)}}}},{key:"panToLastLocation",value:function(){var e=this.getMap();e&&this.lastLocation&&e.panTo(this.lastLocation)}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],ND.prototype,"assignment",void 0),Object(u["a"])([Object(n["Prop"])({default:!1})],ND.prototype,"visible",void 0),ND=Object(u["a"])([Object(n["Component"])({components:{MapPanel:Qy}})],ND);var zD=ND,BD=zD,VD=Object(f["a"])(BD,MD,FD,!1,null,null,null),GD=VD.exports,ZD=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("location-dialog",{ref:"dialog",attrs:{title:"Create Location",createLabel:"Create",cancelLabel:"Cancel"},on:{payload:e.onCommit}})},WD=[],HD=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-base-dialog",{ref:"dialog",attrs:{icon:e.icon,title:e.title,width:e.width,loaded:e.loaded,visible:e.dialogVisible,createLabel:e.createLabel,cancelLabel:e.cancelLabel},on:{createClicked:e.onCreateClicked,cancelClicked:e.onCancelClicked,tabSelected:e.onTabSelected}},[a("template",{slot:"tabs"},[a("v-tab",{key:"details"},[e._v("Details")]),a("v-tab",{key:"metadata"},[e._v("Metadata")])],1),a("template",{slot:"tab-items"},[a("v-tab-item",{key:"details"},[a("location-detail-fields",{ref:"details"})],1),a("v-tab-item",{key:"metadata"},[a("sw-metadata-panel",{ref:"metadata"})],1)],1)],2)},JD=[],QD=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("dialog-form",[a("v-flex",{attrs:{xs12:""}},[a("form-text",{attrs:{required:"",label:"Latitude",title:"Location latitude.",type:"number",icon:"language"},model:{value:e.latitude,callback:function(t){e.latitude=t},expression:"latitude"}},[!e.$v.latitude.required&&e.$v.$dirty?a("span",[e._v("Latitude is required.")]):e._e()])],1),a("v-flex",{attrs:{xs12:""}},[a("form-text",{attrs:{required:"",label:"Longitude",title:"Location longitude.",type:"number",icon:"language"},model:{value:e.longitude,callback:function(t){e.longitude=t},expression:"longitude"}},[!e.$v.longitude.required&&e.$v.$dirty?a("span",[e._v("Longitude is required.")]):e._e()])],1),a("v-flex",{attrs:{xs12:""}},[a("form-text",{attrs:{required:"",label:"Elevation",title:"Location elevation.",type:"number",icon:"flight_takeoff"},model:{value:e.elevation,callback:function(t){e.elevation=t},expression:"elevation"}},[!e.$v.elevation.required&&e.$v.$dirty?a("span",[e._v("Elevation is required.")]):e._e()])],1)],1)},YD=[],KD=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.latitude=null,e.longitude=null,e.elevation=null,e}return Object(j["a"])(a,[{key:"reset",value:function(){this.latitude=null,this.longitude=null,this.elevation=null,this.$v.$reset()}},{key:"validate",value:function(){return this.$v.$touch(),!this.$v.$invalid}},{key:"load",value:function(e){this.latitude=e.latitude,this.longitude=e.longitude,this.elevation=e.elevation}},{key:"save",value:function(){return{latitude:this.latitude,longitude:this.longitude,elevation:this.elevation}}}]),a}(n["DialogSection"]);KD=Object(u["a"])([Object(n["Component"])({components:{DialogForm:_e,FormText:Ee},validations:{latitude:{required:Ne["required"]},longitude:{required:Ne["required"]},elevation:{required:Ne["required"]}}})],KD);var XD=KD,ew=XD,tw=Object(f["a"])(ew,QD,YD,!1,null,null,null),aw=tw.exports,nw=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"generatePayload",value:function(){var e={};return Object.assign(e,this.$refs.details.save(),this.$refs.metadata.save()),e}},{key:"reset",value:function(){this.$refs.details&&this.$refs.details.reset(),this.$refs.metadata&&this.$refs.metadata.reset(),this.$refs.dialog.setActiveTab(0)}},{key:"load",value:function(e){this.reset(),this.$refs.details&&this.$refs.details.load(e),this.$refs.metadata&&this.$refs.metadata.load(e)}},{key:"onTabSelected",value:function(e){}},{key:"onCreateClicked",value:function(e){if(this.$refs.details.validate()){var t=this.generatePayload();this.$emit("payload",t)}else this.$refs.dialog.setActiveTab(0)}},{key:"icon",get:function(){return I.Location}}]),a}(n["DialogComponent"]);nw=Object(u["a"])([Object(n["Component"])({components:{LocationDetailFields:aw}})],nw);var iw=nw,rw=iw,ow=Object(f["a"])(rw,HD,JD,!1,null,null,null),sw=ow.exports,lw=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"getDialog",value:function(){return this.$refs.dialog}},{key:"onCommit",value:function(e){this.commit(e)}},{key:"save",value:function(e){return pm(this.$store,this.assignment.token,e)}},{key:"afterSave",value:function(e){}}]),a}(n["CreateDialogComponent"]);Object(u["a"])([Object(n["Prop"])()],lw.prototype,"assignment",void 0),lw=Object(u["a"])([Object(n["Component"])({components:{LocationDialog:sw}})],lw);var cw=lw,uw=cw,dw=Object(f["a"])(uw,ZD,WD,!1,null,null,null),pw=dw.exports,vw=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("alert-dialog",{ref:"dialog",attrs:{title:"Create Alert",createLabel:"Create",cancelLabel:"Cancel"},on:{payload:e.onCommit}})},fw=[],mw=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-base-dialog",{ref:"dialog",attrs:{icon:e.icon,title:e.title,width:e.width,loaded:e.loaded,visible:e.dialogVisible,createLabel:e.createLabel,cancelLabel:e.cancelLabel},on:{createClicked:e.onCreateClicked,cancelClicked:e.onCancelClicked,tabSelected:e.onTabSelected}},[a("template",{slot:"tabs"},[a("v-tab",{key:"details"},[e._v("Details")]),a("v-tab",{key:"metadata"},[e._v("Metadata")])],1),a("template",{slot:"tab-items"},[a("v-tab-item",{key:"details"},[a("alert-detail-fields",{ref:"details"})],1),a("v-tab-item",{key:"metadata"},[a("sw-metadata-panel",{ref:"metadata"})],1)],1)],2)},hw=[],bw=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("dialog-form",[a("v-flex",{attrs:{xs12:""}},[a("form-text",{attrs:{required:"",label:"Type",title:"Type indicator associated with alert.",icon:"info"},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},[!e.$v.type.required&&e.$v.$dirty?a("span",[e._v("Alert type is required.")]):e._e()])],1),a("v-flex",{attrs:{xs12:""}},[a("form-select",{attrs:{required:"",title:"Indicator for alert severity",items:e.alertLevels,label:"Level","item-text":"text","item-value":"value",icon:"info"},model:{value:e.level,callback:function(t){e.level=t},expression:"level"}},[!e.$v.level.required&&e.$v.$dirty?a("span",[e._v("Alert level is required.")]):e._e()])],1),a("v-flex",{attrs:{xs12:""}},[a("form-text",{attrs:{required:"",label:"Message",title:"Alert detail message.",icon:"info"},model:{value:e.message,callback:function(t){e.message=t},expression:"message"}},[!e.$v.message.required&&e.$v.$dirty?a("span",[e._v("Alert message is required.")]):e._e()])],1)],1)},yw=[],gw=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.type=null,e.level=null,e.message=null,e.alertLevels=[{text:"Information",value:"Info"},{text:"Warning",value:"Warning"},{text:"Error",value:"Error"},{text:"Critical",value:"Critical"}],e}return Object(j["a"])(a,[{key:"reset",value:function(){this.type=null,this.level=null,this.message=null,this.$v.$reset()}},{key:"validate",value:function(){return this.$v.$touch(),!this.$v.$invalid}},{key:"load",value:function(e){this.type=e.type,this.level=e.level,this.message=e.message}},{key:"save",value:function(){return{type:this.type,level:this.level,message:this.message,source:"Device"}}}]),a}(n["DialogSection"]);gw=Object(u["a"])([Object(n["Component"])({components:{DialogForm:_e,FormText:Ee,FormSelect:Fe},validations:{type:{required:Ne["required"]},level:{required:Ne["required"]},message:{required:Ne["required"]}}})],gw);var kw=gw,Ow=kw,jw=Object(f["a"])(Ow,bw,yw,!1,null,null,null),Cw=jw.exports,xw=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"generatePayload",value:function(){var e={};return Object.assign(e,this.$refs.details.save(),this.$refs.metadata.save()),e}},{key:"reset",value:function(){this.$refs.details&&this.$refs.details.reset(),this.$refs.metadata&&this.$refs.metadata.reset(),this.$refs.dialog.setActiveTab(0)}},{key:"load",value:function(e){this.reset(),this.$refs.details&&this.$refs.details.load(e),this.$refs.metadata&&this.$refs.metadata.load(e)}},{key:"onTabSelected",value:function(e){}},{key:"onCreateClicked",value:function(e){if(this.$refs.details.validate()){var t=this.generatePayload();this.$emit("payload",t)}else this.$refs.dialog.setActiveTab(0)}},{key:"icon",get:function(){return I.Alert}}]),a}(n["DialogComponent"]);xw=Object(u["a"])([Object(n["Component"])({components:{AlertDetailFields:Cw}})],xw);var $w=xw,_w=$w,Tw=Object(f["a"])(_w,mw,hw,!1,null,null,null),Dw=Tw.exports,ww=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"getDialog",value:function(){return this.$refs.dialog}},{key:"onCommit",value:function(e){this.commit(e)}},{key:"save",value:function(e){return fm(this.$store,this.assignment.token,e)}},{key:"afterSave",value:function(e){}}]),a}(n["CreateDialogComponent"]);Object(u["a"])([Object(n["Prop"])()],ww.prototype,"assignment",void 0),ww=Object(u["a"])([Object(n["Component"])({components:{AlertDialog:Dw}})],ww);var Sw=ww,Aw=Sw,Pw=Object(f["a"])(Aw,vw,fw,!1,null,null,null),Ew=Pw.exports,Lw=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("measurement-dialog",{ref:"dialog",attrs:{title:"Create Measurement",createLabel:"Create",cancelLabel:"Cancel"},on:{payload:e.onCommit}})},Uw=[],Iw=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-base-dialog",{ref:"dialog",attrs:{icon:e.icon,title:e.title,width:e.width,loaded:e.loaded,visible:e.dialogVisible,createLabel:e.createLabel,cancelLabel:e.cancelLabel},on:{createClicked:e.onCreateClicked,cancelClicked:e.onCancelClicked,tabSelected:e.onTabSelected}},[a("template",{slot:"tabs"},[a("v-tab",{key:"details"},[e._v("Details")]),a("v-tab",{key:"metadata"},[e._v("Metadata")])],1),a("template",{slot:"tab-items"},[a("v-tab-item",{key:"details"},[a("measurement-detail-fields",{ref:"details"})],1),a("v-tab-item",{key:"metadata"},[a("sw-metadata-panel",{ref:"metadata"})],1)],1)],2)},qw=[],Rw=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("dialog-form",[a("v-flex",{attrs:{xs12:""}},[a("form-text",{attrs:{required:"",label:"Name",title:"Measurement name.",icon:"info"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}},[!e.$v.name.required&&e.$v.$dirty?a("span",[e._v("Name is required.")]):e._e()])],1),a("v-flex",{attrs:{xs12:""}},[a("form-text",{attrs:{required:"",label:"Value",title:"Measurement value.",type:"number",icon:"info"},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},[!e.$v.value.required&&e.$v.$dirty?a("span",[e._v("Value is required.")]):e._e()])],1)],1)},Mw=[],Fw=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.name=null,e.value=null,e}return Object(j["a"])(a,[{key:"reset",value:function(){this.name=null,this.value=null,this.$v.$reset()}},{key:"validate",value:function(){return this.$v.$touch(),!this.$v.$invalid}},{key:"load",value:function(e){this.name=e.name,this.value=e.value}},{key:"save",value:function(){return{name:this.name,value:this.value}}}]),a}(n["DialogSection"]);Fw=Object(u["a"])([Object(n["Component"])({components:{DialogForm:_e,FormText:Ee},validations:{name:{required:Ne["required"]},value:{required:Ne["required"]}}})],Fw);var Nw=Fw,zw=Nw,Bw=Object(f["a"])(zw,Rw,Mw,!1,null,null,null),Vw=Bw.exports,Gw=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"generatePayload",value:function(){var e={};return Object.assign(e,this.$refs.details.save(),this.$refs.metadata.save()),e}},{key:"reset",value:function(){this.$refs.details&&this.$refs.details.reset(),this.$refs.metadata&&this.$refs.metadata.reset(),this.$refs.dialog.setActiveTab(0)}},{key:"load",value:function(e){this.reset(),this.$refs.details&&this.$refs.details.load(e),this.$refs.metadata&&this.$refs.metadata.load(e)}},{key:"onTabSelected",value:function(e){}},{key:"onCreateClicked",value:function(e){if(this.$refs.details.validate()){var t=this.generatePayload();this.$emit("payload",t)}else this.$refs.dialog.setActiveTab(0)}},{key:"icon",get:function(){return I.Location}}]),a}(n["DialogComponent"]);Gw=Object(u["a"])([Object(n["Component"])({components:{MeasurementDetailFields:Vw}})],Gw);var Zw=Gw,Ww=Zw,Hw=Object(f["a"])(Ww,Iw,qw,!1,null,null,null),Jw=Hw.exports,Qw=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"getDialog",value:function(){return this.$refs.dialog}},{key:"onCommit",value:function(e){this.commit(e)}},{key:"save",value:function(e){return um(this.$store,this.assignment.token,e)}},{key:"afterSave",value:function(e){}}]),a}(n["CreateDialogComponent"]);Object(u["a"])([Object(n["Prop"])()],Qw.prototype,"assignment",void 0),Qw=Object(u["a"])([Object(n["Component"])({components:{MeasurementDialog:Jw}})],Qw);var Yw=Qw,Kw=Yw,Xw=Object(f["a"])(Kw,Lw,Uw,!1,null,null,null),eS=Xw.exports,tS=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.addLocationMode=!1,e}return Object(j["a"])(a,[{key:"getMap",value:function(){return this.$refs.map?this.$refs.map.getMap():null}},{key:"loadRecord",value:function(e){var t={includeDevice:!0};return om(this.$store,e,t)}},{key:"afterRecordLoaded",value:function(e){var t={id:"emulator",title:"Assignment Emulator",icon:I.DeviceAssignment,route:"/admin/assignments/emulator/"+e.token,longTitle:"Assignment Emulator: "+e.token};this.$store.commit("currentSection",t)}},{key:"onEnterAddLocationMode",value:function(){this.addLocationMode=!0;var e=this,t=this.getMap();t&&t.on("click",(function(t){e.onMapClicked(t)}))}},{key:"onExitAddLocationMode",value:function(){this.addLocationMode=!1;var e=this.getMap();e&&e.off("click")}},{key:"onLocationClicked",value:function(e){var t=e.latlng,a={latitude:t.lat,longitude:t.lng,elevation:0};this.$refs.location.loadAndOpen(a)}},{key:"onLocationAdded",value:function(){var e=this;setTimeout((function(){e.$refs.map.refreshLocations(!1)}),500)}},{key:"onAddAlertClicked",value:function(){this.$refs.alert.open()}},{key:"onAlertAdded",value:function(){}},{key:"onRefreshLocations",value:function(){this.$refs.map.refreshLocations()}},{key:"onMapClicked",value:function(e){this.onExitAddLocationMode(),this.onLocationClicked(e)}},{key:"onAddMeasurementClicked",value:function(){this.$refs.measurement.open()}},{key:"onMeasurementAdded",value:function(){}},{key:"assignment",get:function(){return this.record}},{key:"icon",get:function(){return I.DeviceAssignment}},{key:"title",get:function(){return this.assignment?this.assignment.token:""}},{key:"overlayStyle",get:function(){return{position:"absolute",bottom:"0px",left:"0px",right:"0px","background-color":"#fff",opacity:.65,padding:"10px 20px","z-index":500,"text-align":"center"}}}]),a}(n["DetailComponent"]);tS=Object(u["a"])([Object(n["Component"])({components:{AssignmentListEntry:im,AssignmentEmulatorMap:GD,LocationCreateDialog:pw,AlertCreateDialog:Ew,MeasurementCreateDialog:eS}})],tS);var aS=tS,nS=aS,iS=(a("4695"),Object(f["a"])(nS,qD,RD,!1,null,"6e2a84ab",null)),rS=iS.exports,oS=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-list-page",{attrs:{icon:e.icon,title:"Device Types",loadingMessage:"Loading device types ...",loaded:e.loaded,results:e.results},on:{pagingUpdated:e.onPagingUpdated}},[a("sw-list-layout",e._l(e.matches,(function(t){return a("v-flex",{key:t.token,attrs:{xs6:""}},[a("device-type-list-entry",{attrs:{deviceType:t},on:{deviceTypeOpened:e.onOpenDeviceType}})],1)})),1),a("template",{slot:"noresults"},[a("no-results-panel",[a("div",[e._v("No device types have been created for this tenant.")]),a("div",{staticClass:"mt-2"},[e._v(" Click "),a("v-icon",{staticClass:"pl-1 pr-2",attrs:{small:""}},[e._v(e._s(e.addIcon))]),e._v("in the toolbar to add a device type. ")],1)])],1),a("template",{slot:"dialogs"},[a("device-type-create-dialog",{ref:"add",on:{deviceTypeAdded:e.onDeviceTypeAdded}})],1),a("template",{slot:"actions"},[a("add-button",{attrs:{tooltip:"Add Device Type"},on:{action:e.onAddDeviceType}})],1)],2)},sS=[],lS=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-list-entry",{staticStyle:{"min-height":"150px"}},[a("v-container",{on:{click:e.onOpenDeviceType}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs3:""}},[a("branding-image",{style:e.logoStyle,attrs:{entity:e.deviceType,iconSize:"4x"}})],1),a("v-flex",{attrs:{xs9:""}},[a("div",[a("div",{staticClass:"title ellipsis mt-1 mb-2"},[e._v(e._s(e.deviceType.name))]),a("div",{staticClass:"dtdesc"},[e._v(e._s(e.deviceType.description))])])])],1)],1)],1)},cS=[],uS=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"onOpenDeviceType",value:function(){this.$emit("deviceTypeOpened",this.deviceType)}},{key:"logoStyle",get:function(){return{height:"110px",width:"110px"}}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],uS.prototype,"deviceType",void 0),uS=Object(u["a"])([Object(n["Component"])({components:{BrandingImage:Qu}})],uS);var dS=uS,pS=dS,vS=(a("6c1d"),Object(f["a"])(pS,lS,cS,!1,null,"14209b5e",null)),fS=vS.exports,mS=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("device-type-dialog",{ref:"dialog",attrs:{title:"Create Device Type",width:"600",resetOnOpen:"true",createLabel:"Create",cancelLabel:"Cancel"},on:{payload:e.onCommit}})},hS=[],bS=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-base-dialog",{ref:"dialog",attrs:{icon:e.icon,title:e.title,width:e.width,loaded:e.loaded,visible:e.dialogVisible,createLabel:e.createLabel,cancelLabel:e.cancelLabel},on:{createClicked:e.onCreateClicked,cancelClicked:e.onCancelClicked}},[a("template",{slot:"tabs"},[a("v-tab",{key:"details"},[e._v("Details")]),a("v-tab",{key:"branding"},[e._v("Branding")]),a("v-tab",{key:"metadata"},[e._v("Metadata")])],1),a("template",{slot:"tab-items"},[a("v-tab-item",{key:"details"},[a("device-type-detail-fields",{ref:"details"})],1),a("v-tab-item",{key:"branding"},[a("branding-panel",{ref:"branding"})],1),a("v-tab-item",{key:"metadata"},[a("sw-metadata-panel",{ref:"metadata"})],1)],1)],2)},yS=[],gS=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("dialog-form",[a("v-flex",{attrs:{xs12:""}},[a("form-token",{attrs:{required:"",label:"Device type token",title:"Unique token for referencing device type.",validator:e.$v},model:{value:e.token,callback:function(t){e.token=t},expression:"token"}})],1),a("v-flex",{attrs:{xs12:""}},[a("form-text",{attrs:{required:"",label:"Name",title:"Name displayed for device type.",icon:"info"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}},[e.$v.name.$invalid&&e.$v.$dirty?a("span",[e._v("Name is required.")]):e._e()])],1),a("v-flex",{attrs:{xs12:""}},[a("form-text-area",{attrs:{required:"",title:"Device type description.",label:"Description",icon:"info"},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}},[e.$v.description.$invalid&&e.$v.$dirty?a("span",[e._v("Description is required.")]):e._e()])],1),a("v-flex",{attrs:{xs12:""}},[a("form-select",{attrs:{required:"",title:"Template used for initial tenant configuration.",items:e.containerPolicies,label:"Container Policy","item-text":"text","item-value":"value",icon:"developer_board"},model:{value:e.containerPolicy,callback:function(t){e.containerPolicy=t},expression:"containerPolicy"}},[e.$v.containerPolicy.$invalid&&e.$v.$dirty?a("span",[e._v("Container policy is required.")]):e._e()])],1)],1)},kS=[],OS=Ne["helpers"].regex("validToken",/^[a-zA-Z0-9-_]+$/),jS=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.token=null,e.name=null,e.description=null,e.containerPolicy=null,e.containerPolicies=[{text:"Standalone Device",value:"Standalone"},{text:"Composite Device",value:"Composite"}],e}return Object(j["a"])(a,[{key:"reset",value:function(){this.token=null,this.name=null,this.description=null,this.containerPolicy=null,this.$v.$reset()}},{key:"validate",value:function(){return this.$v.$touch(),!this.$v.$invalid}},{key:"load",value:function(e){this.token=e.token,this.name=e.name,this.description=e.description,this.containerPolicy=e.containerPolicy}},{key:"save",value:function(){return{token:this.token,name:this.name,description:this.description,containerPolicy:this.containerPolicy}}}]),a}(n["DialogSection"]);jS=Object(u["a"])([Object(n["Component"])({components:{DialogForm:_e,FormToken:fd,FormText:Ee,FormTextArea:il,FormSelect:Fe},validations:{token:{required:Ne["required"],validToken:OS},name:{required:Ne["required"]},description:{required:Ne["required"]},containerPolicy:{required:Ne["required"]}}})],jS);var CS=jS,xS=CS,$S=Object(f["a"])(xS,gS,kS,!1,null,"1f5fd32c",null),_S=$S.exports,TS=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"generatePayload",value:function(){var e={};return Object.assign(e,this.$refs.details.save(),this.$refs.branding.save(),this.$refs.metadata.save()),e}},{key:"reset",value:function(){this.$refs.details&&this.$refs.details.reset(),this.$refs.branding&&this.$refs.branding.reset(),this.$refs.metadata&&this.$refs.metadata.reset(),this.$refs.dialog.setActiveTab(0)}},{key:"load",value:function(e){this.reset(),this.$refs.details&&this.$refs.details.load(e),this.$refs.branding&&this.$refs.branding.load(e),this.$refs.metadata&&this.$refs.metadata.load(e)}},{key:"onCreateClicked",value:function(e){if(this.$refs.details.validate())if(this.$refs.branding.validate()){var t=this.generatePayload();console.log("Before payload emit:",this),this.$emit("payload",t)}else this.$refs.dialog.setActiveTab(1);else this.$refs.dialog.setActiveTab(0)}},{key:"icon",get:function(){return I.DeviceType}}]),a}(n["DialogComponent"]);TS=Object(u["a"])([Object(n["Component"])({components:{DeviceTypeDetailFields:_S,BrandingPanel:Pa}})],TS);var DS=TS,wS=DS,SS=Object(f["a"])(wS,bS,yS,!1,null,null,null),AS=SS.exports,PS=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"getDialog",value:function(){return this.$refs.dialog}},{key:"onCommit",value:function(e){this.commit(e)}},{key:"save",value:function(e){return _r(this.$store,e)}},{key:"afterSave",value:function(e){this.$emit("deviceTypeAdded",e)}}]),a}(n["CreateDialogComponent"]);PS=Object(u["a"])([Object(n["Component"])({components:{DeviceTypeDialog:AS}})],PS);var ES=PS,LS=ES,US=Object(f["a"])(LS,mS,hS,!1,null,"73d679cd",null),IS=US.exports,qS=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.addIcon=I.Add,e}return Object(j["a"])(a,[{key:"buildSearchCriteria",value:function(){var e={};return e}},{key:"buildResponseFormat",value:function(){var e={includeAsset:!0};return e}},{key:"performSearch",value:function(e,t){return wr(this.$store,e,t)}},{key:"onOpenDeviceType",value:function(e){ue(this,"/devicetypes/"+e.token)}},{key:"onAddDeviceType",value:function(){this.$refs.add.open()}},{key:"onDeviceTypeAdded",value:function(){this.refresh()}},{key:"icon",get:function(){return I.DeviceType}}]),a}(n["ListComponent"]);qS=Object(u["a"])([Object(n["Component"])({components:{DeviceTypeListEntry:fS,DeviceTypeCreateDialog:IS,AddButton:cp,NoResultsPanel:hp}})],qS);var RS=qS,MS=RS,FS=Object(f["a"])(MS,oS,sS,!1,null,"2cd2332c",null),NS=FS.exports,zS=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-detail-page",{attrs:{icon:e.icon,title:e.title,loadingMessage:"Loading device type ...",loaded:e.loaded,record:e.deviceType}},[a("template",{slot:"header"},[a("device-type-detail-header",{attrs:{record:e.deviceType},on:{deviceTypeDeleted:e.onDeleted,deviceTypeUpdated:e.onUpdated}})],1),a("template",{slot:"tabs"},[a("v-tab",{key:"commands"},[e._v("Commands")]),a("v-tab",{key:"statuses"},[e._v("Device Statuses")]),"Composite"===e.containerPolicy?a("v-tab",{key:"composition"},[e._v("Composition")]):e._e()],1),a("template",{slot:"tab-items"},[a("device-type-commands",{ref:"commands",attrs:{tabkey:"commands",deviceTypeToken:e.token}}),a("device-type-statuses",{ref:"statuses",attrs:{tabkey:"statuses",deviceTypeToken:e.token}}),a("device-type-composition",{attrs:{tabkey:"composition",deviceType:e.deviceType}})],1),a("template",{slot:"actions"},[a("device-command-button",{attrs:{tooltip:"Create Command"},on:{action:e.onCommandCreate}}),a("device-status-button",{attrs:{tooltip:"Create Status"},on:{action:e.onStatusCreate}}),a("edit-button",{attrs:{tooltip:"Edit Device Type"},on:{action:e.onEdit}}),a("delete-button",{attrs:{tooltip:"Delete Device Type"},on:{action:e.onDelete}})],1),a("template",{slot:"dialogs"},[a("device-type-update-dialog",{ref:"edit",attrs:{token:e.token},on:{deviceTypeUpdated:e.onUpdated}}),a("device-type-delete-dialog",{ref:"delete",attrs:{token:e.token},on:{deviceTypeDeleted:e.onDeleted}}),a("command-create-dialog",{ref:"command",attrs:{deviceTypeToken:e.token},on:{commandAdded:e.onCommandAdded}}),a("device-status-create-dialog",{ref:"status",attrs:{deviceTypeToken:e.token},on:{statusAdded:e.onStatusAdded}})],1)],2)},BS=[],VS=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.deviceType?a("sw-navigation-header-panel",{attrs:{height:"220px"}},[a("template",{slot:"left"},[a("sw-header-branding-panel",{attrs:{entity:e.deviceType}})],1),a("template",{slot:"content"},[a("sw-navigation-header-fields",[a("sw-header-field",{attrs:{label:"Token"}},[a("clipboard-copy-field",{attrs:{field:e.deviceType.token,message:"Token copied to clipboard"}})],1),a("sw-header-field",{attrs:{label:"Name"}},[a("span",[e._v(e._s(e.deviceType.name))])]),a("sw-header-field",{attrs:{label:"Description"}},[a("span",[e._v(e._s(e.deviceType.description))])]),a("sw-header-field",{attrs:{label:"Image URL"}},[a("span",[e._v(e._s(e.deviceType.imageUrl))])]),a("sw-header-field",{attrs:{label:"Container Policy"}},[a("span",[e._v(e._s(e.deviceType.containerPolicy))])]),a("sw-header-field",{attrs:{label:"Created"}},[a("span",[e._v(e._s(e.formatDate(e.deviceType.createdDate)))])]),a("sw-header-field",{attrs:{label:"Updated"}},[a("span",[e._v(e._s(e.formatDate(e.deviceType.updatedDate)))])])],1)],1),a("template",{slot:"right"},[a("authenticated-image",{attrs:{url:e.qrCodeUrl}})],1)],2):e._e()},GS=[],ZS=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"deviceType",get:function(){return this.record}},{key:"qrCodeUrl",get:function(){return"devicetypes/"+this.deviceType.token+"/label/qrcode"}}]),a}(n["HeaderComponent"]);ZS=Object(u["a"])([Object(n["Component"])({components:{ClipboardCopyField:rn,AuthenticatedImage:pn}})],ZS);var WS=ZS,HS=WS,JS=Object(f["a"])(HS,VS,GS,!1,null,"d71dabec",null),QS=JS.exports,YS=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-list-tab",{attrs:{tabkey:e.tabkey,id:e.id,loaded:e.loaded,loadingMessage:"Loading device commands...",results:e.results},on:{pagingUpdated:e.onPagingUpdated}},[a("sw-list-layout",e._l(e.matches,(function(t){return a("v-flex",{key:t.token,attrs:{xs12:""}},[a("command-panel",{attrs:{command:t},on:{delete:e.onDeleteCommand,edit:e.onEditCommand}})],1)})),1),a("template",{slot:"dialogs"},[a("command-update-dialog",{ref:"edit",attrs:{deviceTypeToken:e.deviceTypeToken},on:{updated:e.refresh}}),a("command-delete-dialog",{ref:"delete",attrs:{deviceTypeToken:e.deviceTypeToken},on:{deleted:e.refresh}})],1)],2)},KS=[],XS=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-list-entry",{staticClass:"pa-2"},[a("v-list-tile",{attrs:{avatar:""}},[a("v-list-tile-content",[a("command-html",{attrs:{command:e.command}})],1),a("v-list-tile-action",[a("actions-block",{on:{edit:e.onUpdateCommand,delete:e.onDeleteCommand}})],1)],1)],1)},eA=[],tA=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"command-content body-2"},[a("div",{staticClass:"command-desc"},[e._v("/** "+e._s(e.command.description)+" **/")]),a("span",{staticClass:"command-name",nativeOn:{click:function(t){return e.commandClicked(t)}}},[e._v(e._s(e.command.name))]),e._v(" ( "),e._l(e.command.parameters,(function(t,n){return a("span",{key:t.name},[n>0?a("span",[e._v(",")]):e._e(),t.required?a("strong",[a("span",{staticClass:"command-param-name"},[e._v(e._s(t.name))]),e._v(": "),a("span",{staticClass:"command-param-type"},[e._v(e._s(t.type))])]):a("span",[a("span",{staticClass:"command-param-name"},[e._v(e._s(t.name))]),e._v(": "),a("span",{staticClass:"command-param-type"},[e._v(e._s(t.type))])])])})),e._v(" ) ")],2)},aA=[],nA={data:function(){return{}},props:["command"],methods:{}},iA=nA,rA=(a("752d"),Object(f["a"])(iA,tA,aA,!1,null,"12f5dbf9",null)),oA=rA.exports,sA=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"onUpdateCommand",value:function(){this.$emit("edit",this.command)}},{key:"onDeleteCommand",value:function(){this.$emit("delete",this.command)}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],sA.prototype,"command",void 0),sA=Object(u["a"])([Object(n["Component"])({components:{CommandHtml:oA,ActionsBlock:gc}})],sA);var lA=sA,cA=lA,uA=(a("5631"),Object(f["a"])(cA,XS,eA,!1,null,"5a664378",null)),dA=uA.exports,pA=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("command-dialog",{ref:"dialog",attrs:{title:"Edit Command",loaded:e.loaded,createLabel:"Update",cancelLabel:"Cancel"},on:{payload:e.onSave}})},vA=[],fA=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-base-dialog",{ref:"dialog",attrs:{icon:e.icon,title:e.title,width:e.width,loaded:e.loaded,visible:e.dialogVisible,createLabel:e.createLabel,cancelLabel:e.cancelLabel},on:{createClicked:e.onCreateClicked,cancelClicked:e.onCancelClicked}},[a("template",{slot:"tabs"},[a("v-tab",{key:"details"},[e._v("Details")]),a("v-tab",{key:"parameters"},[e._v("Parameters")]),a("v-tab",{key:"metadata"},[e._v("Metadata")])],1),a("template",{slot:"tab-items"},[a("v-tab-item",{key:"details"},[a("command-detail-fields",{ref:"details"})],1),a("v-tab-item",{key:"parameters"},[a("parameters-panel",{ref:"parameters"})],1),a("v-tab-item",{key:"metadata"},[a("sw-metadata-panel",{ref:"metadata"})],1)],1)],2)},mA=[],hA=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("dialog-form",[a("v-flex",{attrs:{xs12:""}},[a("form-text",{attrs:{required:"",label:"Token",title:"Unique token for referencing command.",icon:"info"},model:{value:e.token,callback:function(t){e.token=t},expression:"token"}},[!e.$v.token.required&&e.$v.$dirty?a("span",[e._v("Token is required.")]):e._e(),!e.$v.token.validToken&&e.$v.$dirty?a("span",[e._v("Token is not valid.")]):e._e()])],1),a("v-flex",{attrs:{xs12:""}},[a("form-text",{attrs:{required:"",label:"Name",title:"Name displayed for command.",icon:"info"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}},[!e.$v.name.required&&e.$v.$dirty?a("span",[e._v("Command name is required.")]):e._e()])],1),a("v-flex",{attrs:{xs12:""}},[a("form-text",{attrs:{required:"",label:"Namespace",title:"Command namespace.",icon:"info"},model:{value:e.namespace,callback:function(t){e.namespace=t},expression:"namespace"}},[!e.$v.namespace.required&&e.$v.$dirty?a("span",[e._v("Namespace is required.")]):e._e()])],1),a("v-flex",{attrs:{xs12:""}},[a("form-text-area",{attrs:{required:"",title:"Description of command.",label:"Description",icon:"info"},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}})],1)],1)},bA=[],yA=Ne["helpers"].regex("validToken",/^[a-zA-Z0-9-_]+$/),gA=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.token=null,e.name=null,e.namespace=null,e.description=null,e}return Object(j["a"])(a,[{key:"reset",value:function(){this.token=null,this.name=null,this.namespace=null,this.description=null,this.$v.$reset()}},{key:"validate",value:function(){return this.$v.$touch(),!this.$v.$invalid}},{key:"load",value:function(e){this.token=e.token,this.name=e.name,this.namespace=e.namespace,this.description=e.description}},{key:"save",value:function(){return{token:this.token,name:this.name,namespace:this.namespace,description:this.description}}}]),a}(n["DialogSection"]);gA=Object(u["a"])([Object(n["Component"])({components:{DialogForm:_e,FormText:Ee,FormTextArea:il},validations:{token:{required:Ne["required"],validToken:yA},name:{required:Ne["required"]},namespace:{required:Ne["required"]},description:{required:Ne["required"]}}})],gA);var kA=gA,OA=kA,jA=Object(f["a"])(OA,hA,bA,!1,null,null,null),CA=jA.exports,xA=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("dialog-form",[a("v-flex",{attrs:{xs12:""}},[a("v-data-table",{attrs:{headers:e.headers,items:e.parameters,"rows-per-page-items":e.pagesize,"no-data-text":"Command has no existing parameters"},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{attrs:{width:"250px",title:t.item.name}},[e._v(e._s(t.item.name.length>25?t.item.name.substring(0,25)+"...":t.item.name))]),a("td",{attrs:{width:"350px",title:t.item.type}},[e._v(e._s(t.item.type.length>25?t.item.type.substring(0,25)+"...":t.item.type))]),a("td",{attrs:{width:"200px"}},[t.item.required?a("span",[a("font-awesome-icon",{attrs:{color:"#666",icon:"check-circle"}})],1):e._e()]),a("td",{attrs:{width:"20px"}},[a("v-tooltip",{attrs:{left:""}},[a("v-btn",{attrs:{slot:"activator",icon:""},on:{click:function(a){return e.onDeleteParameter(t.item.name)}},slot:"activator"},[a("v-icon",{staticClass:"grey--text"},[e._v("delete")])],1),a("span",[e._v("Delete Parameter")])],1)],1)]}}])})],1),a("v-flex",{attrs:{xs12:""}},[a("v-container",{staticClass:"pa-0 pt-5",attrs:{fluid:""}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs4:""}},[a("v-text-field",{staticClass:"pr-3",attrs:{placeholder:" ",label:"Name"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),a("v-flex",{attrs:{xs4:""}},[a("v-select",{staticClass:"pr-3",attrs:{items:e.types,placeholder:" ","item-text":"text","item-value":"datatype",label:"Parameter Type"},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}})],1),a("v-flex",{attrs:{xs3:""}},[a("v-checkbox",{attrs:{label:"Required"},model:{value:e.required,callback:function(t){e.required=t},expression:"required"}})],1),a("v-flex",{staticClass:"pt-2",attrs:{xs1:""}},[a("v-tooltip",{attrs:{left:""}},[a("v-btn",{attrs:{slot:"activator",icon:""},on:{click:e.onAddParameter},slot:"activator"},[a("v-icon",{staticClass:"blue--text text--darken-2",attrs:{large:""}},[e._v("add_circle")])],1),a("span",[e._v("Add Parameter")])],1)],1)],1)],1)],1)],1)},$A=[],_A=Ne["helpers"].regex("validParamName",/^[\w-]+$/),TA=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.pagesize=[5],e.parameters=[],e.name=null,e.type=null,e.required=!1,e.headers=[{align:"left",sortable:!1,text:"Parameter Name",value:"name"},{align:"left",sortable:!1,text:"Parameter Type",value:"type"},{align:"left",sortable:!1,text:"Required",value:"required"},{align:"left",sortable:!1,text:"",value:"delete"}],e.types=X,e.error=null,e}return Object(j["a"])(a,[{key:"reset",value:function(){this.parameters=[],this.resetSubform(),this.$v.$reset()}},{key:"resetSubform",value:function(){this.name=null,this.type=null,this.required=!1}},{key:"validate",value:function(){return!0}},{key:"load",value:function(e){this.parameters=e.parameters}},{key:"loadParameter",value:function(e){this.name=e.name,this.type=e.type,this.required=e.required}},{key:"save",value:function(){return{parameters:this.parameters}}},{key:"onDeleteParameter",value:function(e){this.$emit("parameterDeleted",e)}},{key:"onAddParameter",value:function(){if(this.name&&this.type&&(this.$v.$touch(),!this.$v.$invalid)){var e={name:this.name,type:this.type,required:this.required};this.parameters.push(e),this.$emit("parameterAdded",e),this.resetSubform()}}}]),a}(n["DialogSection"]);TA=Object(u["a"])([Object(n["Component"])({components:{DialogForm:_e},validations:{name:{required:Ne["required"],validParamName:_A},type:{required:Ne["required"]}}})],TA);var DA=TA,wA=DA,SA=Object(f["a"])(wA,xA,$A,!1,null,null,null),AA=SA.exports,PA=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"generatePayload",value:function(){var e={deviceTypeToken:this.deviceTypeToken};return Object.assign(e,this.$refs.details.save(),this.$refs.parameters.save(),this.$refs.metadata.save()),e}},{key:"reset",value:function(){this.$refs.details&&this.$refs.details.reset(),this.$refs.parameters&&this.$refs.parameters.reset(),this.$refs.metadata&&this.$refs.metadata.reset(),this.$refs.dialog.setActiveTab(0)}},{key:"load",value:function(e){this.reset(),this.$refs.details&&this.$refs.details.load(e),this.$refs.parameters&&this.$refs.parameters.load(e),this.$refs.metadata&&this.$refs.metadata.load(e)}},{key:"onCreateClicked",value:function(e){if(this.$refs.details.validate())if(this.$refs.parameters.validate()){var t=this.generatePayload();console.log("Before payload emit:",this),this.$emit("payload",t)}else this.$refs.dialog.setActiveTab(1);else this.$refs.dialog.setActiveTab(0)}},{key:"icon",get:function(){return I.DeviceCommand}}]),a}(n["DialogComponent"]);Object(u["a"])([Object(n["Prop"])()],PA.prototype,"deviceTypeToken",void 0),PA=Object(u["a"])([Object(n["Component"])({components:{CommandDetailFields:CA,ParametersPanel:AA}})],PA);var EA=PA,LA=EA,UA=Object(f["a"])(LA,fA,mA,!1,null,null,null),IA=UA.exports,qA=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"getDialog",value:function(){return this.$refs.dialog}},{key:"prepareLoad",value:function(e){var t={includeCustomerType:!0};return Pr(this.$store,this.deviceTypeToken,e,t)}},{key:"prepareSave",value:function(e,t){return Er(this.$store,this.deviceTypeToken,e.token,t)}},{key:"onSave",value:function(e){this.save(e)}},{key:"afterSave",value:function(e){this.$emit("commandUpdated",e)}}]),a}(n["EditDialogComponent"]);Object(u["a"])([Object(n["Prop"])()],qA.prototype,"deviceTypeToken",void 0),qA=Object(u["a"])([Object(n["Component"])({components:{CommandDialog:IA}})],qA);var RA=qA,MA=RA,FA=Object(f["a"])(MA,pA,vA,!1,null,null,null),NA=FA.exports,zA=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-delete-dialog",{ref:"dialog",attrs:{title:"Delete Command",width:"400",visible:e.visible},on:{delete:e.onDelete,cancel:e.onCancel}},[a("v-card-text",[e._v(e._s(e.message))])],1)},BA=[],VA=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.message=null,e}return Object(j["a"])(a,[{key:"prepareLoad",value:function(e){var t={};return Pr(this.$store,this.deviceTypeToken,e,t)}},{key:"afterLoad",value:function(e){this.message="Are you sure you want to delete '".concat(e.name,"'?")}},{key:"prepareDelete",value:function(e){return Lr(this.$store,this.deviceTypeToken,e.token)}},{key:"onDelete",value:function(e){this.delete()}},{key:"onCancel",value:function(e){this.cancel()}}]),a}(n["DeleteDialogComponent"]);Object(u["a"])([Object(n["Prop"])()],VA.prototype,"deviceTypeToken",void 0),VA=Object(u["a"])([Object(n["Component"])({})],VA);var GA=VA,ZA=GA,WA=Object(f["a"])(ZA,zA,BA,!1,null,null,null),HA=WA.exports,JA=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"buildSearchCriteria",value:function(){var e={};return e.deviceTypeToken=this.deviceTypeToken,e}},{key:"buildResponseFormat",value:function(){var e={};return e}},{key:"performSearch",value:function(e,t){return D$(this.$store,e,t)}},{key:"onEditCommand",value:function(e){this.$refs.edit.open(e.token)}},{key:"onDeleteCommand",value:function(e){this.$refs.delete.open(e.token)}}]),a}(n["ListComponent"]);Object(u["a"])([Object(n["Prop"])()],JA.prototype,"tabkey",void 0),Object(u["a"])([Object(n["Prop"])()],JA.prototype,"id",void 0),Object(u["a"])([Object(n["Prop"])()],JA.prototype,"deviceTypeToken",void 0),JA=Object(u["a"])([Object(n["Component"])({components:{CommandPanel:dA,CommandUpdateDialog:NA,CommandDeleteDialog:HA}})],JA);var QA=JA,YA=QA,KA=Object(f["a"])(YA,YS,KS,!1,null,"44a5d91d",null),XA=KA.exports,eP=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-list-tab",{attrs:{tabkey:e.tabkey,id:e.id,loaded:e.loaded,loadingMessage:"Loading device commands...",results:e.results},on:{pagingUpdated:e.onPagingUpdated}},[a("sw-list-layout",e._l(e.matches,(function(t){return a("v-flex",{key:t.code,attrs:{xs3:""}},[a("div",[a("device-status-list-entry",{attrs:{deviceStatus:t},on:{edit:e.onEditStatus,delete:e.onDeleteStatus}})],1)])})),1),a("template",{slot:"dialogs"},[a("device-status-update-dialog",{ref:"edit",attrs:{deviceTypeToken:e.deviceTypeToken},on:{updated:e.refresh}}),a("device-status-delete-dialog",{ref:"delete",attrs:{deviceTypeToken:e.deviceTypeToken},on:{deleted:e.refresh}})],1)],2)},tP=[],aP=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-list-entry",[a("v-toolbar",{style:e.cardStyle,attrs:{flat:"",dark:"",dense:"",card:""},on:{click:e.onEditStatus}},[a("font-awesome-icon",{attrs:{icon:e.icon,size:"lg"}}),a("v-toolbar-title",{style:e.textStyle},[e._v(e._s(e.name))]),a("v-spacer"),a("v-tooltip",{attrs:{top:""}},[a("v-icon",{style:e.deleteStyle,attrs:{slot:"activator"},on:{click:e.onDeleteStatus},slot:"activator"},[e._v(e._s(e.deleteIcon))]),a("span",[e._v("Delete Device Status")])],1)],1)],1)},nP=[],iP=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"onEditStatus",value:function(){this.$emit("edit",this.deviceStatus)}},{key:"onDeleteStatus",value:function(){this.$emit("delete",this.deviceStatus)}},{key:"icon",get:function(){return this.deviceStatus?this.deviceStatus.icon:null}},{key:"deleteIcon",get:function(){return I.Delete}},{key:"name",get:function(){return this.deviceStatus?this.deviceStatus.name:null}},{key:"cardStyle",get:function(){return{"background-color":this.deviceStatus.backgroundColor,border:"1px solid "+this.deviceStatus.borderColor}}},{key:"textStyle",get:function(){return{color:this.deviceStatus.foregroundColor}}},{key:"deleteStyle",get:function(){return{color:this.deviceStatus.foregroundColor,opacity:.5}}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],iP.prototype,"deviceStatus",void 0),iP=Object(u["a"])([Object(n["Component"])({})],iP);var rP=iP,oP=rP,sP=Object(f["a"])(oP,aP,nP,!1,null,null,null),lP=sP.exports,cP=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("device-status-dialog",{ref:"dialog",attrs:{title:"Edit Device Status",loaded:e.loaded,createLabel:"Update",cancelLabel:"Cancel"},on:{payload:e.onSave}})},uP=[],dP=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-base-dialog",{ref:"dialog",attrs:{icon:e.icon,title:e.title,width:e.width,loaded:e.loaded,visible:e.dialogVisible,createLabel:e.createLabel,cancelLabel:e.cancelLabel},on:{createClicked:e.onCreateClicked,cancelClicked:e.onCancelClicked}},[a("template",{slot:"tabs"},[a("v-tab",{key:"details"},[e._v("Details")]),a("v-tab",{key:"metadata"},[e._v("Metadata")])],1),a("template",{slot:"tab-items"},[a("v-tab-item",{key:"details"},[a("device-status-detail-fields",{ref:"details"})],1),a("v-tab-item",{key:"metadata"},[a("sw-metadata-panel",{ref:"metadata"})],1)],1)],2)},pP=[],vP=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("dialog-form",[a("v-flex",{attrs:{xs12:""}},[a("form-text",{attrs:{required:"",label:"Token",title:"Unique token for referencing status.",icon:"info"},model:{value:e.token,callback:function(t){e.token=t},expression:"token"}},[!e.$v.token.required&&e.$v.$dirty?a("span",[e._v("Token is required.")]):e._e(),!e.$v.token.validToken&&e.$v.$dirty?a("span",[e._v("Token is not valid.")]):e._e()])],1),a("v-flex",{attrs:{xs12:""}},[a("form-text",{attrs:{required:"",label:"Name",title:"Status name.",icon:"info"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}},[!e.$v.name.required&&e.$v.$dirty?a("span",[e._v("Name is required.")]):e._e()])],1),a("v-flex",{attrs:{xs12:""}},[a("form-text",{attrs:{required:"",label:"Status Code",title:"Code used to represent status.",icon:"info"},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}},[!e.$v.code.required&&e.$v.$dirty?a("span",[e._v("Code is required.")]):e._e()])],1),a("v-flex",{attrs:{xs6:""}},[a("sw-icon-selector",{model:{value:e.icon,callback:function(t){e.icon=t},expression:"icon"}})],1),a("v-flex",{attrs:{xs6:""}},[a("sw-color-input-field",{attrs:{text:"Border"},model:{value:e.borderColor,callback:function(t){e.borderColor=t},expression:"borderColor"}})],1),a("v-flex",{attrs:{xs6:""}},[a("sw-color-input-field",{attrs:{text:"Background"},model:{value:e.backgroundColor,callback:function(t){e.backgroundColor=t},expression:"backgroundColor"}})],1),a("v-flex",{attrs:{xs6:""}},[a("sw-color-input-field",{attrs:{text:"Foreground"},model:{value:e.foregroundColor,callback:function(t){e.foregroundColor=t},expression:"foregroundColor"}})],1)],1)},fP=[],mP=Ne["helpers"].regex("validToken",/^[a-zA-Z0-9-_]+$/),hP=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.token=null,e.name=null,e.code=null,e.icon=null,e.backgroundColor=null,e.foregroundColor=null,e.borderColor=null,e}return Object(j["a"])(a,[{key:"reset",value:function(){this.token=null,this.name=null,this.code=null,this.icon=null,this.backgroundColor=null,this.foregroundColor=null,this.borderColor=null,this.$v.$reset()}},{key:"validate",value:function(){return this.$v.$touch(),!this.$v.$invalid}},{key:"load",value:function(e){this.token=e.token,this.name=e.name,this.code=e.code,this.icon=e.icon,this.backgroundColor=e.backgroundColor,this.foregroundColor=e.foregroundColor,this.borderColor=e.borderColor}},{key:"save",value:function(){return{token:this.token,name:this.name,code:this.code,icon:this.icon,backgroundColor:this.backgroundColor,foregroundColor:this.foregroundColor,borderColor:this.borderColor}}}]),a}(n["DialogSection"]);hP=Object(u["a"])([Object(n["Component"])({components:{DialogForm:_e,FormText:Ee},validations:{token:{required:Ne["required"],validToken:mP},name:{required:Ne["required"]},code:{required:Ne["required"]},icon:{required:Ne["required"]},backgroundColor:{required:Ne["required"]},foregroundColor:{required:Ne["required"]},borderColor:{required:Ne["required"]}}})],hP);var bP=hP,yP=bP,gP=Object(f["a"])(yP,vP,fP,!1,null,"df1754cc",null),kP=gP.exports,OP=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"generatePayload",value:function(){var e={deviceTypeToken:this.deviceTypeToken};return Object.assign(e,this.$refs.details.save(),this.$refs.metadata.save()),e}},{key:"reset",value:function(){this.$refs.details&&this.$refs.details.reset(),this.$refs.metadata&&this.$refs.metadata.reset(),this.$refs.dialog.setActiveTab(0)}},{key:"load",value:function(e){this.reset(),this.$refs.details&&this.$refs.details.load(e),this.$refs.metadata&&this.$refs.metadata.load(e)}},{key:"onCreateClicked",value:function(e){if(this.$refs.details.validate()){var t=this.generatePayload();console.log("Before payload emit:",this),this.$emit("payload",t)}else this.$refs.dialog.setActiveTab(0)}},{key:"icon",get:function(){return I.DeviceStatus}}]),a}(n["DialogComponent"]);Object(u["a"])([Object(n["Prop"])()],OP.prototype,"deviceTypeToken",void 0),OP=Object(u["a"])([Object(n["Component"])({components:{DeviceStatusDetailFields:kP}})],OP);var jP=OP,CP=jP,xP=Object(f["a"])(CP,dP,pP,!1,null,"642cd4fd",null),$P=xP.exports,_P=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"getDialog",value:function(){return this.$refs.dialog}},{key:"prepareLoad",value:function(e){var t={};return Ir(this.$store,this.deviceTypeToken,e,t)}},{key:"prepareSave",value:function(e,t){return qr(this.$store,this.deviceTypeToken,e.token,t)}},{key:"onSave",value:function(e){this.save(e)}},{key:"afterSave",value:function(e){}}]),a}(n["EditDialogComponent"]);Object(u["a"])([Object(n["Prop"])()],_P.prototype,"deviceTypeToken",void 0),_P=Object(u["a"])([Object(n["Component"])({components:{DeviceStatusDialog:$P}})],_P);var TP=_P,DP=TP,wP=Object(f["a"])(DP,cP,uP,!1,null,"a9c7d774",null),SP=wP.exports,AP=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-delete-dialog",{ref:"dialog",attrs:{title:"Delete Status",width:"400",visible:e.visible},on:{delete:e.onDelete,cancel:e.onCancel}},[a("v-card-text",[e._v(e._s(e.message))])],1)},PP=[],EP=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.message=null,e}return Object(j["a"])(a,[{key:"prepareLoad",value:function(e){var t={};return Ir(this.$store,this.deviceTypeToken,e,t)}},{key:"afterLoad",value:function(e){this.message="Are you sure you want to delete '".concat(e.name,"'?")}},{key:"prepareDelete",value:function(e){return Rr(this.$store,this.deviceTypeToken,e.token)}},{key:"onDelete",value:function(e){this.delete()}},{key:"onCancel",value:function(e){this.cancel()}}]),a}(n["DeleteDialogComponent"]);Object(u["a"])([Object(n["Prop"])()],EP.prototype,"deviceTypeToken",void 0),EP=Object(u["a"])([Object(n["Component"])({})],EP);var LP=EP,UP=LP,IP=Object(f["a"])(UP,AP,PP,!1,null,null,null),qP=IP.exports;function RP(e,t,a){var n=lt(e),i=B["API"].DeviceStatuses.listDeviceStatuses(n,t,a);return ut(e,i)}var MP=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"buildSearchCriteria",value:function(){var e={};return e.deviceTypeToken=this.deviceTypeToken,e}},{key:"buildResponseFormat",value:function(){var e={};return e}},{key:"performSearch",value:function(e,t){return RP(this.$store,e,t)}},{key:"onEditStatus",value:function(e){this.$refs.edit.open(e.token)}},{key:"onDeleteStatus",value:function(e){this.$refs.delete.open(e.token)}}]),a}(n["ListComponent"]);Object(u["a"])([Object(n["Prop"])()],MP.prototype,"tabkey",void 0),Object(u["a"])([Object(n["Prop"])()],MP.prototype,"id",void 0),Object(u["a"])([Object(n["Prop"])()],MP.prototype,"deviceTypeToken",void 0),MP=Object(u["a"])([Object(n["Component"])({components:{DeviceStatusListEntry:lP,DeviceStatusUpdateDialog:SP,DeviceStatusDeleteDialog:qP}})],MP);var FP=MP,NP=FP,zP=Object(f["a"])(NP,eP,tP,!1,null,"f09ab896",null),BP=zP.exports,VP=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-content-tab",{attrs:{tabkey:e.tabkey,loaded:!0,loadingMessage:"Loading..."}},[a("device-unit-panel",{attrs:{deviceUnit:e.deviceElementSchema},on:{addDeviceUnit:e.onAddDeviceUnit,deleteDeviceUnit:e.onDeleteDeviceUnit,addDeviceSlot:e.onAddDeviceSlot,deleteDeviceSlot:e.onDeleteDeviceSlot}})],1)},GP=[],ZP=function(){var e=this,t=e.$createElement,a=e._self._c||t;return null!=e.deviceUnit?a("v-card",{staticClass:"ma-3 elevation-0"},[a("v-card-text",{staticClass:"pa-0"},[null==e.deviceUnit.path?a("v-toolbar",{staticClass:"blue darken-2 white--text",attrs:{dark:"",dense:""}},[a("v-toolbar-title",{staticClass:"namespace-title subheading"},[e._v("Device Element Schema")]),a("v-spacer"),a("v-tooltip",{attrs:{left:""},scopedSlots:e._u([{key:"activator",fn:function(t){t.on;return[a("v-icon",{on:{click:function(t){return e.onAddDeviceUnitLocal()}}},[e._v(e._s(e.addIcon))])]}}],null,!1,3962720257)},[a("span",[e._v("Add Device Unit")])])],1):a("v-toolbar",{staticClass:"blue darken-2 white--text",attrs:{dark:"",dense:""}},[a("v-toolbar-title",{staticClass:"namespace-title subheading"},[e._v(e._s(e.deviceUnit.name)+" ("+e._s(e.fullPath)+")")]),a("v-spacer"),a("v-tooltip",{attrs:{left:""},scopedSlots:e._u([{key:"activator",fn:function(t){t.on;return[a("v-icon",{staticClass:"mr-2",on:{click:function(t){return e.onAddDeviceUnitLocal()}}},[e._v(e._s(e.addIcon))])]}}],null,!1,1740742689)},[a("span",[e._v("Add Device Unit")])]),a("v-tooltip",{attrs:{left:""},scopedSlots:e._u([{key:"activator",fn:function(t){t.on;return[a("v-icon",{on:{click:function(t){return e.onDeleteDeviceUnitLocal()}}},[e._v(e._s(e.deleteIcon))])]}}],null,!1,612247297)},[a("span",[e._v("Delete Device Unit")])])],1),a("v-card",[a("v-card-text",[a("v-card",[a("v-toolbar",{staticClass:"grey lighten-3 black--text elevation-0",attrs:{dark:"",dense:""}},[a("v-toolbar-title",{staticClass:"namespace-title subheading"},[e._v("Device Slots")]),a("v-spacer"),a("v-tooltip",{attrs:{left:""},scopedSlots:e._u([{key:"activator",fn:function(t){t.on;return[a("v-icon",{attrs:{light:""},on:{click:function(t){return e.onAddDeviceSlotLocal()}}},[e._v(e._s(e.addIcon))])]}}],null,!1,1917307927)},[a("span",[e._v("Add Device Slot")])])],1),e.deviceUnit.deviceSlots.length>0?a("v-list",{staticClass:"pa-0"},e._l(e.deviceUnit.deviceSlots,(function(t,n){return a("div",{key:t.name},[n>0?a("v-divider"):e._e(),a("device-slot-list-entry",{attrs:{unitPath:e.fullPath,deviceSlot:t},on:{deleteDeviceSlot:function(a){return e.onDeleteDeviceSlotLocal(t)}}})],1)})),0):e._e(),0===e.deviceUnit.deviceSlots.length?a("no-results-panel",{attrs:{text:"No Slots Currently Configured",minHeight:"60px",fontSize:"16px",padding:"20px"}}):e._e()],1)],1),e._l(e.deviceUnit.deviceUnits,(function(t){return a("v-card-media",{key:t.name,staticClass:"elevation-0"},[a("device-unit-panel",{attrs:{deviceUnit:t,basePath:e.fullPath},on:{addDeviceUnit:e.onAddDeviceUnit,deleteDeviceUnit:e.onDeleteDeviceUnit,addDeviceSlot:e.onAddDeviceSlot,deleteDeviceSlot:e.onDeleteDeviceSlot}})],1)}))],2)],1)],1):e._e()},WP=[],HP=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-list-tile",[a("v-icon",{staticClass:"grey--text mr-2"},[e._v("storage")]),a("v-list-tile-content",[e._v(e._s(e.deviceSlot.name)+" ("+e._s(e.fullPath)+")")]),a("v-list-tile-action",[a("v-icon",{on:{click:e.onDeleteDeviceSlot}},[e._v(e._s(e.deleteIcon))])],1)],1)},JP=[],QP=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"onDeleteDeviceSlot",value:function(){this.$emit("deleteDeviceSlot",this.unitPath,this.deviceSlot.path)}},{key:"fullPath",get:function(){return this.unitPath+this.deviceSlot.path}},{key:"deleteIcon",get:function(){return I.Delete}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],QP.prototype,"deviceSlot",void 0),Object(u["a"])([Object(n["Prop"])()],QP.prototype,"unitPath",void 0),QP=Object(u["a"])([Object(n["Component"])({})],QP);var YP=QP,KP=YP,XP=Object(f["a"])(KP,HP,JP,!1,null,"1e1eee28",null),eE=XP.exports,tE=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"onAddDeviceUnitLocal",value:function(){this.$emit("addDeviceUnit",this.fullPath)}},{key:"onAddDeviceUnit",value:function(e){this.$emit("addDeviceUnit",e)}},{key:"onDeleteDeviceUnitLocal",value:function(){this.$emit("deleteDeviceUnit",this.fullPath)}},{key:"onDeleteDeviceUnit",value:function(e){this.$emit("deleteDeviceUnit",e)}},{key:"onAddDeviceSlotLocal",value:function(){this.$emit("addDeviceSlot",this.fullPath)}},{key:"onAddDeviceSlot",value:function(e){this.$emit("addDeviceSlot",e)}},{key:"onDeleteDeviceSlotLocal",value:function(e){this.$emit("deleteDeviceSlot",this.fullPath,e.path)}},{key:"onDeleteDeviceSlot",value:function(e,t){this.$emit("deleteDeviceSlot",e,t)}},{key:"fullPath",get:function(){return this.basePath?this.basePath+this.deviceUnit.path+"/":"/"}},{key:"addIcon",get:function(){return I.Add}},{key:"deleteIcon",get:function(){return I.Delete}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],tE.prototype,"deviceUnit",void 0),Object(u["a"])([Object(n["Prop"])()],tE.prototype,"basePath",void 0),tE=Object(u["a"])([Object(n["Component"])({components:{NoResultsPanel:hp,DeviceSlotListEntry:eE}})],tE);var aE=tE,nE=aE,iE=Object(f["a"])(nE,ZP,WP,!1,null,"664a90bc",null),rE=iE.exports,oE=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"onAddDeviceUnit",value:function(e){console.log("add",e)}},{key:"onDeleteDeviceUnit",value:function(e){console.log("delete",e)}},{key:"onAddDeviceSlot",value:function(e){console.log("add slot",e)}},{key:"onDeleteDeviceSlot",value:function(e,t){console.log("delete slot",e,t)}},{key:"deviceElementSchema",get:function(){return this.deviceType?this.deviceType.deviceElementSchema:null}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],oE.prototype,"tabkey",void 0),Object(u["a"])([Object(n["Prop"])()],oE.prototype,"deviceType",void 0),oE=Object(u["a"])([Object(n["Component"])({components:{DeviceUnitPanel:rE}})],oE);var sE=oE,lE=sE,cE=Object(f["a"])(lE,VP,GP,!1,null,"33c8fc5b",null),uE=cE.exports,dE=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-delete-dialog",{ref:"dialog",attrs:{title:"Delete Device Type",width:"400",visible:e.visible},on:{delete:e.onDelete,cancel:e.onCancel}},[a("v-card-text",[e._v(e._s(e.message))])],1)},pE=[],vE=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.message=null,e}return Object(j["a"])(a,[{key:"prepareLoad",value:function(e){var t={};return Tr(this.$store,e,t)}},{key:"afterLoad",value:function(e){this.message="Are you sure you want to delete '".concat(e.name,"'?")}},{key:"prepareDelete",value:function(e){return Sr(this.$store,e.token)}},{key:"onDelete",value:function(e){this.delete()}},{key:"onCancel",value:function(e){this.cancel()}}]),a}(n["DeleteDialogComponent"]);vE=Object(u["a"])([Object(n["Component"])({})],vE);var fE=vE,mE=fE,hE=Object(f["a"])(mE,dE,pE,!1,null,"18598954",null),bE=hE.exports,yE=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("device-type-dialog",{ref:"dialog",attrs:{title:"Edit Device Type",loaded:e.loaded,createLabel:"Update",cancelLabel:"Cancel"},on:{payload:e.onSave}})},gE=[],kE=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"getDialog",value:function(){return this.$refs.dialog}},{key:"prepareLoad",value:function(e){var t={includeAsset:!1};return Tr(this.$store,e,t)}},{key:"prepareSave",value:function(e,t){return Dr(this.$store,e.token,t)}},{key:"onSave",value:function(e){this.save(e)}},{key:"afterSave",value:function(e){this.$emit("deviceTypeUpdated",e)}}]),a}(n["EditDialogComponent"]);kE=Object(u["a"])([Object(n["Component"])({components:{DeviceTypeDialog:AS}})],kE);var OE=kE,jE=OE,CE=Object(f["a"])(jE,yE,gE,!1,null,"3a6be019",null),xE=CE.exports,$E=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("command-dialog",{ref:"dialog",attrs:{title:"Create Command",createLabel:"Create",cancelLabel:"Cancel",deviceTypeToken:e.deviceTypeToken},on:{payload:e.onCommit}})},_E=[],TE=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"getDialog",value:function(){return this.$refs.dialog}},{key:"onCommit",value:function(e){this.commit(e)}},{key:"save",value:function(e){return Ar(this.$store,this.deviceTypeToken,e)}},{key:"afterSave",value:function(e){this.$emit("commandAdded",e)}}]),a}(n["CreateDialogComponent"]);Object(u["a"])([Object(n["Prop"])()],TE.prototype,"deviceTypeToken",void 0),TE=Object(u["a"])([Object(n["Component"])({components:{CommandDialog:IA}})],TE);var DE=TE,wE=DE,SE=Object(f["a"])(wE,$E,_E,!1,null,null,null),AE=SE.exports,PE=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("device-status-dialog",{ref:"dialog",attrs:{title:"Create Device Status",createLabel:"Create",cancelLabel:"Cancel",deviceTypeToken:e.deviceTypeToken},on:{payload:e.onCommit}})},EE=[],LE=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"getDialog",value:function(){return this.$refs.dialog}},{key:"onCommit",value:function(e){this.commit(e)}},{key:"save",value:function(e){return Ur(this.$store,this.deviceTypeToken,e)}},{key:"afterSave",value:function(e){this.$emit("statusAdded",e)}}]),a}(n["CreateDialogComponent"]);Object(u["a"])([Object(n["Prop"])()],LE.prototype,"deviceTypeToken",void 0),LE=Object(u["a"])([Object(n["Component"])({components:{DeviceStatusDialog:$P}})],LE);var UE=LE,IE=UE,qE=Object(f["a"])(IE,PE,EE,!1,null,"0096fd21",null),RE=qE.exports,ME=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-navigation-action-button",{attrs:{material:"true",icon:e.icon,tooltip:e.tooltip},on:{action:e.onAction}})},FE=[],NE=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"onAction",value:function(){this.$emit("action")}},{key:"icon",get:function(){return I.DeviceStatus}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],NE.prototype,"tooltip",void 0),NE=Object(u["a"])([Object(n["Component"])({})],NE);var zE=NE,BE=zE,VE=Object(f["a"])(BE,ME,FE,!1,null,"3a9fe240",null),GE=VE.exports,ZE=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.active=null,e}return Object(j["a"])(a,[{key:"loadRecord",value:function(e){var t={includeAsset:!0};return Tr(this.$store,e,t)}},{key:"afterRecordLoaded",value:function(e){var t={id:"devicetypes",title:"Device Types",icon:"map",route:"/admin/devicetypes/"+e.token,longTitle:"Manage Device Type: "+e.name};this.$store.commit("currentSection",t)}},{key:"onCommandCreate",value:function(){this.$refs.command.open()}},{key:"onStatusCreate",value:function(){this.$refs.status.open()}},{key:"onEdit",value:function(){this.token&&this.$refs.edit.open(this.token)}},{key:"onUpdated",value:function(){this.refresh()}},{key:"onDelete",value:function(){this.token&&this.$refs.delete.open(this.token)}},{key:"onDeleted",value:function(){ue(this,"/devicetypes")}},{key:"onCommandAdded",value:function(){this.$refs["commands"].refresh()}},{key:"onStatusAdded",value:function(){this.$refs["statuses"].refresh()}},{key:"deviceType",get:function(){return this.record}},{key:"icon",get:function(){return I.DeviceType}},{key:"title",get:function(){return this.deviceType?'Manage device type "'.concat(this.deviceType.name,'"'):"Manage device type"}},{key:"containerPolicy",get:function(){return this.deviceType?this.deviceType.containerPolicy:B["DeviceContainerPolicy"].Standalone}}]),a}(n["DetailComponent"]);ZE=Object(u["a"])([Object(n["Component"])({components:{DeviceTypeDetailHeader:QS,DeviceTypeCommands:XA,DeviceTypeStatuses:BP,DeviceTypeComposition:uE,DeviceTypeDeleteDialog:bE,DeviceTypeUpdateDialog:xE,CommandCreateDialog:AE,DeviceStatusCreateDialog:RE,DeviceCommandButton:k_,DeviceStatusButton:GE,EditButton:dv,DeleteButton:yv}})],ZE);var WE=ZE,HE=WE,JE=Object(f["a"])(HE,zS,BS,!1,null,"b6b87bd8",null),QE=JE.exports,YE=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-list-page",{attrs:{icon:e.icon,title:"Manage Devices",loadingMessage:"Loading devices ...",loaded:e.loaded,results:e.results,pageSizes:e.pageSizes},on:{pagingUpdated:e.onPagingUpdated}},[a("sw-list-layout",e._l(e.matches,(function(t){return a("v-flex",{key:t.token,attrs:{xs6:""}},[a("device-list-entry",{attrs:{device:t},on:{assign:e.onAssignDevice,open:e.onOpenDevice}})],1)})),1),a("template",{slot:"filters"},[a("device-list-filter-bar",{ref:"filters",attrs:{criteria:e.filter},on:{clear:e.onClearFilterCriteria}})],1),a("template",{slot:"noresults"},[a("no-results-panel",[a("div",[e._v("No devices have been created for this tenant.")]),a("div",{staticClass:"mt-2"},[e._v(" Click "),a("v-icon",{staticClass:"pl-1 pr-2",attrs:{small:""}},[e._v(e._s(e.addIcon))]),e._v("in the toolbar to add a device. ")],1)])],1),a("template",{slot:"dialogs"},[a("device-create-dialog",{ref:"add",on:{deviceAdded:e.onDeviceAdded}}),a("assignment-create-dialog",{ref:"assign",attrs:{device:e.selected},on:{created:e.onAssignmentCreated}}),a("invocation-by-device-criteria-create-dialog",{ref:"batch",attrs:{filter:e.filter}}),a("device-list-filter-dialog",{ref:"filter",on:{payload:e.onFilterUpdated}})],1),a("template",{slot:"actions"},[a("add-button",{attrs:{tooltip:"Add Device"},on:{action:e.onAddDevice}}),e.filter.deviceTypeToken?a("device-command-button",{attrs:{tooltip:"Execute Batch Command"},on:{action:e.onBatchCommandInvocation}}):e._e(),a("filter-button",{attrs:{tooltip:"Filter Device List"},on:{action:e.onShowFilterCriteria}})],1)],2)},KE=[],XE=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-list-entry",{staticStyle:{"min-height":"130px"}},[a("v-container",{on:{click:e.onOpenDevice}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs3:""}},[a("branding-image",{style:e.logoStyle,attrs:{entity:e.deviceType,iconSize:"4x"}})],1),a("v-flex",{attrs:{xs8:""}},[a("div",[a("div",{staticClass:"title ellipsis mb-2"},[e._v(e._s(e.device.deviceType.name))]),a("div",{staticClass:"subheading mb-2"},[e._v(e._s(e.device.token))]),a("div",{staticClass:"dvcomm"},[e._v(e._s(e.device.comments))])])]),a("v-flex",{attrs:{xs1:""}},[a("div",[a("v-tooltip",{attrs:{top:""}},[a("v-btn",{staticClass:"blue pa-0 ma-0",attrs:{slot:"activator",dark:"",icon:""},on:{click:function(t){return t.stopPropagation(),e.onAssignDevice(t)}},slot:"activator"},[a("v-icon",[e._v("link")])],1),a("span",[e._v("Create New Assignment")])],1)],1),e.hasAssignments?a("div",[a("v-btn",{staticClass:"mt-3 ml-1",attrs:{disabled:!0,icon:"",small:""}},[a("v-avatar",{attrs:{size:"40"}},[a("img",{attrs:{src:e.firstAssignment.assetImageUrl}})])],1)],1):e._e()])],1)],1)],1)},eL=[],tL=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"onOpenDevice",value:function(){this.$emit("open",this.device)}},{key:"onAssignDevice",value:function(){this.$emit("assign",this.device)}},{key:"deviceType",get:function(){return this.device.deviceType}},{key:"assignments",get:function(){return this.device.activeDeviceAssignments}},{key:"hasAssignments",get:function(){return this.assignments&&this.assignments.length>0}},{key:"firstAssignment",get:function(){return this.hasAssignments?this.assignments[0]:null}},{key:"logoStyle",get:function(){return{height:"110px",width:"110px"}}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],tL.prototype,"device",void 0),tL=Object(u["a"])([Object(n["Component"])({components:{BrandingImage:Qu}})],tL);var aL=tL,nL=aL,iL=(a("3653"),Object(f["a"])(nL,XE,eL,!1,null,"e733ebea",null)),rL=iL.exports,oL=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.active?a("list-filter-bar",{on:{clear:e.onClearCriteria}},[e.hasDeviceTypeFilter?a("device-type-filter-chip",{attrs:{token:e.deviceTypeToken,tooltip:"Include devices of this type in filter criteria"},on:{closed:e.onDeviceTypeFilterCleared}}):e._e()],1):e._e()},sL=[],lL=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("filter-chip",{attrs:{type:"devicetype",token:e.token,imageUrl:e.image,label:e.label,tooltip:e.tooltip},on:{closed:e.onFilterClosed}})},cL=[],uL=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.record=null,e}return Object(j["a"])(a,[{key:"onSelectionUpdated",value:function(e){this.refresh()}},{key:"load",value:function(){throw new Error("Must implement load() method.")}},{key:"isAxiosResponse",value:function(e){return void 0!==e.data}},{key:"refresh",value:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.load();case 3:t=e.sent,this.record=this.isAxiosResponse(t)?t.data:t,e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),ie(e.t0);case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"onFilterClosed",value:function(){this.$emit("closed",this.token)}},{key:"image",get:function(){return this.record?this.record.imageUrl:null}},{key:"label",get:function(){return this.record?this.record.name:null}}]),a}(i["default"]);Object(u["a"])([Object(vj["b"])()],uL.prototype,"token",void 0),Object(u["a"])([Object(vj["b"])()],uL.prototype,"tooltip",void 0),Object(u["a"])([Object(vj["c"])("token",{immediate:!0})],uL.prototype,"onSelectionUpdated",null),uL=Object(u["a"])([vj["a"]],uL);var dL=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"load",value:function(){var e={};return Tr(this.$store,this.token,e)}}]),a}(uL);dL=Object(u["a"])([Object(n["Component"])({components:{FilterChip:pj}})],dL);var pL=dL,vL=pL,fL=Object(f["a"])(vL,lL,cL,!1,null,null,null),mL=fL.exports,hL=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"onDeviceTypeFilterCleared",value:function(){this.$emit("clear")}},{key:"onClearCriteria",value:function(){this.$emit("clear")}},{key:"hasDeviceTypeFilter",get:function(){return!(!this.criteria||!this.criteria.deviceTypeToken)}},{key:"deviceTypeToken",get:function(){return this.hasDeviceTypeFilter?this.criteria.deviceTypeToken:void 0}},{key:"active",get:function(){return!!this.hasDeviceTypeFilter}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],hL.prototype,"criteria",void 0),hL=Object(u["a"])([Object(n["Component"])({components:{ListFilterBar:nj,DeviceTypeFilterChip:mL}})],hL);var bL=hL,yL=bL,gL=Object(f["a"])(yL,oL,sL,!1,null,null,null),kL=gL.exports,OL=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-base-dialog",{ref:"dialog",attrs:{icon:e.icon,title:"Filter Device List",width:"600",loaded:e.loaded,visible:e.dialogVisible,createLabel:"Filter",cancelLabel:"Cancel"},on:{createClicked:e.onCreateClicked,cancelClicked:e.onCancelClicked}},[a("dialog-header",[e._v("Choose criteria for filtering which devices are shown")]),a("template",{slot:"tabs"},[a("v-tab",{key:"devicetype"},[e._v("Device Type")])],1),a("template",{slot:"tab-items"},[a("v-tab-item",{key:"devicetype"},[a("device-list-filter-device-type-fields",{ref:"devicetype"})],1)],1)],2)},jL=[],CL=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("dialog-form",[a("v-flex",{attrs:{xs12:""}},[a("device-type-chooser",{attrs:{notChosenText:"Choose device type for filter:",chosenText:"Filter will include type chosen below:"},model:{value:e.token,callback:function(t){e.token=t},expression:"token"}})],1)],1)},xL=[],$L=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("chooser",{attrs:{all:e.all,chosenText:e.chosenText,notChosenText:e.notChosenText,value:e.value},on:{selected:e.onItemSelected}})},_L=[],TL=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.selected=null,e.all=[],e}return Object(j["a"])(a,[{key:"created",value:function(){this.refresh()}},{key:"refresh",value:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){var t,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={},a={},e.next=4,wr(this.$store,a,t);case 4:n=e.sent,this.all=n.data.results;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onItemSelected",value:function(e){this.selected=e,this.$emit("input",e)}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],TL.prototype,"value",void 0),Object(u["a"])([Object(n["Prop"])()],TL.prototype,"chosenText",void 0),Object(u["a"])([Object(n["Prop"])()],TL.prototype,"notChosenText",void 0),TL=Object(u["a"])([Object(n["Component"])({components:{Chooser:yC}})],TL);var DL=TL,wL=DL,SL=Object(f["a"])(wL,$L,_L,!1,null,null,null),AL=SL.exports,PL=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.token=null,e}return Object(j["a"])(a,[{key:"reset",value:function(){this.token=null}},{key:"validate",value:function(){return!0}},{key:"load",value:function(e){this.token=e.deviceTypeToken}},{key:"save",value:function(){return{deviceTypeToken:this.token}}}]),a}(n["DialogSection"]);PL=Object(u["a"])([Object(n["Component"])({components:{DialogForm:_e,DeviceTypeChooser:AL}})],PL);var EL=PL,LL=EL,UL=Object(f["a"])(LL,CL,xL,!1,null,null,null),IL=UL.exports,qL=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"generatePayload",value:function(){var e={};return Object.assign(e,this.$refs.devicetype.save()),e}},{key:"reset",value:function(){this.$refs.devicetype&&this.$refs.devicetype.reset(),this.$refs.dialog&&this.$refs.dialog.setActiveTab(0)}},{key:"load",value:function(e){this.reset(),this.$refs.devicetype&&this.$refs.devicetype.load(e)}},{key:"onCreateClicked",value:function(e){if(this.$refs.devicetype.validate()){var t=this.generatePayload();this.$emit("payload",t)}else this.$refs.dialog.setActiveTab(0)}},{key:"icon",get:function(){return I.Device}}]),a}(n["DialogComponent"]);qL=Object(u["a"])([Object(n["Component"])({components:{DialogHeader:sC,DeviceListFilterDeviceTypeFields:IL}})],qL);var RL=qL,ML=RL,FL=Object(f["a"])(ML,OL,jL,!1,null,null,null),NL=FL.exports,zL=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("device-dialog",{ref:"dialog",attrs:{title:"Create Device",width:"600",createLabel:"Create",cancelLabel:"Cancel"},on:{payload:e.onCommit}})},BL=[],VL=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-base-dialog",{ref:"dialog",attrs:{icon:e.icon,title:e.title,width:e.width,loaded:e.loaded,visible:e.dialogVisible,createLabel:e.createLabel,cancelLabel:e.cancelLabel},on:{createClicked:e.onCreateClicked,cancelClicked:e.onCancelClicked}},[a("template",{slot:"tabs"},[a("v-tab",{key:"details"},[e._v("Details")]),a("v-tab",{key:"metadata"},[e._v("Metadata")])],1),a("template",{slot:"tab-items"},[a("v-tab-item",{key:"details"},[a("device-detail-fields",{ref:"details"})],1),a("v-tab-item",{key:"metadata"},[a("sw-metadata-panel",{ref:"metadata"})],1)],1)],2)},GL=[],ZL=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("dialog-form",[a("v-flex",{attrs:{xs12:""}},[a("form-token",{attrs:{required:"",label:"Device token",title:"Unique token for referencing device.",validator:e.$v},model:{value:e.token,callback:function(t){e.token=t},expression:"token"}})],1),a("v-flex",{attrs:{xs12:""}},[a("device-type-selector",{attrs:{title:"Type of device being created."},model:{value:e.deviceTypeToken,callback:function(t){e.deviceTypeToken=t},expression:"deviceTypeToken"}},[e.$v.deviceTypeToken.$invalid&&e.$v.$dirty?a("span",[e._v("Device type is required.")]):e._e()])],1),a("v-flex",{attrs:{xs12:""}},[a("form-text-area",{attrs:{required:"",title:"Extra comments about device.",label:"Comments",icon:"info"},model:{value:e.comments,callback:function(t){e.comments=t},expression:"comments"}})],1)],1)},WL=[],HL=Ne["helpers"].regex("validToken",/^[a-zA-Z0-9-_]+$/),JL=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.token=null,e.deviceTypeToken=null,e.comments=null,e}return Object(j["a"])(a,[{key:"reset",value:function(){this.token=null,this.deviceTypeToken=null,this.comments=null,this.$v.$reset()}},{key:"validate",value:function(){return this.$v.$touch(),!this.$v.$invalid}},{key:"load",value:function(e){this.token=e.token,this.deviceTypeToken=e.deviceType.token,this.comments=e.comments}},{key:"save",value:function(){return{token:this.token,deviceTypeToken:this.deviceTypeToken,comments:this.comments}}}]),a}(n["DialogSection"]);JL=Object(u["a"])([Object(n["Component"])({components:{DialogForm:_e,FormToken:fd,FormText:Ee,FormTextArea:il,DeviceTypeSelector:Br},validations:{token:{required:Ne["required"],validToken:HL},deviceTypeToken:{required:Ne["required"]}}})],JL);var QL=JL,YL=QL,KL=Object(f["a"])(YL,ZL,WL,!1,null,null,null),XL=KL.exports,eU=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"generatePayload",value:function(){var e={};return Object.assign(e,this.$refs.details.save(),this.$refs.metadata.save()),e}},{key:"reset",value:function(){this.$refs.details&&this.$refs.details.reset(),this.$refs.metadata&&this.$refs.metadata.reset(),this.$refs.dialog.setActiveTab(0)}},{key:"load",value:function(e){this.reset(),this.$refs.details&&this.$refs.details.load(e),this.$refs.metadata&&this.$refs.metadata.load(e)}},{key:"onCreateClicked",value:function(e){if(this.$refs.details.validate()){var t=this.generatePayload();this.$emit("payload",t)}else this.$refs.dialog.setActiveTab(0)}},{key:"icon",get:function(){return I.Device}}]),a}(n["DialogComponent"]);eU=Object(u["a"])([Object(n["Component"])({components:{DeviceDetailFields:XL}})],eU);var tU=eU,aU=tU,nU=Object(f["a"])(aU,VL,GL,!1,null,null,null),iU=nU.exports;function rU(e,t){var a=lt(e),n=B["API"].Devices.createDevice(a,t);return ut(e,n)}function oU(e,t,a){var n=lt(e),i=B["API"].Devices.getDevice(n,t,a);return ut(e,i)}function sU(e,t,a){var n=lt(e),i=B["API"].Devices.updateDevice(n,t,a);return ut(e,i)}function lU(e,t,a){var n=lt(e),i=B["API"].Devices.listDevices(n,t,a);return ut(e,i)}function cU(e,t,a,n){var i=lt(e),r=B["API"].Devices.listDeviceAssignmentHistory(i,t,a,n);return ut(e,r)}function uU(e,t){var a=lt(e),n=B["API"].Devices.deleteDevice(a,t);return ut(e,n)}var dU=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"getDialog",value:function(){return this.$refs.dialog}},{key:"onCommit",value:function(e){this.commit(e)}},{key:"save",value:function(e){return rU(this.$store,e)}},{key:"afterSave",value:function(e){this.$emit("deviceAdded",e)}}]),a}(n["CreateDialogComponent"]);dU=Object(u["a"])([Object(n["Component"])({components:{DeviceDialog:iU}})],dU);var pU=dU,vU=pU,fU=Object(f["a"])(vU,zL,BL,!1,null,"7b884d20",null),mU=fU.exports,hU=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("invocation-by-device-criteria-dialog",{ref:"dialog",attrs:{title:"Invoke Batch Command",width:"600",filter:e.filter,createLabel:"Invoke",cancelLabel:"Cancel"},on:{payload:e.onCommit}})},bU=[],yU=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-base-dialog",{ref:"dialog",attrs:{icon:e.icon,title:e.title,width:e.width,loaded:e.loaded,visible:e.dialogVisible,createLabel:e.createLabel,cancelLabel:e.cancelLabel},on:{createClicked:e.onCreateClicked,cancelClicked:e.onCancelClicked}},[a("template",{slot:"tabs"},[a("v-tab",{key:"details"},[e._v("Details")]),a("v-tab",{key:"schedule"},[e._v("Schedule")]),a("v-tab",{key:"metadata"},[e._v("Metadata")])],1),a("template",{slot:"tab-items"},[a("v-tab-item",{key:"details"},[a("batch-command-detail-fields",{ref:"details",attrs:{deviceTypeToken:e.deviceTypeToken}})],1),a("v-tab-item",{key:"schedule"},[a("batch-command-schedule-fields",{ref:"schedule"})],1),a("v-tab-item",{key:"metadata"},[a("sw-metadata-panel",{ref:"metadata"})],1)],1)],2)},gU=[],kU=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"generatePayload",value:function(){var e={deviceTypeToken:this.filter.deviceTypeToken};return Object.assign(e,this.$refs.details.save(),this.$refs.schedule.save(),this.$refs.metadata.save()),e}},{key:"reset",value:function(){this.$refs.details&&this.$refs.details.reset(),this.$refs.schedule&&this.$refs.schedule.reset(),this.$refs.metadata&&this.$refs.metadata.reset(),this.$refs.dialog.setActiveTab(0)}},{key:"load",value:function(e){this.reset(),this.$refs.details&&this.$refs.details.load(e),this.$refs.schedule&&this.$refs.schedule.load(e),this.$refs.metadata&&this.$refs.metadata.load(e)}},{key:"onCreateClicked",value:function(e){if(this.$refs.details.validate())if(this.$refs.schedule.validate()){var t=this.generatePayload();this.$emit("payload",t)}else this.$refs.dialog.setActiveTab(1);else this.$refs.dialog.setActiveTab(0)}},{key:"icon",get:function(){return I.DeviceCommand}},{key:"deviceTypeToken",get:function(){return this.filter.deviceTypeToken}}]),a}(n["DialogComponent"]);Object(u["a"])([Object(n["Prop"])()],kU.prototype,"filter",void 0),kU=Object(u["a"])([Object(n["Component"])({components:{BatchCommandDetailFields:E$,BatchCommandScheduleFields:K$}})],kU);var OU=kU,jU=OU,CU=Object(f["a"])(jU,yU,gU,!1,null,null,null),xU=CU.exports,$U=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"getDialog",value:function(){return this.$refs.dialog}},{key:"onCommit",value:function(e){this.commit(e)}},{key:"save",value:function(e){return s_(this.$store,e)}},{key:"afterSave",value:function(e){}}]),a}(n["CreateDialogComponent"]);Object(u["a"])([Object(n["Prop"])()],$U.prototype,"filter",void 0),$U=Object(u["a"])([Object(n["Component"])({components:{InvocationByDeviceCriteriaDialog:xU}})],$U);var _U=$U,TU=_U,DU=Object(f["a"])(TU,hU,bU,!1,null,null,null),wU=DU.exports,SU=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.addIcon=I.Add,e.selected=null,e.filter={},e.pageSizes=[{text:"20",value:20},{text:"50",value:50},{text:"100",value:100}],e}return Object(j["a"])(a,[{key:"buildSearchCriteria",value:function(){return this.filter}},{key:"buildResponseFormat",value:function(){var e={includeDeviceType:!0,includeAssignment:!0};return e}},{key:"performSearch",value:function(e,t){return lU(this.$store,e,t)}},{key:"onShowFilterCriteria",value:function(){this.$refs.filter.openDialog()}},{key:"onClearFilterCriteria",value:function(){this.filter={},this.$refs.filter.reset(),this.refresh()}},{key:"onFilterUpdated",value:function(e){this.$refs.filter.closeDialog(),this.filter=e,this.refresh()}},{key:"onAssignDevice",value:function(e){this.selected=e,this.$refs.assign.open()}},{key:"onAssignmentCreated",value:function(){this.refresh()}},{key:"onDeviceAdded",value:function(){this.refresh()}},{key:"onOpenDevice",value:function(e){ue(this,"/devices/"+e.token)}},{key:"onAddDevice",value:function(){this.$refs.add.open()}},{key:"onBatchCommandInvocation",value:function(){this.$refs.batch.open()}},{key:"icon",get:function(){return I.Device}}]),a}(n["ListComponent"]);SU=Object(u["a"])([Object(n["Component"])({components:{DeviceListEntry:rL,DeviceListFilterBar:kL,DeviceListFilterDialog:NL,DeviceCreateDialog:mU,AssignmentCreateDialog:px,InvocationByDeviceCriteriaCreateDialog:wU,AddButton:cp,DeviceCommandButton:k_,FilterButton:T_,NoResultsPanel:hp}})],SU);var AU=SU,PU=AU,EU=Object(f["a"])(PU,YE,KE,!1,null,null,null),LU=EU.exports,UU=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-detail-page",{attrs:{icon:e.icon,title:e.title,loadingMessage:"Loading device ...",loaded:e.loaded,record:e.device}},[a("template",{slot:"header"},[a("device-detail-header",{attrs:{record:e.device},on:{deviceDeleted:e.onDeviceDeleted}})],1),a("template",{slot:"tabs"},[a("v-tab",{key:"assignments"},[e._v("Assignment History")])],1),a("template",{slot:"tab-items"},[a("device-assignment-history",{attrs:{tabkey:"assignments",deviceToken:e.token}})],1),a("template",{slot:"actions"},[a("edit-button",{attrs:{tooltip:"Edit Device"},on:{action:e.onEdit}}),a("delete-button",{attrs:{tooltip:"Delete Device"},on:{action:e.onDelete}})],1),a("template",{slot:"dialogs"},[a("device-update-dialog",{ref:"edit",attrs:{token:e.token},on:{deviceUpdated:e.onDeviceUpdated}}),a("device-delete-dialog",{ref:"delete",attrs:{token:e.token},on:{deleted:e.onDeviceDeleted}})],1)],2)},IU=[],qU=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.device?a("sw-navigation-header-panel",{attrs:{height:"190px"}},[a("template",{slot:"left"},[a("device-detail-header-image",{attrs:{device:e.device}})],1),a("template",{slot:"content"},[a("sw-header-field",{attrs:{label:"Token"}},[a("clipboard-copy-field",{attrs:{field:e.device.token,message:"Token copied to clipboard"}})],1),a("sw-linked-header-field",{attrs:{label:"Device Type",text:e.device.deviceType.name,url:"/devicetypes/"+e.device.deviceType.token}}),a("sw-header-field",{attrs:{label:"Comments"}},[a("span",[e._v(e._s(e.device.comments))])]),a("sw-header-field",{attrs:{label:"Created"}},[a("span",[e._v(e._s(e.formatDate(e.device.createdDate)))])]),a("sw-header-field",{attrs:{label:"Updated"}},[a("span",[e._v(e._s(e.formatDate(e.device.updatedDate)))])])],1),a("template",{slot:"right"},[a("authenticated-image",{attrs:{url:e.qrCodeUrl}})],1)],2):e._e()},RU=[],MU=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticStyle:{position:"relative",height:"100%"},attrs:{flat:""}},[e.imageUrl?a("span",{staticClass:"header-image",style:e.imageStyle(e.imageUrl)}):a("span",[e._v(e._s(e.device))])])},FU=[],NU=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"imageStyle",value:function(e){return{"background-color":"#fff","background-image":"url("+e+")","background-size":"contain","background-repeat":"no-repeat","background-position":"50% 50%"}}},{key:"deviceType",get:function(){return this.device?this.device.deviceType:null}},{key:"imageUrl",get:function(){return this.deviceType?this.deviceType.imageUrl:null}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],NU.prototype,"device",void 0),NU=Object(u["a"])([Object(n["Component"])({})],NU);var zU=NU,BU=zU,VU=(a("8c8a7"),Object(f["a"])(BU,MU,FU,!1,null,"26b9fd0d",null)),GU=VU.exports,ZU=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"device",get:function(){return this.record}},{key:"deviceType",get:function(){return this.device?this.device.deviceType:""}},{key:"imageUrl",get:function(){return this.deviceType?this.deviceType.imageUrl:""}},{key:"qrCodeUrl",get:function(){return"devices/"+this.device.token+"/label/qrcode"}}]),a}(n["HeaderComponent"]);ZU=Object(u["a"])([Object(n["Component"])({components:{ClipboardCopyField:rn,AuthenticatedImage:pn,DeviceDetailHeaderImage:GU}})],ZU);var WU=ZU,HU=WU,JU=Object(f["a"])(HU,qU,RU,!1,null,"4cc4db98",null),QU=JU.exports,YU=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-list-tab",{attrs:{tabkey:e.tabkey,id:e.id,loaded:e.loaded,results:e.results,loadingMessage:"Loading device assigments..."},on:{pagingUpdated:e.onPagingUpdated}},[a("v-container",{staticClass:"pa-2",attrs:{fluid:"","grid-list-md":"","fill-height":""}},[a("v-layout",{attrs:{"align-content-start":"",row:"",wrap:""}},e._l(e.matches,(function(t){return a("v-flex",{key:t.token,attrs:{xs12:""}},[a("assignment-list-entry",{attrs:{assignment:t},on:{assignmentOpened:function(a){return e.onOpenAssignment(t)},refresh:e.refresh}})],1)})),1)],1)],1)},KU=[],XU=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"buildSearchCriteria",value:function(){var e={};return e.deviceTokens=[this.deviceToken],e}},{key:"buildResponseFormat",value:function(){var e={includeDevice:!0,includeCustomer:!0,includeArea:!0,includeAsset:!0};return e}},{key:"performSearch",value:function(e,t){return cU(this.$store,this.deviceToken,e,t)}},{key:"onOpenAssignment",value:function(e){ue(this,"/assignments/"+e.token)}}]),a}(n["ListComponent"]);Object(u["a"])([Object(n["Prop"])()],XU.prototype,"tabkey",void 0),Object(u["a"])([Object(n["Prop"])()],XU.prototype,"id",void 0),Object(u["a"])([Object(n["Prop"])()],XU.prototype,"deviceToken",void 0),XU=Object(u["a"])([Object(n["Component"])({components:{AssignmentListEntry:im}})],XU);var eI=XU,tI=eI,aI=Object(f["a"])(tI,YU,KU,!1,null,"4a516f00",null),nI=aI.exports,iI=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("device-dialog",{ref:"dialog",attrs:{title:"Edit Device",loaded:e.loaded,createLabel:"Update",cancelLabel:"Cancel"},on:{payload:e.onSave}})},rI=[],oI=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"getDialog",value:function(){return this.$refs.dialog}},{key:"prepareLoad",value:function(e){var t={includeDeviceType:!0};return oU(this.$store,e,t)}},{key:"prepareSave",value:function(e,t){return sU(this.$store,e.token,t)}},{key:"onSave",value:function(e){this.save(e)}},{key:"afterSave",value:function(e){this.$emit("deviceUpdated",e)}}]),a}(n["EditDialogComponent"]);oI=Object(u["a"])([Object(n["Component"])({components:{DeviceDialog:iU}})],oI);var sI=oI,lI=sI,cI=Object(f["a"])(lI,iI,rI,!1,null,"87f759a4",null),uI=cI.exports,dI=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-delete-dialog",{ref:"dialog",attrs:{title:"Delete Device",width:"400",visible:e.visible},on:{delete:e.onDelete,cancel:e.onCancel}},[a("v-card-text",[e._v(e._s(e.message))])],1)},pI=[],vI=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.message=null,e}return Object(j["a"])(a,[{key:"prepareLoad",value:function(e){var t={};return oU(this.$store,e,t)}},{key:"afterLoad",value:function(e){this.message="Are you sure you want to delete '".concat(e.token,"'?")}},{key:"prepareDelete",value:function(e){return uU(this.$store,e.token)}},{key:"onDelete",value:function(e){this.delete()}},{key:"onCancel",value:function(e){this.cancel()}}]),a}(n["DeleteDialogComponent"]);vI=Object(u["a"])([Object(n["Component"])({})],vI);var fI=vI,mI=fI,hI=Object(f["a"])(mI,dI,pI,!1,null,null,null),bI=hI.exports,yI=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"loadRecord",value:function(e){var t={includeDeviceType:!0,includeAssignment:!0};return oU(this.$store,e,t)}},{key:"afterRecordLoaded",value:function(e){var t={id:"devices",title:"Devices",icon:I.Device,route:"/admin/devices/"+e.token,longTitle:"Manage Device: "+e.token};this.$store.commit("currentSection",t)}},{key:"onEdit",value:function(){this.token&&this.$refs.edit.open(this.token)}},{key:"onDeviceUpdated",value:function(){this.refresh()}},{key:"onDelete",value:function(){this.token&&this.$refs.delete.open(this.token)}},{key:"onDeviceDeleted",value:function(){ue(this,"/devices")}},{key:"device",get:function(){return this.record}},{key:"icon",get:function(){return I.Device}},{key:"title",get:function(){return this.device?"Manage device ".concat(this.device.token):"Manage device"}}]),a}(n["DetailComponent"]);yI=Object(u["a"])([Object(n["Component"])({components:{DeviceDetailHeader:QU,DeviceAssignmentHistory:nI,DeviceUpdateDialog:uI,DeviceDeleteDialog:bI,EditButton:dv,DeleteButton:yv}})],yI);var gI=yI,kI=gI,OI=Object(f["a"])(kI,UU,IU,!1,null,"4a9f328d",null),jI=OI.exports,CI=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-list-page",{attrs:{icon:e.icon,title:"Device Groups",loadingMessage:"Loading device groups ...",loaded:e.loaded,results:e.results},on:{pagingUpdated:e.onPagingUpdated}},[a("sw-list-layout",e._l(e.matches,(function(t){return a("v-flex",{key:t.token,attrs:{xs6:""}},[a("device-group-list-entry",{staticClass:"mb-1",attrs:{deviceGroup:t},on:{deviceGroupOpened:e.onOpenGroup}})],1)})),1),a("template",{slot:"noresults"},[a("no-results-panel",[a("div",[e._v("No device groups have been created for this tenant.")]),a("div",{staticClass:"mt-2"},[e._v(" Click "),a("v-icon",{staticClass:"pl-1 pr-2",attrs:{small:""}},[e._v(e._s(e.addIcon))]),e._v("in the toolbar to add a device group. ")],1)])],1),a("template",{slot:"dialogs"},[a("device-group-create-dialog",{ref:"add",on:{deviceGroupAdded:e.refresh}})],1),a("template",{slot:"actions"},[a("add-button",{attrs:{tooltip:"Add Device Group"},on:{action:e.onAddDeviceGroup}})],1)],2)},xI=[],$I=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-list-entry",{staticClass:"pa-2"},[a("v-card-text",{staticClass:"group",on:{click:e.onOpenDeviceGroup}},[a("div",{staticClass:"group-image",style:e.backgroundImageStyle}),a("div",{staticClass:"group-name ellipsis title"},[e._v(e._s(e.deviceGroup.name))]),a("div",{staticClass:"group-token ellipsis subheading"},[e._v(e._s(e.deviceGroup.token))]),a("div",{staticClass:"group-description ellipsis"},[e._v(e._s(e.deviceGroup.description))]),a("div",{staticClass:"group-roles ellipsis"},[e._v(" Roles: "),a("strong",[e._v(e._s(e.rolesView))])])])],1)},_I=[],TI=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"onOpenDeviceGroup",value:function(){this.$emit("deviceGroupOpened",this.deviceGroup)}},{key:"rolesView",get:function(){return this.deviceGroup.roles.join(", ")}},{key:"backgroundImageStyle",get:function(){return{"background-image":"url("+this.deviceGroup.imageUrl+")","background-size":"contain","background-repeat":"no-repeat","background-position":"50% 50%"}}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],TI.prototype,"deviceGroup",void 0),TI=Object(u["a"])([Object(n["Component"])({})],TI);var DI=TI,wI=DI,SI=(a("b3ac"),Object(f["a"])(wI,$I,_I,!1,null,"f4dee092",null)),AI=SI.exports,PI=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("device-group-dialog",{ref:"dialog",attrs:{title:"Create Device Group",width:"600",createLabel:"Create",cancelLabel:"Cancel"},on:{payload:e.onCommit}})},EI=[],LI=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-base-dialog",{ref:"dialog",attrs:{icon:e.icon,title:e.title,width:e.width,loaded:e.loaded,visible:e.dialogVisible,createLabel:e.createLabel,cancelLabel:e.cancelLabel},on:{createClicked:e.onCreateClicked,cancelClicked:e.onCancelClicked}},[a("template",{slot:"tabs"},[a("v-tab",{key:"details"},[e._v("Details")]),a("v-tab",{key:"branding"},[e._v("Branding")]),a("v-tab",{key:"metadata"},[e._v("Metadata")])],1),a("template",{slot:"tab-items"},[a("v-tab-item",{key:"details"},[a("device-group-detail-fields",{ref:"details"})],1),a("v-tab-item",{key:"branding"},[a("branding-panel",{ref:"branding"})],1),a("v-tab-item",{key:"metadata"},[a("sw-metadata-panel",{ref:"metadata"})],1)],1)],2)},UI=[],II=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("dialog-form",[a("v-flex",{attrs:{xs12:""}},[a("form-token",{attrs:{required:"",label:"Device group token",title:"Unique token for referencing device group.",validator:e.$v},model:{value:e.token,callback:function(t){e.token=t},expression:"token"}})],1),a("v-flex",{attrs:{xs12:""}},[a("form-text",{attrs:{required:"",label:"Name",title:"Name displayed for device group.",icon:"info"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}},[e.$v.name.$invalid&&e.$v.$dirty?a("span",[e._v("Name is required.")]):e._e()])],1),a("v-flex",{attrs:{xs12:""}},[a("form-text-area",{attrs:{required:"",title:"Device group description.",label:"Description",icon:"info"},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}},[e.$v.description.$invalid&&e.$v.$dirty?a("span",[e._v("Description is required.")]):e._e()])],1),a("v-flex",{attrs:{xs12:""}},[a("roles-field",{attrs:{icon:"info"},model:{value:e.roles,callback:function(t){e.roles=t},expression:"roles"}})],1)],1)},qI=[],RI=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-input",{attrs:{"prepend-icon":e.icon}},[a("v-card",{staticClass:"pa-0",attrs:{flat:""}},[a("div",[e.editedRoles.length?e._e():a("div",{staticClass:"subheading pl-1 pt-1"},[e._v("No roles currently assigned")]),e._l(e.editedRoles,(function(t){return a("v-chip",{key:t,staticClass:"grey white--text",attrs:{close:"",small:""},on:{input:function(a){return e.onRoleDeleted(t)}}},[e._v(e._s(t))])}))],2),a("div",[a("v-container",{staticClass:"pa-0",attrs:{fluid:""}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs11:""}},[a("v-text-field",{attrs:{label:"Add role","hide-details":""},model:{value:e.newRoles,callback:function(t){e.newRoles=t},expression:"newRoles"}})],1),a("v-flex",{attrs:{xs1:""}},[a("v-tooltip",{attrs:{left:""}},[a("v-btn",{attrs:{slot:"activator",icon:""},on:{click:e.onRolesAdded},slot:"activator"},[a("font-awesome-icon",{staticClass:"blue--text text--darken-2",attrs:{icon:"plus",size:"lg"}})],1),a("span",[e._v("Add Role")])],1)],1)],1)],1)],1)])],1)},MI=[],FI=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.editedRoles=[],e.newRoles="",e}return Object(j["a"])(a,[{key:"onValueChanged",value:function(e,t){this.editedRoles=e}},{key:"onRolesAdded",value:function(){var e=this,t=this.newRoles.split(" ");t.forEach((function(t){-1===e.editedRoles.indexOf(t)&&e.editedRoles.push(t)})),this.newRoles=""}},{key:"onRoleDeleted",value:function(e){var t=this.editedRoles,a=t.indexOf(e);-1!==a&&t.splice(a,1)}},{key:"onRolesUpdated",value:function(){this.$emit("input",this.editedRoles)}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],FI.prototype,"value",void 0),Object(u["a"])([Object(n["Prop"])()],FI.prototype,"icon",void 0),Object(u["a"])([Object(n["Watch"])("value")],FI.prototype,"onValueChanged",null),FI=Object(u["a"])([n["Component"]],FI);var NI=FI,zI=NI,BI=Object(f["a"])(zI,RI,MI,!1,null,"089b6b0b",null),VI=BI.exports,GI=Ne["helpers"].regex("validToken",/^[a-zA-Z0-9-_]+$/),ZI=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.token=null,e.name=null,e.description=null,e.roles=[],e}return Object(j["a"])(a,[{key:"reset",value:function(){this.token=null,this.name=null,this.description=null,this.roles=[],this.$v.$reset()}},{key:"validate",value:function(){return this.$v.$touch(),!this.$v.$invalid}},{key:"load",value:function(e){this.token=e.token,this.name=e.name,this.description=e.description,this.roles=e.roles}},{key:"save",value:function(){return{token:this.token,name:this.name,description:this.description,roles:this.roles}}}]),a}(n["DialogSection"]);ZI=Object(u["a"])([Object(n["Component"])({components:{DialogForm:_e,FormToken:fd,FormText:Ee,FormTextArea:il,RolesField:VI},validations:{token:{required:Ne["required"],validToken:GI},name:{required:Ne["required"]},description:{required:Ne["required"]}}})],ZI);var WI=ZI,HI=WI,JI=Object(f["a"])(HI,II,qI,!1,null,"0641e302",null),QI=JI.exports,YI=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"generatePayload",value:function(){var e={};return Object.assign(e,this.$refs.details.save(),this.$refs.branding.save(),this.$refs.metadata.save()),e}},{key:"reset",value:function(){this.$refs.details&&this.$refs.details.reset(),this.$refs.branding&&this.$refs.branding.reset(),this.$refs.metadata&&this.$refs.metadata.reset(),this.$refs.dialog.setActiveTab(0)}},{key:"load",value:function(e){this.reset(),this.$refs.details&&this.$refs.details.load(e),this.$refs.branding&&this.$refs.branding.load(e),this.$refs.metadata&&this.$refs.metadata.load(e)}},{key:"onCreateClicked",value:function(e){if(this.$refs.details.validate())if(this.$refs.branding.validate()){var t=this.generatePayload();console.log("Before payload emit:",this),this.$emit("payload",t)}else this.$refs.dialog.setActiveTab(1);else this.$refs.dialog.setActiveTab(0)}},{key:"icon",get:function(){return I.DeviceGroup}}]),a}(n["DialogComponent"]);YI=Object(u["a"])([Object(n["Component"])({components:{DeviceGroupDetailFields:QI,BrandingPanel:Pa}})],YI);var KI=YI,XI=KI,eq=Object(f["a"])(XI,LI,UI,!1,null,null,null),tq=eq.exports;function aq(e,t){var a=lt(e),n=B["API"].DeviceGroups.createDeviceGroup(a,t);return ut(e,n)}function nq(e,t,a){var n=lt(e),i=B["API"].DeviceGroups.getDeviceGroup(n,t,a);return ut(e,i)}function iq(e,t,a){var n=lt(e),i=B["API"].DeviceGroups.updateDeviceGroup(n,t,a);return ut(e,i)}function rq(e,t,a){var n=lt(e),i=B["API"].DeviceGroups.listDeviceGroups(n,t,a);return ut(e,i)}function oq(e,t,a,n){var i=lt(e),r=B["API"].DeviceGroups.listDeviceGroupElements(i,t,a,n);return ut(e,r)}function sq(e,t,a){var n=lt(e),i=B["API"].DeviceGroups.createDeviceGroupElements(n,t,a);return ut(e,i)}function lq(e,t,a){var n=lt(e),i=B["API"].DeviceGroups.deleteDeviceGroupElement(n,t,a);return ut(e,i)}function cq(e,t){var a=lt(e),n=B["API"].DeviceGroups.deleteDeviceGroup(a,t);return ut(e,n)}var uq=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"getDialog",value:function(){return this.$refs.dialog}},{key:"onCommit",value:function(e){this.commit(e)}},{key:"save",value:function(e){return aq(this.$store,e)}},{key:"afterSave",value:function(e){this.$emit("deviceGroupAdded",e)}}]),a}(n["CreateDialogComponent"]);uq=Object(u["a"])([Object(n["Component"])({components:{DeviceGroupDialog:tq}})],uq);var dq=uq,pq=dq,vq=Object(f["a"])(pq,PI,EI,!1,null,"38c928d4",null),fq=vq.exports,mq=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.addIcon=I.Add,e}return Object(j["a"])(a,[{key:"buildSearchCriteria",value:function(){var e={};return e}},{key:"buildResponseFormat",value:function(){var e={};return e}},{key:"performSearch",value:function(e,t){return rq(this.$store,e,t)}},{key:"onOpenGroup",value:function(e){ue(this,"/groups/"+e.token)}},{key:"onAddDeviceGroup",value:function(){this.$refs.add.open()}},{key:"icon",get:function(){return I.DeviceGroup}}]),a}(n["ListComponent"]);mq=Object(u["a"])([Object(n["Component"])({components:{DeviceGroupListEntry:AI,DeviceGroupCreateDialog:fq,AddButton:cp,NoResultsPanel:hp}})],mq);var hq=mq,bq=hq,yq=Object(f["a"])(bq,CI,xI,!1,null,"0e64b531",null),gq=yq.exports,kq=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-detail-page",{attrs:{icon:e.icon,title:e.title,loadingMessage:"Loading device group ...",loaded:e.loaded,record:e.deviceGroup}},[a("template",{slot:"header"},[a("device-group-detail-header",{attrs:{record:e.deviceGroup},on:{deviceGroupUpdated:e.refresh,deviceGroupDeleted:e.onDeviceGroupDeleted}})],1),a("template",{slot:"tabs"},[a("v-tab",{key:"elements"},[e._v("Group Elements")])],1),a("template",{slot:"tab-items"},[a("device-group-elements",{ref:"list",attrs:{tabkey:"elements",deviceGroup:e.deviceGroup}})],1),a("template",{slot:"actions"},[a("add-button",{attrs:{tooltip:"Add Group Element"},on:{action:e.onAddGroupElement}}),a("edit-button",{attrs:{tooltip:"Edit Device Group"},on:{action:e.onEdit}}),a("delete-button",{attrs:{tooltip:"Delete Device Group"},on:{action:e.onDelete}})],1),a("template",{slot:"dialogs"},[a("device-group-element-create-dialog",{ref:"create",attrs:{token:e.token},on:{created:e.onElementAdded}}),a("device-group-update-dialog",{ref:"edit",attrs:{token:e.token},on:{deviceGroupUpdated:e.refresh}}),a("device-group-delete-dialog",{ref:"delete",attrs:{token:e.token},on:{groupDeleted:e.onDeviceGroupDeleted}})],1)],2)},Oq=[],jq=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.deviceGroup?a("sw-navigation-header-panel",{attrs:{height:"200px"}},[a("template",{slot:"left"},[a("sw-header-branding-panel",{attrs:{entity:e.deviceGroup}})],1),a("template",{slot:"content"},[a("sw-navigation-header-fields",[a("sw-header-field",{attrs:{label:"Token"}},[a("clipboard-copy-field",{attrs:{field:e.deviceGroup.token,message:"Token copied to clipboard"}})],1),a("sw-header-field",{attrs:{label:"Name"}},[a("span",[e._v(e._s(e.deviceGroup.name))])]),a("sw-header-field",{attrs:{label:"Description"}},[a("span",[e._v(e._s(e.deviceGroup.description))])]),a("sw-header-field",{attrs:{label:"Image URL"}},[a("span",[e._v(e._s(e.deviceGroup.imageUrl))])]),a("sw-header-field",{attrs:{label:"Roles"}},[a("span",[e._v(e._s(e.rolesList))])])],1)],1),a("template",{slot:"right"},[a("authenticated-image",{attrs:{url:e.qrCodeUrl}})],1)],2):e._e()},Cq=[],xq=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"deviceGroup",get:function(){return this.record}},{key:"token",get:function(){return this.deviceGroup?this.deviceGroup.token:""}},{key:"qrCodeUrl",get:function(){return this.deviceGroup?"devicegroups/"+this.token+"/label/qrcode":""}},{key:"rolesList",get:function(){return this.deviceGroup?this.deviceGroup.roles.join(", "):""}}]),a}(n["HeaderComponent"]);xq=Object(u["a"])([Object(n["Component"])({components:{ClipboardCopyField:rn,AuthenticatedImage:pn}})],xq);var $q=xq,_q=$q,Tq=Object(f["a"])(_q,jq,Cq,!1,null,null,null),Dq=Tq.exports,wq=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("device-group-dialog",{ref:"dialog",attrs:{title:"Edit Device Group",loaded:e.loaded,createLabel:"Update",cancelLabel:"Cancel"},on:{payload:e.onSave}})},Sq=[],Aq=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"getDialog",value:function(){return this.$refs.dialog}},{key:"prepareLoad",value:function(e){var t={};return nq(this.$store,e,t)}},{key:"prepareSave",value:function(e,t){return iq(this.$store,e.token,t)}},{key:"onSave",value:function(e){this.save(e)}},{key:"afterSave",value:function(e){this.$emit("deviceGroupUpdated",e)}}]),a}(n["EditDialogComponent"]);Aq=Object(u["a"])([Object(n["Component"])({components:{DeviceGroupDialog:tq}})],Aq);var Pq=Aq,Eq=Pq,Lq=Object(f["a"])(Eq,wq,Sq,!1,null,"85f75504",null),Uq=Lq.exports,Iq=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-delete-dialog",{ref:"dialog",attrs:{title:"Delete Device Group",width:"400",visible:e.visible},on:{delete:e.onDelete,cancel:e.onCancel}},[a("v-card-text",[e._v(e._s(e.message))])],1)},qq=[],Rq=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.message=null,e}return Object(j["a"])(a,[{key:"prepareLoad",value:function(e){var t={};return nq(this.$store,e,t)}},{key:"afterLoad",value:function(e){this.message="Are you sure you want to delete '".concat(e.name,"'?")}},{key:"prepareDelete",value:function(e){return cq(this.$store,e.token)}},{key:"onDelete",value:function(e){this.delete()}},{key:"onCancel",value:function(e){this.cancel()}}]),a}(n["DeleteDialogComponent"]);Rq=Object(u["a"])([Object(n["Component"])({})],Rq);var Mq=Rq,Fq=Mq,Nq=Object(f["a"])(Fq,Iq,qq,!1,null,"df59341e",null),zq=Nq.exports,Bq=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-data-table-tab",{attrs:{tabkey:e.tabkey,id:e.id,loaded:e.loaded,headers:e.headers,results:e.results,pageSizes:e.pageSizes,loadingMessage:"Loading device group elements ..."},on:{pagingUpdated:e.onPagingUpdated},scopedSlots:e._u([{key:"items",fn:function(t){return[t.item.device?a("td",{class:e.elementClassFor(t.item),attrs:{width:"40%",title:t.item.device.token}},[a("v-icon",{staticClass:"grey--text text--darken-2 type-icon"},[e._v(e._s(e.deviceIcon))]),e._v(" "+e._s(t.item.device.token)+" ")],1):a("td",{class:e.elementClassFor(t.item),attrs:{width:"40%",title:t.item.groupId}},[a("v-icon",{staticClass:"grey--text text--darken-2 type-icon"},[e._v(e._s(e.groupIcon))]),e._v(" "+e._s(t.item.groupId)+" ")],1),t.item.device?a("td",{attrs:{width:"40%"}},[e._v(e._s(t.item.device.deviceType.name))]):a("td",{attrs:{width:"40%"}},[e._v(e._s(t.item.deviceGroup.name))]),a("td",{attrs:{width:"10%",title:t.item.roles}},[e._v(e._s(t.item.roles.join(", ")))]),a("td",{attrs:{width:"10%",title:""}},[a("v-tooltip",{attrs:{left:""}},[a("v-btn",{staticClass:"ma-0",attrs:{slot:"activator",icon:""},on:{click:function(a){return a.stopPropagation(),e.showDeleteDialog(t.item)}},slot:"activator"},[a("v-icon",{staticClass:"grey--text"},[e._v("delete")])],1),a("span",[e._v("Delete")])],1)],1)]}}])},[a("template",{slot:"dialogs"},[a("device-group-element-delete-dialog",{ref:"delete",attrs:{token:e.deviceGroup.token},on:{deleted:e.refresh}})],1)],2)},Vq=[],Gq=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-delete-dialog",{ref:"dialog",attrs:{title:"Delete Device Group Element",width:"400",visible:e.visible},on:{delete:e.onDelete,cancel:e.onCancel}},[a("v-card-text",[e._v(e._s(e.message))])],1)},Zq=[],Wq=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.message=null,e}return Object(j["a"])(a,[{key:"prepareLoad",value:function(e){this.deleteId=e;var t={deviceGroupToken:this.token},a={};return oq(this.$store,this.token,t,a)}},{key:"afterLoad",value:function(e){this.message="Are you sure you want to delete this element from the group?"}},{key:"prepareDelete",value:function(e){lq(this.$store,this.token,this.deleteId);var t={deviceGroupToken:this.token},a={};return oq(this.$store,this.token,t,a)}},{key:"onDelete",value:function(e){this.delete()}},{key:"onCancel",value:function(e){this.cancel()}}]),a}(n["DeleteDialogComponent"]);Object(u["a"])([Object(n["Prop"])()],Wq.prototype,"token",void 0),Wq=Object(u["a"])([Object(n["Component"])({})],Wq);var Hq=Wq,Jq=Hq,Qq=Object(f["a"])(Jq,Gq,Zq,!1,null,null,null),Yq=Qq.exports,Kq=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.deviceIcon=I.Device,e.groupIcon=I.DeviceGroup,e.headers=[{align:"left",sortable:!1,text:"Element",value:"element"},{align:"left",sortable:!1,text:"Description",value:"description"},{align:"left",sortable:!1,text:"Roles",value:"roles"},{align:"left",sortable:!1,text:"Delete",value:"delete"}],e.pageSizes=[{text:"25",value:25},{text:"50",value:50},{text:"100",value:100}],e}return Object(j["a"])(a,[{key:"buildSearchCriteria",value:function(){var e={};return e.deviceGroupToken=this.deviceGroup.token,e}},{key:"buildResponseFormat",value:function(){var e={includeDetails:!0};return e}},{key:"performSearch",value:function(e,t){return oq(this.$store,this.deviceGroup.token,e,t)}},{key:"elementClassFor",value:function(e){return e.device?"":"group-element"}},{key:"showDeleteDialog",value:function(e){this.$refs.delete.open(e.id)}}]),a}(n["ListComponent"]);Object(u["a"])([Object(n["Prop"])()],Kq.prototype,"tabkey",void 0),Object(u["a"])([Object(n["Prop"])()],Kq.prototype,"id",void 0),Object(u["a"])([Object(n["Prop"])()],Kq.prototype,"deviceGroup",void 0),Kq=Object(u["a"])([Object(n["Component"])({components:{DeviceGroupElementDeleteDialog:Yq}})],Kq);var Xq=Kq,eR=Xq,tR=(a("d297"),Object(f["a"])(eR,Bq,Vq,!1,null,"f219db48",null)),aR=tR.exports,nR=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("device-group-element-dialog",{ref:"dialog",attrs:{title:"Add Device Group Element",width:"600",createLabel:"Create",cancelLabel:"Cancel"},on:{payload:e.onCommit}})},iR=[],rR=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-base-dialog",{ref:"dialog",attrs:{icon:e.icon,title:e.title,width:e.width,loaded:e.loaded,visible:e.dialogVisible,createLabel:e.createLabel,cancelLabel:e.cancelLabel},on:{createClicked:e.onCreateClicked,cancelClicked:e.onCancelClicked}},[a("template",{slot:"tabs"},[a("v-tab",{key:"details"},[e._v("Details")]),a("v-tab",{key:"roles"},[e._v("Roles")])],1),a("template",{slot:"tab-items"},[a("v-tab-item",{key:"details"},[a("device-group-element-detail-fields",{ref:"details"})],1),a("v-tab-item",{key:"roles"},[a("device-group-element-role-fields",{ref:"roles"})],1)],1)],2)},oR=[],sR=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("dialog-form",[a("v-flex",{attrs:{xs12:""}},[a("form-select",{attrs:{required:"",title:"Type of element to add.",items:e.elementTypes,label:"Element type","item-text":"text","item-value":"value",icon:"info"},model:{value:e.elementType,callback:function(t){e.elementType=t},expression:"elementType"}},[e.$v.elementType.$invalid&&e.$v.$dirty?a("span",[e._v("Element type is required.")]):e._e()])],1),a("v-flex",{attrs:{xs12:""}},[a("v-card",{attrs:{flat:""}},["device"===e.elementType?a("device-chooser",{attrs:{chosenText:"Element points to device below:",notChosenText:"Choose a device from the list below:"},model:{value:e.deviceToken,callback:function(t){e.deviceToken=t},expression:"deviceToken"}}):e._e(),"group"===e.elementType?a("device-group-chooser",{attrs:{chosenText:"Element points to group below:",notChosenText:"Choose a group from the list below:"},model:{value:e.groupToken,callback:function(t){e.groupToken=t},expression:"groupToken"}}):e._e()],1)],1)],1)},lR=[],cR=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("device-chooser-base",{attrs:{all:e.all,chosenText:e.chosenText,notChosenText:e.notChosenText,value:e.value},on:{selected:e.onItemSelected}})},uR=[],dR=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e.selected?a("div",[a("v-card-text",{staticClass:"subheading pb-0 mb-0"},[e._v(e._s(e.chosenText))]),a("v-list",{attrs:{"two-line":"",dense:""}},[a("v-list-tile",{key:e.selected.token,attrs:{avatar:""}},[a("v-list-tile-avatar",[a("img",{attrs:{src:e.selected.deviceType.imageUrl}})]),a("v-list-tile-content",[a("v-list-tile-title",{domProps:{innerHTML:e._s(e.selected.deviceType.name+" ("+e.selected.token+")")}}),a("v-list-tile-sub-title",{domProps:{innerHTML:e._s(e.selected.deviceType.description)}})],1),a("v-list-tile-action",[a("v-btn",{attrs:{icon:"",ripple:""},on:{click:function(t){return t.stopPropagation(),e.onRemoved(!0)}}},[a("v-icon",{staticClass:"grey--text"},[e._v("delete")])],1)],1)],1)],1)],1):a("div",[a("v-card-text",{staticClass:"subheading pb-0 mb-0"},[e._v(e._s(e.notChosenText))]),e.all?a("v-list",{staticClass:"scrolling-list",attrs:{"two-line":"",dense:""}},[e._l(e.all,(function(t){return[a("v-list-tile",{key:t.token,attrs:{avatar:""},on:{click:function(a){return e.onSelected(t,!0)}}},[a("v-list-tile-avatar",[a("img",{attrs:{src:t.deviceType.imageUrl}})]),a("v-list-tile-content",[a("v-list-tile-title",{domProps:{innerHTML:e._s(t.deviceType.name+" ("+t.token+")")}}),a("v-list-tile-sub-title",{domProps:{innerHTML:e._s(t.deviceType.description)}})],1)],1)]}))],2):e._e()],1)])},pR=[],vR=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.selected=null,e}return Object(j["a"])(a,[{key:"onValueChanged",value:function(e){this.onValueUpdated(e)}},{key:"onValueUpdated",value:function(e){var t=this,a=!1;this.all.forEach((function(n){n.token===e&&(a=!0,t.onSelected(n,!1))})),a||this.onRemoved(!1)}},{key:"onSelected",value:function(e,t){this.selected=e,t&&this.$emit("selected",e.token)}},{key:"onRemoved",value:function(e){this.selected=null,e&&this.$emit("selected",null)}},{key:"deviceToken",get:function(){return this.selected?this.selected.token:null}},{key:"deviceType",get:function(){return this.selected?this.selected.deviceType:null}},{key:"deviceTypeName",get:function(){return this.deviceType?this.deviceType.name:null}},{key:"deviceTypeDesc",get:function(){return this.deviceType?this.deviceType.description:null}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],vR.prototype,"value",void 0),Object(u["a"])([Object(n["Prop"])()],vR.prototype,"chosenText",void 0),Object(u["a"])([Object(n["Prop"])()],vR.prototype,"notChosenText",void 0),Object(u["a"])([Object(n["Prop"])()],vR.prototype,"all",void 0),Object(u["a"])([Object(n["Watch"])("value",{immediate:!0})],vR.prototype,"onValueChanged",null),vR=Object(u["a"])([Object(n["Component"])({})],vR);var fR=vR,mR=fR,hR=(a("babf"),Object(f["a"])(mR,dR,pR,!1,null,"5a26113f",null)),bR=hR.exports,yR=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.selected=null,e.all=[],e}return Object(j["a"])(a,[{key:"created",value:function(){this.refresh()}},{key:"refresh",value:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){var t,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={includeDeviceType:!0},a={},e.next=4,lU(this.$store,a,t);case 4:n=e.sent,this.all=n.data.results;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onItemSelected",value:function(e){this.selected=e,this.$emit("input",e)}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],yR.prototype,"value",void 0),Object(u["a"])([Object(n["Prop"])()],yR.prototype,"chosenText",void 0),Object(u["a"])([Object(n["Prop"])()],yR.prototype,"notChosenText",void 0),yR=Object(u["a"])([Object(n["Component"])({components:{DeviceChooserBase:bR}})],yR);var gR=yR,kR=gR,OR=Object(f["a"])(kR,cR,uR,!1,null,null,null),jR=OR.exports,CR=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("chooser",{attrs:{all:e.all,chosenText:e.chosenText,notChosenText:e.notChosenText,value:e.value},on:{selected:e.onItemSelected}})},xR=[],$R=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.selected=null,e.all=[],e}return Object(j["a"])(a,[{key:"created",value:function(){this.refresh()}},{key:"refresh",value:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){var t,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={},a={},e.next=4,rq(this.$store,a,t);case 4:n=e.sent,this.all=n.data.results;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onItemSelected",value:function(e){this.selected=e,this.$emit("input",e)}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],$R.prototype,"value",void 0),Object(u["a"])([Object(n["Prop"])()],$R.prototype,"chosenText",void 0),Object(u["a"])([Object(n["Prop"])()],$R.prototype,"notChosenText",void 0),$R=Object(u["a"])([Object(n["Component"])({components:{Chooser:yC}})],$R);var _R=$R,TR=_R,DR=Object(f["a"])(TR,CR,xR,!1,null,null,null),wR=DR.exports,SR=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.deviceToken=null,e.groupToken=null,e.elementType=null,e.elementTypes=[{text:"Device",value:"device"},{text:"Nested Group",value:"group"}],e}return Object(j["a"])(a,[{key:"reset",value:function(){this.deviceToken=null,this.groupToken=null,this.$v.$reset()}},{key:"validate",value:function(){return this.$v.$touch(),!this.$v.$invalid}},{key:"load",value:function(e){}},{key:"save",value:function(){return"device"===this.elementType&&this.deviceToken?{deviceToken:this.deviceToken}:"group"===this.elementType&&this.groupToken?{nestedGroupToken:this.groupToken}:{}}}]),a}(n["DialogSection"]);SR=Object(u["a"])([Object(n["Component"])({components:{DialogForm:_e,FormSelect:Fe,DeviceChooser:jR,DeviceGroupChooser:wR},validations:{elementType:{required:Ne["required"]}}})],SR);var AR=SR,PR=AR,ER=Object(f["a"])(PR,sR,lR,!1,null,null,null),LR=ER.exports,UR=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("dialog-form",[a("v-flex",{attrs:{xs12:""}},[a("v-card",{attrs:{flat:""}},[a("v-card-text",[a("roles-field",{model:{value:e.elementRoles,callback:function(t){e.elementRoles=t},expression:"elementRoles"}})],1)],1)],1)],1)},IR=[],qR=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.elementRoles=[],e}return Object(j["a"])(a,[{key:"reset",value:function(){this.elementRoles=[]}},{key:"validate",value:function(){return!0}},{key:"load",value:function(e){}},{key:"save",value:function(){return{roles:this.elementRoles}}}]),a}(n["DialogSection"]);qR=Object(u["a"])([Object(n["Component"])({components:{DialogForm:_e,RolesField:VI}})],qR);var RR=qR,MR=RR,FR=Object(f["a"])(MR,UR,IR,!1,null,null,null),NR=FR.exports,zR=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"generatePayload",value:function(){var e={};return Object.assign(e,this.$refs.details.save(),this.$refs.roles.save()),e}},{key:"reset",value:function(){this.$refs.details&&this.$refs.details.reset(),this.$refs.roles&&this.$refs.roles.reset(),this.$refs.dialog.setActiveTab(0)}},{key:"load",value:function(e){this.reset(),this.$refs.details&&this.$refs.details.load(e),this.$refs.roles&&this.$refs.roles.load(e)}},{key:"onCreateClicked",value:function(e){if(this.$refs.details.validate())if(this.$refs.roles.validate()){var t=this.generatePayload();this.$emit("payload",t)}else this.$refs.dialog.setActiveTab(1);else this.$refs.dialog.setActiveTab(0)}},{key:"icon",get:function(){return I.DeviceGroup}}]),a}(n["DialogComponent"]);zR=Object(u["a"])([Object(n["Component"])({components:{DeviceGroupElementDetailFields:LR,DeviceGroupElementRoleFields:NR}})],zR);var BR=zR,VR=BR,GR=Object(f["a"])(VR,rR,oR,!1,null,null,null),ZR=GR.exports,WR=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"getDialog",value:function(){return this.$refs.dialog}},{key:"onCommit",value:function(e){this.commit(e)}},{key:"save",value:function(e){var t=[];return t.push(e),sq(this.$store,this.token,t)}},{key:"afterSave",value:function(e){}}]),a}(n["CreateDialogComponent"]);Object(u["a"])([Object(n["Prop"])()],WR.prototype,"token",void 0),WR=Object(u["a"])([Object(n["Component"])({components:{DeviceGroupElementDialog:ZR}})],WR);var HR=WR,JR=HR,QR=Object(f["a"])(JR,nR,iR,!1,null,null,null),YR=QR.exports,KR=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.active=null,e}return Object(j["a"])(a,[{key:"loadRecord",value:function(e){var t={includeAsset:!0};return nq(this.$store,e,t)}},{key:"afterRecordLoaded",value:function(e){var t={id:"groups",title:"Device Group",icon:"cubes",route:"/admin/groups/"+e.token,longTitle:"Manage Device Group: "+e.token};this.$store.commit("currentSection",t)}},{key:"onEdit",value:function(){this.token&&this.$refs.edit.open(this.token)}},{key:"onDelete",value:function(){this.token&&this.$refs.delete.open(this.token)}},{key:"onDeviceGroupDeleted",value:function(){ue(this,"/groups")}},{key:"onAddGroupElement",value:function(){this.$refs.create.open()}},{key:"onElementAdded",value:function(){this.$refs.list.refresh()}},{key:"deviceGroup",get:function(){return this.record}},{key:"icon",get:function(){return I.DeviceGroup}},{key:"title",get:function(){return this.deviceGroup?'Manage device group "'.concat(this.deviceGroup.name,'"'):""}}]),a}(n["DetailComponent"]);KR=Object(u["a"])([Object(n["Component"])({components:{DeviceGroupDetailHeader:Dq,DeviceGroupUpdateDialog:Uq,DeviceGroupDeleteDialog:zq,DeviceGroupElements:aR,DeviceGroupElementCreateDialog:YR,AddButton:cp,EditButton:dv,DeleteButton:yv}})],KR);var XR=KR,eM=XR,tM=Object(f["a"])(eM,kq,Oq,!1,null,null,null),aM=tM.exports,nM=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-navigation-page",{attrs:{icon:"fa-microchip",title:"Manage Device States",loadingMessage:"Loading device states ...",loaded:e.loaded}},[a("div",{attrs:{slot:"actions"},slot:"actions"}),a("div",{attrs:{slot:"content"},slot:"content"},[a("v-card",[a("v-card-text",[e._v("Device States")])],1),a("sw-pager",{attrs:{results:e.results},on:{pagingUpdated:e.updatePaging}})],1)])},iM=[];function rM(e,t,a){var n=lt(e),i=B["API"].DeviceStates.searchDeviceStates(n,t,a);return ut(e,i)}var oM={data:function(){return{results:null,paging:null,deviceStates:null,loaded:!1}},methods:{updatePaging:function(e){this.$data.paging=e,this.refresh()},refresh:function(){this.$data.loaded=!1;var e=this.$data.paging,t=this,a={};a.pageNumber=e.page,a.pageSize=e.pageSize;var n={includeDevice:!0,includeDeviceType:!0,includeCustomer:!0,includeArea:!0,includeAsset:!0,includeEventDetails:!0};rM(this.$store,a,n).then((function(e){t.loaded=!0,t.results=e.data,t.deviceStates=e.data.results})).catch((function(e){t.loaded=!0}))}}},sM=oM,lM=Object(f["a"])(sM,nM,iM,!1,null,"6fd20369",null),cM=lM.exports,uM=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-list-page",{attrs:{icon:e.icon,title:"Asset Types",loadingMessage:"Loading asset types ...",loaded:e.loaded,results:e.results},on:{pagingUpdated:e.onPagingUpdated}},[a("sw-list-layout",e._l(e.matches,(function(t){return a("v-flex",{key:t.token,attrs:{xs6:""}},[a("asset-type-list-entry",{attrs:{assetType:t},on:{assetTypeOpened:e.onOpenAssetType,assetTypeDeleted:e.refresh}})],1)})),1),a("template",{slot:"noresults"},[a("no-results-panel",[a("div",[e._v("No asset types have been created for this tenant.")]),a("div",{staticClass:"mt-2"},[e._v(" Click "),a("v-icon",{staticClass:"pl-1 pr-2",attrs:{small:""}},[e._v(e._s(e.addIcon))]),e._v("in the toolbar to add an asset type. ")],1)])],1),a("template",{slot:"dialogs"},[a("asset-type-create-dialog",{ref:"add",on:{assetTypeAdded:e.refresh}})],1),a("template",{slot:"actions"},[a("add-button",{attrs:{tooltip:"Add Asset Type"},on:{action:e.onAddAssetType}})],1)],2)},dM=[],pM=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-list-entry",[a("v-container",{attrs:{fluid:""},on:{click:e.onAssetTypeClicked}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs3:""}},[a("branding-image",{style:e.logoStyle,attrs:{entity:e.assetType}})],1),a("v-flex",{attrs:{xs9:""}},[a("div",[a("div",{staticClass:"title ellipsis mb-1"},[e._v(e._s(e.assetType.name))]),a("div",{staticClass:"atdesc"},[e._v(e._s(e.assetType.description))])])])],1)],1)],1)},vM=[],fM=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"onAssetTypeClicked",value:function(){this.$emit("assetTypeOpened",this.assetType)}},{key:"logoStyle",get:function(){return{height:"120px",width:"120px","padding-left":"15px"}}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],fM.prototype,"assetType",void 0),fM=Object(u["a"])([Object(n["Component"])({components:{BrandingImage:Qu}})],fM);var mM=fM,hM=mM,bM=(a("93c4"),Object(f["a"])(hM,pM,vM,!1,null,"2986bcad",null)),yM=bM.exports,gM=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("asset-type-dialog",{ref:"dialog",attrs:{title:"Create Asset Type",resetOnOpen:"true",createLabel:"Create",cancelLabel:"Cancel"},on:{payload:e.onCommit}})},kM=[],OM=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-base-dialog",{ref:"dialog",attrs:{icon:e.icon,title:e.title,width:e.width,loaded:e.loaded,visible:e.dialogVisible,createLabel:e.createLabel,cancelLabel:e.cancelLabel},on:{createClicked:e.onCreateClicked,cancelClicked:e.onCancelClicked}},[a("template",{slot:"tabs"},[a("v-tab",{key:"details"},[e._v("Details")]),a("v-tab",{key:"branding"},[e._v("Branding")]),a("v-tab",{key:"metadata"},[e._v("Metadata")])],1),a("template",{slot:"tab-items"},[a("v-tab-item",{key:"details"},[a("asset-type-detail-fields",{ref:"details"})],1),a("v-tab-item",{key:"branding"},[a("branding-panel",{ref:"branding"})],1),a("v-tab-item",{key:"metadata"},[a("sw-metadata-panel",{ref:"metadata"})],1)],1)],2)},jM=[],CM=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("dialog-form",[a("v-flex",{attrs:{xs12:""}},[a("form-token",{attrs:{required:"",label:"Asset type token",title:"Unique token for referencing asset type.",validator:e.$v},model:{value:e.token,callback:function(t){e.token=t},expression:"token"}})],1),a("v-flex",{attrs:{xs12:""}},[a("form-text",{attrs:{required:"",label:"Name",title:"Name displayed for asset type.",icon:"info"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}},[e.$v.name.$invalid&&e.$v.$dirty?a("span",[e._v("Name is required.")]):e._e()])],1),a("v-flex",{attrs:{xs12:""}},[a("form-text-area",{attrs:{required:"",title:"Asset type description.",label:"Description",icon:"info"},model:{value:e.description,callback:function(t){e.description=t},expression:"description"}},[e.$v.description.$invalid&&e.$v.$dirty?a("span",[e._v("Description is required.")]):e._e()])],1),a("v-flex",{attrs:{xs12:""}},[a("form-select",{attrs:{required:"",title:"Category asset type belongs to",items:e.assetCatgories,label:"Asset Category","item-text":"text","item-value":"value",icon:"info"},model:{value:e.assetCategory,callback:function(t){e.assetCategory=t},expression:"assetCategory"}},[e.$v.assetCategory.$invalid&&e.$v.$dirty?a("span",[e._v("Asset category is required.")]):e._e()])],1)],1)},xM=[],$M=Ne["helpers"].regex("validToken",/^[a-zA-Z0-9-_]+$/),_M=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.token=null,e.name=null,e.description=null,e.assetCategory=null,e.assetCatgories=[{text:"Device",value:"Device"},{text:"Person",value:"Person"},{text:"Hardware",value:"Hardware"}],e}return Object(j["a"])(a,[{key:"reset",value:function(){this.token=null,this.name=null,this.description=null,this.assetCategory=null,this.$v.$reset()}},{key:"validate",value:function(){return this.$v.$touch(),!this.$v.$invalid}},{key:"load",value:function(e){this.token=e.token,this.name=e.name,this.description=e.description,this.assetCategory=e.assetCategory}},{key:"save",value:function(){return{token:this.token,name:this.name,description:this.description,assetCategory:this.assetCategory}}}]),a}(n["DialogSection"]);_M=Object(u["a"])([Object(n["Component"])({components:{DialogForm:_e,FormToken:fd,FormText:Ee,FormTextArea:il,FormSelect:Fe},validations:{token:{required:Ne["required"],validToken:$M},name:{required:Ne["required"]},description:{required:Ne["required"]},assetCategory:{required:Ne["required"]}}})],_M);var TM=_M,DM=TM,wM=Object(f["a"])(DM,CM,xM,!1,null,null,null),SM=wM.exports,AM=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"generatePayload",value:function(){var e={};return Object.assign(e,this.$refs.details.save(),this.$refs.branding.save(),this.$refs.metadata.save()),e}},{key:"reset",value:function(){this.$refs.details&&this.$refs.details.reset(),this.$refs.branding&&this.$refs.branding.reset(),this.$refs.metadata&&this.$refs.metadata.reset(),this.$refs.dialog.setActiveTab(0)}},{key:"load",value:function(e){this.reset(),this.$refs.details&&this.$refs.details.load(e),this.$refs.branding&&this.$refs.branding.load(e),this.$refs.metadata&&this.$refs.metadata.load(e)}},{key:"onCreateClicked",value:function(e){if(this.$refs.details.validate())if(this.$refs.branding.validate()){var t=this.generatePayload();console.log("Before payload emit:",this),this.$emit("payload",t)}else this.$refs.dialog.setActiveTab(1);else this.$refs.dialog.setActiveTab(0)}},{key:"icon",get:function(){return I.AssetType}}]),a}(n["DialogComponent"]);AM=Object(u["a"])([Object(n["Component"])({components:{AssetTypeDetailFields:SM,BrandingPanel:Pa}})],AM);var PM=AM,EM=PM,LM=Object(f["a"])(EM,OM,jM,!1,null,null,null),UM=LM.exports;function IM(e,t){var a=lt(e),n=B["API"].AssetTypes.createAssetType(a,t);return ut(e,n)}function qM(e,t,a){var n=lt(e),i=B["API"].AssetTypes.getAssetType(n,t,a);return ut(e,i)}function RM(e,t,a){var n=lt(e),i=B["API"].AssetTypes.updateAssetType(n,t,a);return ut(e,i)}function MM(e,t,a){var n=lt(e),i=B["API"].AssetTypes.listAssetTypes(n,t,a);return ut(e,i)}function FM(e,t){var a=lt(e),n=B["API"].AssetTypes.deleteAssetType(a,t);return ut(e,n)}var NM=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"getDialog",value:function(){return this.$refs.dialog}},{key:"onCommit",value:function(e){this.commit(e)}},{key:"save",value:function(e){return IM(this.$store,e)}},{key:"afterSave",value:function(e){this.$emit("assetTypeAdded",e)}}]),a}(n["CreateDialogComponent"]);NM=Object(u["a"])([Object(n["Component"])({components:{AssetTypeDialog:UM}})],NM);var zM=NM,BM=zM,VM=Object(f["a"])(BM,gM,kM,!1,null,null,null),GM=VM.exports,ZM=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.addIcon=I.Add,e}return Object(j["a"])(a,[{key:"buildSearchCriteria",value:function(){var e={};return e}},{key:"buildResponseFormat",value:function(){var e={};return e}},{key:"performSearch",value:function(e,t){return MM(this.$store,e,t)}},{key:"onOpenAssetType",value:function(e){ue(this,"/assettypes/"+e.token)}},{key:"onAddAssetType",value:function(){this.$refs.add.open()}},{key:"icon",get:function(){return I.AssetType}}]),a}(n["ListComponent"]);ZM=Object(u["a"])([Object(n["Component"])({components:{AssetTypeListEntry:yM,AssetTypeCreateDialog:GM,AddButton:cp,NoResultsPanel:hp}})],ZM);var WM=ZM,HM=WM,JM=Object(f["a"])(HM,uM,dM,!1,null,null,null),QM=JM.exports,YM=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-detail-page",{attrs:{icon:e.icon,title:e.title,loadingMessage:"Loading asset type ...",loaded:e.loaded,record:e.assetType}},[a("template",{slot:"header"},[e.assetType?a("asset-type-detail-header",{attrs:{record:e.assetType},on:{assetTypeDeleted:e.onAssetTypeDeleted,assetTypeUpdated:e.onAssetTypeUpdated}}):e._e()],1),a("template",{slot:"tabs"},[a("v-tab",{key:"assets"},[e._v("Assets")])],1),a("template",{slot:"tab-items"},[a("asset-type-assets",{ref:"assets",attrs:{tabkey:"assets",assetTypeToken:e.token}})],1),a("template",{slot:"dialogs"},[a("asset-type-update-dialog",{ref:"edit",attrs:{token:e.token},on:{assetTypeUpdated:e.onAssetTypeUpdated}}),a("asset-type-delete-dialog",{ref:"delete",attrs:{token:e.token},on:{assetTypeDeleted:e.onAssetTypeDeleted}})],1),a("template",{slot:"actions"},[a("edit-button",{attrs:{tooltip:"Edit Asset Type"},on:{action:e.onEdit}}),a("delete-button",{attrs:{tooltip:"Delete Asset Type"},on:{action:e.onDelete}})],1)],2)},KM=[],XM=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.assetType?a("sw-navigation-header-panel",{attrs:{height:"190px"}},[a("template",{slot:"left"},[a("sw-header-branding-panel",{attrs:{entity:e.assetType}})],1),a("template",{slot:"content"},[a("sw-navigation-header-fields",[a("sw-header-field",{attrs:{label:"Token"}},[a("clipboard-copy-field",{attrs:{field:e.assetType.token,message:"Token copied to clipboard"}})],1),a("sw-header-field",{attrs:{label:"Name"}},[a("span",[e._v(e._s(e.assetType.name))])]),a("sw-header-field",{attrs:{label:"Description"}},[a("span",[e._v(e._s(e.assetType.description))])]),a("sw-header-field",{attrs:{label:"Created"}},[a("span",[e._v(e._s(e.formatDate(e.assetType.createdDate)))])]),a("sw-header-field",{attrs:{label:"Updated"}},[a("span",[e._v(e._s(e.formatDate(e.assetType.updatedDate)))])])],1)],1),a("template",{slot:"right"},[a("authenticated-image",{attrs:{url:e.qrCodeUrl}})],1)],2):e._e()},eF=[],tF=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"formatDate",value:function(e){return se(e)}},{key:"assetType",get:function(){return this.record}},{key:"token",get:function(){return this.assetType?this.assetType.token:""}},{key:"qrCodeUrl",get:function(){return"assettypes/"+this.token+"/label/qrcode"}}]),a}(n["HeaderComponent"]);tF=Object(u["a"])([Object(n["Component"])({components:{ClipboardCopyField:rn,AuthenticatedImage:pn}})],tF);var aF=tF,nF=aF,iF=Object(f["a"])(nF,XM,eF,!1,null,null,null),rF=iF.exports,oF=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-list-tab",{attrs:{tabkey:e.tabkey,id:e.id,loaded:e.loaded,results:e.results,loadingMessage:"Loading assets ..."},on:{pagingUpdated:e.onPagingUpdated}},[a("sw-list-layout",e._l(e.matches,(function(e){return a("v-flex",{key:e.token,attrs:{xs6:""}},[a("asset-list-entry",{attrs:{asset:e}})],1)})),1),a("template",{slot:"noresults"},[a("no-results-panel",[a("div",[e._v("There are no assets of this type.")])])],1)],2)},sF=[],lF=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-list-entry",[a("v-container",{attrs:{fluid:""},on:{click:e.onAssetClicked}},[a("v-layout",{attrs:{row:""}},[a("v-flex",{attrs:{xs2:""}},[a("branding-image",{style:e.logoStyle,attrs:{entity:e.assetOrAssetType}})],1),a("v-flex",{attrs:{xs10:""}},[a("div",[a("div",{staticClass:"title ellipsis mb-1"},[e._v(e._s(e.asset.name))]),a("div",[e._v(e._s(e.asset.token))])])])],1)],1)],1)},cF=[],uF=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"onAssetClicked",value:function(){this.$emit("assetOpened",this.asset)}},{key:"assetOrAssetType",get:function(){if(this.asset){if(this.asset.imageUrl)return console.log("default"),this.asset;if(this.asset.assetType)return console.log("choose asset type"),this.asset.assetType}return console.log("fallthrough"),this.asset}},{key:"logoStyle",get:function(){return{height:"80px",width:"80px",padding:"5px"}}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],uF.prototype,"asset",void 0),uF=Object(u["a"])([Object(n["Component"])({components:{BrandingImage:Qu}})],uF);var dF=uF,pF=dF,vF=Object(f["a"])(pF,lF,cF,!1,null,null,null),fF=vF.exports,mF=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"buildSearchCriteria",value:function(){var e={};return e.assetTypeToken=this.assetTypeToken,e}},{key:"buildResponseFormat",value:function(){var e={};return e}},{key:"performSearch",value:function(e,t){return Mj(this.$store,e,t)}}]),a}(n["ListComponent"]);Object(u["a"])([Object(n["Prop"])()],mF.prototype,"tabkey",void 0),Object(u["a"])([Object(n["Prop"])()],mF.prototype,"id",void 0),Object(u["a"])([Object(n["Prop"])()],mF.prototype,"assetTypeToken",void 0),mF=Object(u["a"])([Object(n["Component"])({components:{AssetListEntry:fF,NoResultsPanel:hp}})],mF);var hF=mF,bF=hF,yF=Object(f["a"])(bF,oF,sF,!1,null,null,null),gF=yF.exports,kF=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-delete-dialog",{ref:"dialog",attrs:{title:"Delete Asset Type",width:"400",visible:e.visible},on:{delete:e.onDelete,cancel:e.onCancel}},[a("v-card-text",[e._v(e._s(e.message))])],1)},OF=[],jF=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.message=null,e}return Object(j["a"])(a,[{key:"prepareLoad",value:function(e){var t={};return qM(this.$store,e,t)}},{key:"afterLoad",value:function(e){this.message="Are you sure you want to delete '".concat(e.name,"'?")}},{key:"prepareDelete",value:function(e){return FM(this.$store,e.token)}},{key:"onDelete",value:function(e){this.delete()}},{key:"onCancel",value:function(e){this.cancel()}}]),a}(n["DeleteDialogComponent"]);jF=Object(u["a"])([Object(n["Component"])({})],jF);var CF=jF,xF=CF,$F=Object(f["a"])(xF,kF,OF,!1,null,null,null),_F=$F.exports,TF=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("asset-type-dialog",{ref:"dialog",attrs:{title:"Edit Asset Type",loaded:e.loaded,createLabel:"Update",cancelLabel:"Cancel"},on:{payload:e.onSave}})},DF=[],wF=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"getDialog",value:function(){return this.$refs.dialog}},{key:"prepareLoad",value:function(e){var t={};return qM(this.$store,e,t)}},{key:"prepareSave",value:function(e,t){return RM(this.$store,e.token,t)}},{key:"onSave",value:function(e){this.save(e)}},{key:"afterSave",value:function(e){this.$emit("assetTypeUpdated",e)}}]),a}(n["EditDialogComponent"]);wF=Object(u["a"])([Object(n["Component"])({components:{AssetTypeDialog:UM}})],wF);var SF=wF,AF=SF,PF=Object(f["a"])(AF,TF,DF,!1,null,null,null),EF=PF.exports,LF=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"loadRecord",value:function(e){var t={includeContainedAreaTypes:!1};return qM(this.$store,e,t)}},{key:"afterRecordLoaded",value:function(e){var t={id:"assettypes",title:"Asset Types",icon:I.AssetType,route:"/admin/assettypes/"+e.token,longTitle:"Manage Asset Type: "+e.name};this.$store.commit("currentSection",t)}},{key:"onEdit",value:function(){this.token&&this.$refs.edit.open(this.token)}},{key:"onAssetTypeUpdated",value:function(){this.refresh()}},{key:"onDelete",value:function(){this.$refs["delete"].showDeleteDialog()}},{key:"onAssetTypeDeleted",value:function(){ue(this,"/assettypes")}},{key:"assetType",get:function(){return this.record}},{key:"icon",get:function(){return I.AssetType}},{key:"title",get:function(){return this.assetType?this.assetType.name:""}}]),a}(n["DetailComponent"]);LF=Object(u["a"])([Object(n["Component"])({components:{AssetTypeDetailHeader:rF,AssetTypeAssets:gF,AssetListEntry:fF,AssetTypeDeleteDialog:_F,AssetTypeUpdateDialog:EF,EditButton:dv,DeleteButton:yv}})],LF);var UF=LF,IF=UF,qF=Object(f["a"])(IF,YM,KM,!1,null,null,null),RF=qF.exports,MF=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-list-page",{attrs:{icon:e.icon,title:"Assets",loadingMessage:"Loading assets ...",loaded:e.loaded,results:e.results,pageSizes:e.pageSizes},on:{pagingUpdated:e.onPagingUpdated}},[a("sw-list-layout",e._l(e.matches,(function(t){return a("v-flex",{key:t.token,attrs:{xs6:""}},[a("asset-list-entry",{attrs:{asset:t},on:{assetOpened:e.onOpenAsset}})],1)})),1),a("template",{slot:"noresults"},[a("no-results-panel",[a("div",[e._v("No assets have been created for this tenant.")]),a("div",{staticClass:"mt-2"},[e._v(" Click "),a("v-icon",{staticClass:"pl-1 pr-2",attrs:{small:""}},[e._v(e._s(e.addIcon))]),e._v("in the toolbar to add an asset. ")],1)])],1),a("template",{slot:"dialogs"},[a("asset-create-dialog",{ref:"add",on:{assetAdded:e.refresh}})],1),a("template",{slot:"actions"},[a("sw-navigation-action-button",{attrs:{icon:"plus",tooltip:"Add Asset"},on:{action:e.onAddAsset}})],1)],2)},FF=[],NF=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("asset-dialog",{ref:"dialog",attrs:{title:"Create Asset",width:"600",resetOnOpen:"true",createLabel:"Create",cancelLabel:"Cancel"},on:{payload:e.onCommit}})},zF=[],BF=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-base-dialog",{ref:"dialog",attrs:{icon:e.icon,title:e.title,width:e.width,loaded:e.loaded,visible:e.dialogVisible,createLabel:e.createLabel,cancelLabel:e.cancelLabel},on:{createClicked:e.onCreateClicked,cancelClicked:e.onCancelClicked}},[a("template",{slot:"tabs"},[a("v-tab",{key:"details"},[e._v("Details")]),a("v-tab",{key:"branding"},[e._v("Branding")]),a("v-tab",{key:"metadata"},[e._v("Metadata")])],1),a("template",{slot:"tab-items"},[a("v-tab-item",{key:"details"},[a("asset-detail-fields",{ref:"details"})],1),a("v-tab-item",{key:"branding"},[a("branding-panel",{ref:"branding"})],1),a("v-tab-item",{key:"metadata"},[a("sw-metadata-panel",{ref:"metadata"})],1)],1)],2)},VF=[],GF=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("dialog-form",[a("v-flex",{attrs:{xs12:""}},[a("form-token",{attrs:{required:"",label:"Asset token",title:"Unique token for referencing asset.",validator:e.$v},model:{value:e.token,callback:function(t){e.token=t},expression:"token"}})],1),a("v-flex",{attrs:{xs12:""}},[a("form-text",{attrs:{required:"",label:"Name",title:"Name displayed for asset type.",icon:"info"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}},[e.$v.name.$invalid&&e.$v.$dirty?a("span",[e._v("Name is required.")]):e._e()])],1),a("v-flex",{attrs:{xs12:""}},[a("asset-type-selector",{attrs:{title:"Type of asset being created."},model:{value:e.assetTypeToken,callback:function(t){e.assetTypeToken=t},expression:"assetTypeToken"}},[e.$v.assetTypeToken.$invalid&&e.$v.$dirty?a("span",[e._v("Asset type is required.")]):e._e()])],1)],1)},ZF=[],WF=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("form-select",{attrs:{items:e.assetTypes,title:e.title||"Choose type of asset",label:e.label||"Asset Type","item-text":"name","item-value":"token",icon:"settings"},model:{value:e.wrapped,callback:function(t){e.wrapped=t},expression:"wrapped"}},[e._t("default")],2)},HF=[],JF=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.assetTypes=[],e}return Object(j["a"])(a,[{key:"created",value:function(){var e=Object(O["a"])(regeneratorRuntime.mark((function e(){var t,a,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={pageNumber:1,pageSize:0},a={},e.prev=2,e.next=5,MM(this.$store,t,a);case 5:n=e.sent,this.assetTypes=n.data.results,e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),ie(e.t0);case 12:case"end":return e.stop()}}),e,this,[[2,9]])})));function t(){return e.apply(this,arguments)}return t}()},{key:"wrapped",get:function(){return this.value},set:function(e){this.$emit("input",e)}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])(String)],JF.prototype,"value",void 0),Object(u["a"])([Object(n["Prop"])(String)],JF.prototype,"title",void 0),Object(u["a"])([Object(n["Prop"])(String)],JF.prototype,"label",void 0),JF=Object(u["a"])([Object(n["Component"])({components:{FormSelect:Fe}})],JF);var QF=JF,YF=QF,KF=Object(f["a"])(YF,WF,HF,!1,null,null,null),XF=KF.exports,eN=Ne["helpers"].regex("validToken",/^[a-zA-Z0-9-_]+$/),tN=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.token=null,e.name=null,e.assetTypeToken=null,e}return Object(j["a"])(a,[{key:"reset",value:function(){this.token=null,this.name=null,this.assetTypeToken=null,this.$v.$reset()}},{key:"validate",value:function(){return this.$v.$touch(),!this.$v.$invalid}},{key:"load",value:function(e){this.token=e.token,this.name=e.name,this.assetTypeToken=e.assetType.token}},{key:"save",value:function(){return{token:this.token,name:this.name,assetTypeToken:this.assetTypeToken}}}]),a}(n["DialogSection"]);tN=Object(u["a"])([Object(n["Component"])({components:{DialogForm:_e,FormToken:fd,FormText:Ee,AssetTypeSelector:XF},validations:{token:{required:Ne["required"],validToken:eN},name:{required:Ne["required"]},assetTypeToken:{required:Ne["required"]}}})],tN);var aN=tN,nN=aN,iN=Object(f["a"])(nN,GF,ZF,!1,null,null,null),rN=iN.exports,oN=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"generatePayload",value:function(){var e={};return Object.assign(e,this.$refs.details.save(),this.$refs.branding.save(),this.$refs.metadata.save()),e}},{key:"reset",value:function(){this.$refs.details&&this.$refs.details.reset(),this.$refs.branding&&this.$refs.branding.reset(),this.$refs.metadata&&this.$refs.metadata.reset(),this.$refs.dialog.setActiveTab(0)}},{key:"load",value:function(e){this.reset(),this.$refs.details&&this.$refs.details.load(e),this.$refs.branding&&this.$refs.branding.load(e),this.$refs.metadata&&this.$refs.metadata.load(e)}},{key:"onCreateClicked",value:function(e){if(this.$refs.details.validate())if(this.$refs.branding.validate()){var t=this.generatePayload();this.$emit("payload",t)}else this.$refs.dialog.setActiveTab(1);else this.$refs.dialog.setActiveTab(0)}},{key:"icon",get:function(){return I.Asset}}]),a}(n["DialogComponent"]);oN=Object(u["a"])([Object(n["Component"])({components:{AssetDetailFields:rN,BrandingPanel:Pa}})],oN);var sN=oN,lN=sN,cN=Object(f["a"])(lN,BF,VF,!1,null,null,null),uN=cN.exports,dN=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"getDialog",value:function(){return this.$refs.dialog}},{key:"onCommit",value:function(e){this.commit(e)}},{key:"save",value:function(e){return Ij(this.$store,e)}},{key:"afterSave",value:function(e){this.$emit("assetAdded",e)}}]),a}(n["CreateDialogComponent"]);dN=Object(u["a"])([Object(n["Component"])({components:{AssetDialog:uN}})],dN);var pN=dN,vN=pN,fN=Object(f["a"])(vN,NF,zF,!1,null,null,null),mN=fN.exports,hN=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.addIcon=I.Add,e.pageSizes=[{text:"20",value:20},{text:"50",value:50},{text:"100",value:100}],e}return Object(j["a"])(a,[{key:"buildSearchCriteria",value:function(){var e={};return e}},{key:"buildResponseFormat",value:function(){var e={includeAssetType:!0};return e.includeAssetType=!0,e}},{key:"performSearch",value:function(e,t){return Mj(this.$store,e,t)}},{key:"onOpenAsset",value:function(e){ue(this,"/assets/"+e.token)}},{key:"onAddAsset",value:function(){this.$refs.add.open()}},{key:"icon",get:function(){return I.Asset}}]),a}(n["ListComponent"]);hN=Object(u["a"])([Object(n["Component"])({components:{AssetListEntry:fF,AssetCreateDialog:mN,NoResultsPanel:hp}})],hN);var bN=hN,yN=bN,gN=Object(f["a"])(yN,MF,FF,!1,null,null,null),kN=gN.exports,ON=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-detail-page",{attrs:{icon:e.icon,title:e.title,loadingMessage:"Loading asset ...",loaded:e.loaded,record:e.asset}},[a("template",{slot:"header"},[a("asset-detail-header",{attrs:{record:e.asset}})],1),a("template",{slot:"tabs"},[a("v-tab",{key:"assignments"},[e._v("Assignments")])],1),a("template",{slot:"tab-items"},[a("asset-assignments",{ref:"assignments",attrs:{tabkey:"assignments",assetToken:e.token}})],1),a("template",{slot:"dialogs"},[a("asset-update-dialog",{ref:"edit",attrs:{token:e.token},on:{asseUpdated:e.onAssetUpdated}}),a("asset-delete-dialog",{ref:"delete",attrs:{token:e.token},on:{assetDeleted:e.onAssetDeleted}})],1),a("template",{slot:"actions"},[a("sw-navigation-action-button",{attrs:{icon:"edit",tooltip:"Edit Device"},on:{action:e.onEdit}}),a("sw-navigation-action-button",{attrs:{icon:"times",tooltip:"Delete Device"},on:{action:e.onDelete}})],1)],2)},jN=[],CN=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.asset?a("sw-navigation-header-panel",{attrs:{imageUrl:e.imageUrl,height:"200px"}},[a("template",{slot:"left"},[a("sw-header-branding-panel",{attrs:{entity:e.asset}})],1),a("template",{slot:"content"},[a("sw-navigation-header-fields",[a("sw-header-field",{attrs:{label:"Token"}},[a("clipboard-copy-field",{attrs:{field:e.asset.token,message:"Token copied to clipboard"}})],1),a("sw-header-field",{attrs:{label:"Name"}},[a("span",[e._v(e._s(e.asset.name))])]),a("sw-linked-header-field",{attrs:{label:"Asset Type",text:e.asset.assetType.name,url:"/assettypes/"+e.asset.assetType.token}}),a("sw-header-field",{attrs:{label:"Image URL"}},[a("span",[e._v(e._s(e.asset.imageUrl))])]),a("sw-header-field",{attrs:{label:"Created"}},[a("span",[e._v(e._s(e.formatDate(e.asset.createdDate)))])]),a("sw-header-field",{attrs:{label:"Updated"}},[a("span",[e._v(e._s(e.formatDate(e.asset.updatedDate)))])])],1)],1),a("template",{slot:"right"},[a("authenticated-image",{attrs:{url:e.qrCodeUrl}})],1)],2):e._e()},xN=[],$N=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"formatDate",value:function(e){return se(e)}},{key:"asset",get:function(){return this.record}},{key:"token",get:function(){return this.asset?this.asset.token:""}},{key:"qrCodeUrl",get:function(){return"assets/"+this.token+"/label/qrcode"}}]),a}(n["HeaderComponent"]);$N=Object(u["a"])([Object(n["Component"])({components:{ClipboardCopyField:rn,AuthenticatedImage:pn}})],$N);var _N=$N,TN=_N,DN=Object(f["a"])(TN,CN,xN,!1,null,null,null),wN=DN.exports,SN=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-list-tab",{attrs:{tabkey:e.tabkey,id:e.id,loaded:e.loaded,results:e.results},on:{pagingUpdated:e.onPagingUpdated}},[a("sw-list-layout",e._l(e.matches,(function(t){return a("v-flex",{key:t.token,attrs:{xs12:""}},[a("assignment-list-entry",{attrs:{assignment:t},on:{assignmentOpened:function(a){return e.onOpenAssignment(t)},refresh:e.refresh}})],1)})),1)],1)},AN=[],PN=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"buildSearchCriteria",value:function(){var e={};return e.assetTokens=[this.assetToken],e}},{key:"buildResponseFormat",value:function(){var e={includeDevice:!0,includeCustomer:!0,includeArea:!0,includeAsset:!0};return e}},{key:"performSearch",value:function(e,t){return sm(this.$store,e,t)}},{key:"onOpenAssignment",value:function(e){ue(this,"/assignments/"+e.token)}}]),a}(n["ListComponent"]);Object(u["a"])([Object(n["Prop"])()],PN.prototype,"tabkey",void 0),Object(u["a"])([Object(n["Prop"])()],PN.prototype,"id",void 0),Object(u["a"])([Object(n["Prop"])()],PN.prototype,"assetToken",void 0),PN=Object(u["a"])([Object(n["Component"])({components:{AssignmentListEntry:im}})],PN);var EN=PN,LN=EN,UN=Object(f["a"])(LN,SN,AN,!1,null,null,null),IN=UN.exports,qN=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-delete-dialog",{ref:"dialog",attrs:{title:"Delete Asset",width:"400",visible:e.visible},on:{delete:e.onDelete,cancel:e.onCancel}},[a("v-card-text",[e._v(e._s(e.message))])],1)},RN=[],MN=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.message=null,e}return Object(j["a"])(a,[{key:"prepareLoad",value:function(e){var t={};return qj(this.$store,e,t)}},{key:"afterLoad",value:function(e){this.message="Are you sure you want to delete '".concat(e.name,"'?")}},{key:"prepareDelete",value:function(e){return Fj(this.$store,e.token)}},{key:"onDelete",value:function(e){this.delete()}},{key:"onCancel",value:function(e){this.cancel()}}]),a}(n["DeleteDialogComponent"]);MN=Object(u["a"])([Object(n["Component"])({})],MN);var FN=MN,NN=FN,zN=Object(f["a"])(NN,qN,RN,!1,null,null,null),BN=zN.exports,VN=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("asset-dialog",{ref:"dialog",attrs:{title:"Edit Asset",loaded:e.loaded,createLabel:"Update",cancelLabel:"Cancel"},on:{payload:e.onSave}})},GN=[],ZN=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"getDialog",value:function(){return this.$refs.dialog}},{key:"prepareLoad",value:function(e){var t={includeAssetType:!0};return qj(this.$store,e,t)}},{key:"prepareSave",value:function(e,t){return Rj(this.$store,e.token,t)}},{key:"onSave",value:function(e){this.save(e)}},{key:"afterSave",value:function(e){this.$emit("assetUpdated",e)}}]),a}(n["EditDialogComponent"]);ZN=Object(u["a"])([Object(n["Component"])({components:{AssetDialog:uN}})],ZN);var WN=ZN,HN=WN,JN=Object(f["a"])(HN,VN,GN,!1,null,null,null),QN=JN.exports,YN=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"loadRecord",value:function(e){var t={includeAssetType:!0};return qj(this.$store,e,t)}},{key:"afterRecordLoaded",value:function(e){var t={id:"assets",title:"Assets",icon:I.Asset,route:"/admin/assets/"+e.token,longTitle:"Manage Asset: "+e.name};this.$store.commit("currentSection",t)}},{key:"onEdit",value:function(){this.token&&this.$refs.edit.open(this.token)}},{key:"onAssetUpdated",value:function(){this.refresh()}},{key:"onDelete",value:function(){this.$refs["delete"].showDeleteDialog()}},{key:"onAssetDeleted",value:function(){ue(this,"/assets")}},{key:"onOpenAssignment",value:function(e){ue(this,"/assignments/"+e.token)}},{key:"asset",get:function(){return this.record}},{key:"icon",get:function(){return I.Asset}},{key:"title",get:function(){return this.asset?this.asset.name:""}}]),a}(n["DetailComponent"]);YN=Object(u["a"])([Object(n["Component"])({components:{AssetDetailHeader:wN,AssetAssignments:IN,AssetDeleteDialog:BN,AssetUpdateDialog:QN}})],YN);var KN=YN,XN=KN,ez=Object(f["a"])(XN,ON,jN,!1,null,null,null),tz=ez.exports,az=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-list-page",{attrs:{icon:e.icon,title:"Batch Operations",loadingMessage:"Loading batch operations ...",loaded:e.loaded,results:e.results},on:{pagingUpdated:e.onPagingUpdated}},[a("v-flex",{attrs:{xs12:""}},[a("v-data-table",{attrs:{headers:e.headers,items:e.matches,"hide-actions":!0,"no-data-text":"No Batch Operations Found"},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{attrs:{width:"15%",title:t.item.operationType}},[e._v(e._s(t.item.operationType))]),a("td",{attrs:{width:"15%",title:t.item.processingStatus}},[e._v(e._s(t.item.processingStatus))]),a("td",{staticStyle:{"white-space":"nowrap"},attrs:{width:"20%",title:e.formatDate(t.item.createdDate)}},[e._v(e._s(e.formatDate(t.item.createdDate)))]),a("td",{staticStyle:{"white-space":"nowrap"},attrs:{width:"20%",title:e.formatDate(t.item.processingStartedDate)}},[e._v(e._s(e.formatDate(t.item.processingStartedDate)))]),a("td",{staticStyle:{"white-space":"nowrap"},attrs:{width:"20%",title:e.formatDate(t.item.processingEndedDate)}},[e._v(e._s(e.formatDate(t.item.processingEndedDate)))]),a("td",{attrs:{width:"10%",title:"View Batch Operation"}},[a("v-tooltip",{attrs:{left:""}},[a("v-icon",{attrs:{slot:"activator"},on:{click:function(a){return a.stopPropagation(),e.openBatchOperation(t.item.token)}},slot:"activator"},[e._v("navigate_next")]),a("span",[e._v("Batch Operation Detail")])],1)],1)]}}])})],1),a("template",{slot:"noresults"},[a("no-results-panel",[a("div",[e._v("No batch operations have been created for this tenant.")])])],1)],2)},nz=[],iz=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.addIcon=I.Add,e.headers=[{align:"left",sortable:!1,text:"Operation",value:"operation"},{align:"left",sortable:!1,text:"Status",value:"status"},{align:"left",sortable:!1,text:"Created",value:"created"},{align:"left",sortable:!1,text:"Processing Started",value:"started"},{align:"left",sortable:!1,text:"Processing Finished",value:"finished"},{align:"left",sortable:!1,text:"",value:"open"}],e.pageSizes=[{text:"25",value:25},{text:"50",value:50},{text:"100",value:100}],e}return Object(j["a"])(a,[{key:"buildSearchCriteria",value:function(){var e={};return e}},{key:"buildResponseFormat",value:function(){var e={};return e}},{key:"performSearch",value:function(e,t){return r_(this.$store,e,t)}},{key:"openBatchOperation",value:function(e){ue(this,"/batch/"+e)}},{key:"formatDate",value:function(e){return se(e)}},{key:"icon",get:function(){return I.BatchOperation}}]),a}(n["ListComponent"]);iz=Object(u["a"])([Object(n["Component"])({components:{NoResultsPanel:hp}})],iz);var rz=iz,oz=rz,sz=Object(f["a"])(oz,az,nz,!1,null,null,null),lz=sz.exports,cz=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-detail-page",{attrs:{icon:e.icon,title:e.title,loadingMessage:"Loading batch operation ...",loaded:e.loaded,record:e.operation}},[a("template",{slot:"header"},[a("batch-operation-detail-header",{attrs:{record:e.operation}})],1),a("template",{slot:"tabs"},[a("v-tab",{key:"elements"},[e._v("Batch Operation Elements")])],1),a("template",{slot:"tab-items"},[a("batch-operation-elements-list",{attrs:{tabkey:"elements",operation:e.operation}})],1),a("template",{slot:"actions"}),a("template",{slot:"dialogs"})],2)},uz=[],dz=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.operation?a("sw-navigation-header-panel",{attrs:{height:"200px"}},[a("template",{slot:"left"},[a("v-icon",{staticStyle:{"font-size":"110px",padding:"40px"}},[e._v(e._s(e.icon))])],1),a("template",{slot:"content"},[a("sw-navigation-header-fields",[a("sw-header-field",{attrs:{label:"Token"}},[a("clipboard-copy-field",{attrs:{field:e.operation.token,message:"Operation token copied to clipboard"}})],1),a("sw-header-field",{attrs:{label:"Operation type"}},[a("span",[e._v(e._s(e.operation.operationType))])]),a("sw-header-field",{attrs:{label:"Status"}},[a("span",[e._v(e._s(e.operation.processingStatus))])]),a("sw-header-field",{attrs:{label:"Created"}},[a("span",[e._v(e._s(e.formatDate(e.operation.createdDate)))])]),a("sw-header-field",{attrs:{label:"Processing Started"}},[a("span",[e._v(e._s(e.formatDate(e.operation.processingStartedDate)))])]),a("sw-header-field",{attrs:{label:"Processing Finished"}},[a("span",[e._v(e._s(e.formatDate(e.operation.processingEndedDate)))])])],1)],1),a("template",{slot:"right"})],2):e._e()},pz=[],vz=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.icon=I.BatchOperation,e}return Object(j["a"])(a,[{key:"operation",get:function(){return this.record}},{key:"qrCodeUrl",get:function(){return"batch/"+this.operation.token+"/label/qrcode"}}]),a}(n["HeaderComponent"]);vz=Object(u["a"])([Object(n["Component"])({components:{ClipboardCopyField:rn,AuthenticatedImage:pn}})],vz);var fz=vz,mz=fz,hz=Object(f["a"])(mz,dz,pz,!1,null,null,null),bz=hz.exports,yz=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-data-table-tab",{attrs:{tabkey:e.tabkey,id:e.id,loaded:e.loaded,headers:e.headers,results:e.results,pageSizes:e.pageSizes,loadingMessage:"Loading batch elements ..."},on:{pagingUpdated:e.onPagingUpdated},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{staticStyle:{cursor:"pointer"},attrs:{width:"40%",title:t.item.device.token},on:{click:function(a){return e.onOpenDevice(t.item.device)}}},[a("v-icon",{staticClass:"grey--text",attrs:{small:""}},[e._v(e._s(e.deviceIcon))]),e._v(" "+e._s(t.item.device.token)+" ")],1),a("td",{attrs:{width:"20%",title:t.item.processingStatus}},[e._v(e._s(t.item.processingStatus))]),a("td",{staticStyle:{"white-space":"nowrap"},attrs:{width:"20%",title:e.formatDate(t.item.processedDate)}},[e._v(e._s(e.formatDate(t.item.processedDate)))]),a("td",{staticStyle:{"white-space":"nowrap"},attrs:{width:"20%",title:t.item.metadata.invocation}},[e._v(e._s(t.item.metadata.invocation))])]}}])},[a("template",{slot:"dialogs"})],2)},gz=[],kz=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.deviceIcon=I.Device,e.pageSizes=[{text:"25",value:25},{text:"50",value:50},{text:"100",value:100}],e.headers=[{align:"left",sortable:!1,text:"Device Token",value:"token"},{align:"left",sortable:!1,text:"Status",value:"status"},{align:"left",sortable:!1,text:"Processed Date",value:"processed"},{align:"left",sortable:!1,text:"Invocation Event",value:"invocation"}],e}return Object(j["a"])(a,[{key:"buildSearchCriteria",value:function(){var e={};return e}},{key:"buildResponseFormat",value:function(){var e={includeDevice:!0};return e}},{key:"performSearch",value:function(e,t){return o_(this.$store,this.operation.token,e,t)}},{key:"onOpenDevice",value:function(e){ue(this,"/devices/"+e.token)}},{key:"formatDate",value:function(e){return se(e)}}]),a}(n["ListComponent"]);Object(u["a"])([Object(n["Prop"])()],kz.prototype,"tabkey",void 0),Object(u["a"])([Object(n["Prop"])()],kz.prototype,"id",void 0),Object(u["a"])([Object(n["Prop"])()],kz.prototype,"operation",void 0),kz=Object(u["a"])([Object(n["Component"])({})],kz);var Oz=kz,jz=Oz,Cz=Object(f["a"])(jz,yz,gz,!1,null,null,null),xz=Cz.exports,$z=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"loadRecord",value:function(e){var t={};return i_(this.$store,e,t)}},{key:"afterRecordLoaded",value:function(e){var t={id:"batches",title:"Batch Operations",icon:I.BatchOperation,route:"/admin/batch/"+e.token,longTitle:"Manage Batch Operation: "+e.token};this.$store.commit("currentSection",t)}},{key:"operation",get:function(){return this.record}},{key:"icon",get:function(){return I.BatchOperation}},{key:"title",get:function(){return this.operation?"Manage batch operation ".concat(this.operation.token):"Manage batch operation"}}]),a}(n["DetailComponent"]);$z=Object(u["a"])([Object(n["Component"])({components:{BatchOperationDetailHeader:bz,BatchOperationElementsList:xz}})],$z);var _z=$z,Tz=_z,Dz=Object(f["a"])(Tz,cz,uz,!1,null,null,null),wz=Dz.exports,Sz=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-list-page",{attrs:{icon:e.icon,title:"Schedules",loadingMessage:"Loading schedules ...",loaded:e.loaded,results:e.results},on:{pagingUpdated:e.onPagingUpdated}},[a("v-flex",{attrs:{xs12:""}},[a("v-data-table",{attrs:{headers:e.headers,items:e.matches,"hide-actions":!0,"no-data-text":"No Schedules Found"},scopedSlots:e._u([{key:"items",fn:function(t){return[a("td",{attrs:{width:"17%",title:t.item.name}},[e._v(e._s(t.item.name))]),a("td",{attrs:{width:"15%",title:t.item.triggerType}},[e._v(e._s(t.item.triggerType))]),a("td",{attrs:{width:"35%",title:t.item.token}},[e._v(e._s(t.item.token))]),a("td",{attrs:{width:"18%",title:e.formatDate(t.item.createdDate)}},[e._v(e._s(e.formatDate(t.item.createdDate)))]),a("td",{attrs:{width:"15%"}},[a("actions-block",{on:{edit:function(a){return e.onEditSchedule(t.item.token)},delete:function(a){return e.onDeleteSchedule(t.item.token)}}})],1)]}}])})],1),a("template",{slot:"noresults"},[a("no-results-panel",[a("div",[e._v("No schedules have been created for this tenant.")]),a("div",{staticClass:"mt-2"},[e._v(" Click "),a("v-icon",{staticClass:"pl-1 pr-2",attrs:{small:""}},[e._v(e._s(e.addIcon))]),e._v("in the toolbar to add a schedule. ")],1)])],1),a("template",{slot:"dialogs"},[a("schedule-create-dialog",{ref:"add",on:{created:e.onScheduleAdded}}),a("schedule-update-dialog",{ref:"edit",on:{updated:e.refresh}}),a("schedule-delete-dialog",{ref:"delete",on:{deleted:e.refresh}})],1),a("template",{slot:"actions"},[a("add-button",{attrs:{tooltip:"Add Schedule"},on:{action:e.onAddSchedule}})],1)],2)},Az=[],Pz=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("schedule-dialog",{ref:"dialog",attrs:{title:"Create Schedule",width:"700",resetOnOpen:"true",createLabel:"Create",cancelLabel:"Cancel"},on:{payload:e.onCommit}})},Ez=[],Lz=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-base-dialog",{ref:"dialog",attrs:{icon:e.icon,title:e.title,width:e.width,loaded:e.loaded,visible:e.dialogVisible,createLabel:e.createLabel,cancelLabel:e.cancelLabel},on:{createClicked:e.onCreateClicked,cancelClicked:e.onCancelClicked}},[a("template",{slot:"tabs"},[a("v-tab",{key:"details"},[e._v("Details")]),a("v-tab",{key:"metadata"},[e._v("Metadata")])],1),a("template",{slot:"tab-items"},[a("v-tab-item",{key:"details"},[a("schedule-detail-fields",{ref:"details"})],1),a("v-tab-item",{key:"metadata"},[a("sw-metadata-panel",{ref:"metadata"})],1)],1)],2)},Uz=[],Iz=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("dialog-form",[a("v-flex",{attrs:{xs12:""}},[a("form-token",{attrs:{required:"",label:"Schedule token",title:"Unique token for referencing schedule.",validator:e.$v},model:{value:e.token,callback:function(t){e.token=t},expression:"token"}})],1),a("v-flex",{attrs:{xs12:""}},[a("form-text",{attrs:{required:"",label:"Name",title:"Schedule name.",icon:"info"},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}},[!e.$v.name.required&&e.$v.$dirty?a("span",[e._v("Name is required.")]):e._e()])],1),a("v-flex",{staticClass:"pr-5",attrs:{xs6:""}},[a("form-date-time-picker",{attrs:{required:"",label:"Start date",title:"Schedule start date.",icon:"info"},model:{value:e.startDate,callback:function(t){e.startDate=t},expression:"startDate"}})],1),a("v-flex",{staticClass:"pl-4",attrs:{xs6:""}},[a("form-date-time-picker",{attrs:{required:"",label:"End date",title:"Schedule end date.",icon:"info"},model:{value:e.endDate,callback:function(t){e.endDate=t},expression:"endDate"}})],1),a("v-flex",{attrs:{xs12:""}},[a("form-select",{attrs:{required:"",title:"Schedule trigger type.",items:e.triggerTypes,label:"Trigger type","item-text":"text","item-value":"value",icon:"flash_on"},model:{value:e.triggerType,callback:function(t){e.triggerType=t},expression:"triggerType"}},[e.$v.triggerType.$invalid&&e.$v.$dirty?a("span",[e._v("Trigger type is required.")]):e._e()])],1),"CronTrigger"===e.triggerType?a("v-flex",{attrs:{xs12:""}},[a("form-text",{attrs:{required:"",label:"Cron expression",title:"Expression used to configure cron trigger.",icon:"info"},model:{value:e.cronExpression,callback:function(t){e.cronExpression=t},expression:"cronExpression"}},[!e.$v.cronExpression.reqIfCron&&e.$v.$dirty?a("span",[e._v("Cron expression is required.")]):e._e()])],1):e._e(),"SimpleTrigger"===e.triggerType?a("v-flex",{attrs:{xs6:""}},[a("form-text",{attrs:{required:"",label:"Interval (ms)",title:"Schedule interval in milliseconds.",icon:"alarm"},model:{value:e.repeatInterval,callback:function(t){e.repeatInterval=t},expression:"repeatInterval"}},[!e.$v.repeatInterval.reqIfSimple&&e.$v.$dirty?a("span",[e._v("Repeat interval is required.")]):e._e()])],1):e._e(),"SimpleTrigger"===e.triggerType?a("v-flex",{attrs:{xs6:""}},[a("form-text",{attrs:{required:"",label:"Repetitions",title:"Number of times trigger will be executed.",icon:"autorenew"},model:{value:e.repeatCount,callback:function(t){e.repeatCount=t},expression:"repeatCount"}},[!e.$v.repeatCount.reqIfSimple&&e.$v.$dirty?a("span",[e._v("Repeat count is required.")]):e._e()])],1):e._e()],1)},qz=[],Rz=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mb-3"},[a("sw-date-time-picker",{attrs:{title:e.title,label:e.label},model:{value:e.wrapped,callback:function(t){e.wrapped=t},expression:"wrapped"}}),a("div",{staticClass:"verror"},[e._t("default")],2)],1)},Mz=[],Fz=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"wrapped",get:function(){return this.value},set:function(e){this.$emit("input",e)}}]),a}(i["default"]);Object(u["a"])([Object(n["Prop"])()],Fz.prototype,"title",void 0),Object(u["a"])([Object(n["Prop"])()],Fz.prototype,"label",void 0),Object(u["a"])([Object(n["Prop"])()],Fz.prototype,"icon",void 0),Object(u["a"])([Object(n["Prop"])()],Fz.prototype,"required",void 0),Object(u["a"])([Object(n["Prop"])()],Fz.prototype,"value",void 0),Object(u["a"])([Object(n["Prop"])()],Fz.prototype,"type",void 0),Fz=Object(u["a"])([Object(n["Component"])({})],Fz);var Nz=Fz,zz=Nz,Bz=Object(f["a"])(zz,Rz,Mz,!1,null,null,null),Vz=Bz.exports,Gz=Ne["helpers"].regex("validToken",/^[a-zA-Z0-9-_]+$/),Zz=Object(Ne["requiredIf"])((function(e){return e.triggerType===B["TriggerType"].CronTrigger})),Wz=Object(Ne["requiredIf"])((function(e){return e.triggerType===B["TriggerType"].SimpleTrigger})),Hz=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.token=null,e.name="",e.startDate=null,e.endDate=null,e.triggerType=B["TriggerType"].SimpleTrigger,e.cronExpression=null,e.repeatInterval=1e3,e.repeatCount=1,e.triggerTypes=[{text:"Simple Trigger",value:"SimpleTrigger"},{text:"Cron Trigger",value:"CronTrigger"}],e}return Object(j["a"])(a,[{key:"reset",value:function(){this.token=null,this.name="",this.startDate=null,this.endDate=null,this.triggerType=B["TriggerType"].SimpleTrigger,this.cronExpression=null,this.repeatInterval=1e3,this.repeatCount=1,this.$v.$reset()}},{key:"validate",value:function(){return this.$v.$touch(),!this.$v.$invalid}},{key:"load",value:function(e){this.token=e.token,this.name=e.name,this.startDate=e.startDate,this.endDate=e.endDate,this.triggerType=e.triggerType,e.triggerConfiguration&&e.triggerType===B["TriggerType"].CronTrigger?this.cronExpression=e.triggerConfiguration.cronExpression:e.triggerConfiguration&&e.triggerType===B["TriggerType"].SimpleTrigger&&(this.repeatInterval=parseInt(e.triggerConfiguration.repeatInterval),this.repeatCount=parseInt(e.triggerConfiguration.repeatCount))}},{key:"save",value:function(){var e={};this.triggerType===B["TriggerType"].CronTrigger?e.cronExpression=this.cronExpression:this.triggerType===B["TriggerType"].SimpleTrigger&&(e.repeatInterval=this.repeatInterval,e.repeatCount=this.repeatCount);var t={token:this.token||void 0,name:this.name,startDate:le(this.startDate),endDate:le(this.endDate),triggerType:this.triggerType,triggerConfiguration:e};return t}}]),a}(n["DialogSection"]);Hz=Object(u["a"])([Object(n["Component"])({components:{DialogForm:_e,FormToken:fd,FormText:Ee,FormSelect:Fe,FormDateTimePicker:Vz},validations:{token:{required:Ne["required"],validToken:Gz},name:{required:Ne["required"]},triggerType:{required:Ne["required"]},cronExpression:{reqIfCron:Zz},repeatInterval:{reqIfSimple:Wz},repeatCount:{reqIfSimple:Wz}}})],Hz);var Jz=Hz,Qz=Jz,Yz=Object(f["a"])(Qz,Iz,qz,!1,null,null,null),Kz=Yz.exports,Xz=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"generatePayload",value:function(){var e={};return Object.assign(e,this.$refs.details.save(),this.$refs.metadata.save()),e}},{key:"reset",value:function(){this.$refs.details&&this.$refs.details.reset(),this.$refs.metadata&&this.$refs.metadata.reset(),this.$refs.dialog.setActiveTab(0)}},{key:"load",value:function(e){this.reset(),this.$refs.details&&this.$refs.details.load(e),this.$refs.metadata&&this.$refs.metadata.load(e)}},{key:"onCreateClicked",value:function(e){if(this.$refs.details.validate()){var t=this.generatePayload();this.$emit("payload",t)}else this.$refs.dialog.setActiveTab(0)}},{key:"icon",get:function(){return I.Schedule}}]),a}(n["DialogComponent"]);Xz=Object(u["a"])([Object(n["Component"])({components:{ScheduleDetailFields:Kz}})],Xz);var eB=Xz,tB=eB,aB=Object(f["a"])(tB,Lz,Uz,!1,null,null,null),nB=aB.exports,iB=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"getDialog",value:function(){return this.$refs.dialog}},{key:"onCommit",value:function(e){this.commit(e)}},{key:"save",value:function(e){return R$(this.$store,e)}},{key:"afterSave",value:function(e){}}]),a}(n["CreateDialogComponent"]);iB=Object(u["a"])([Object(n["Component"])({components:{ScheduleDialog:nB}})],iB);var rB=iB,oB=rB,sB=Object(f["a"])(oB,Pz,Ez,!1,null,null,null),lB=sB.exports,cB=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("schedule-dialog",{ref:"dialog",attrs:{title:"Edit Schedule",loaded:e.loaded,createLabel:"Update",cancelLabel:"Cancel"},on:{payload:e.onSave}})},uB=[],dB=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){return Object(s["a"])(this,a),t.apply(this,arguments)}return Object(j["a"])(a,[{key:"getDialog",value:function(){return this.$refs.dialog}},{key:"prepareLoad",value:function(e){var t={};return M$(this.$store,e,t)}},{key:"prepareSave",value:function(e,t){return F$(this.$store,e.token,t)}},{key:"onSave",value:function(e){this.save(e)}},{key:"afterSave",value:function(e){}}]),a}(n["EditDialogComponent"]);dB=Object(u["a"])([Object(n["Component"])({components:{ScheduleDialog:nB}})],dB);var pB=dB,vB=pB,fB=Object(f["a"])(vB,cB,uB,!1,null,null,null),mB=fB.exports,hB=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("sw-delete-dialog",{ref:"dialog",attrs:{title:"Delete Schedule",width:"400",visible:e.visible},on:{delete:e.onDelete,cancel:e.onCancel}},[a("v-card-text",[e._v(e._s(e.message))])],1)},bB=[],yB=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.message=null,e}return Object(j["a"])(a,[{key:"prepareLoad",value:function(e){var t={};return M$(this.$store,e,t)}},{key:"afterLoad",value:function(e){this.message="Are you sure you want to delete '".concat(e.token,"'?")}},{key:"prepareDelete",value:function(e){return N$(this.$store,e.token)}},{key:"onDelete",value:function(e){this.delete()}},{key:"onCancel",value:function(e){this.cancel()}}]),a}(n["DeleteDialogComponent"]);yB=Object(u["a"])([Object(n["Component"])({})],yB);var gB=yB,kB=gB,OB=Object(f["a"])(kB,hB,bB,!1,null,null,null),jB=OB.exports,CB=function(e){Object(l["a"])(a,e);var t=Object(c["a"])(a);function a(){var e;return Object(s["a"])(this,a),e=t.apply(this,arguments),e.addIcon=I.Add,e.headers=[{align:"left",sortable:!1,text:"Name",value:"name"},{align:"left",sortable:!1,text:"Type",value:"type"},{align:"left",sortable:!1,text:"Token",value:"token"},{align:"left",sortable:!1,text:"Created Date",value:"created"},{align:"left",sortable:!1,text:"Actions",value:"actions"}],e.pageSizes=[{text:"25",value:25},{text:"50",value:50},{text:"100",value:100}],e}return Object(j["a"])(a,[{key:"buildSearchCriteria",value:function(){var e={};return e}},{key:"buildResponseFormat",value:function(){var e={};return e}},{key:"performSearch",value:function(e,t){return z$(this.$store,e,t)}},{key:"onAddSchedule",value:function(){this.$refs.add.open()}},{key:"onScheduleAdded",value:function(){this.refresh()}},{key:"onEditSchedule",value:function(e){this.$refs.edit.open(e)}},{key:"onDeleteSchedule",value:function(e){this.$refs.delete.open(e)}},{key:"formatDate",value:function(e){return se(e)}},{key:"icon",get:function(){return I.Schedule}}]),a}(n["ListComponent"]);CB=Object(u["a"])([Object(n["Component"])({components:{ActionsBlock:gc,ScheduleCreateDialog:lB,ScheduleUpdateDialog:mB,ScheduleDeleteDialog:jB,AddButton:cp,NoResultsPanel:hp}})],CB);var xB=CB,$B=xB,_B=Object(f["a"])($B,Sz,Az,!1,null,null,null),TB=_B.exports;i["default"].use(y["a"]);var DB=[{path:"/",component:At},{path:"/system",component:Kt,children:[{path:"tenants",component:Wa},{path:"tenants/:token",component:Qn},{path:"tenants/:token/:identifier",component:uc},{path:"users",component:pu},{path:"microservices",component:gu},{path:"microservices/:identifier",component:_u}]},{path:"/tenants/:tenantToken",component:Eu,children:[{path:"server",component:Mu},{path:"customertypes",component:Op},{path:"customertypes/:token",component:Cv},{path:"customers",component:of},{path:"customers/:token",component:$h},{path:"areatypes",component:Db},{path:"areatypes/:token",component:hy},{path:"areas",component:Lg},{path:"areas/:token",component:ZO},{path:"assignments",component:P_},{path:"assignments/:token",component:ID},{path:"assignments/:token/emulator",component:rS},{path:"devicetypes",component:NS},{path:"devicetypes/:token",component:QE},{path:"devices",component:LU},{path:"devices/:token",component:jI},{path:"groups",component:gq},{path:"groups/:token",component:aM},{path:"devicestates",component:cM},{path:"assettypes",component:QM},{path:"assettypes/:token",component:RF},{path:"assets",component:kN},{path:"assets/:token",component:tz},{path:"batch",component:lz},{path:"batch/:token",component:wz},{path:"schedules",component:TB}]}],wB=new y["a"]({routes:DB}),SB=a("2f62"),AB=a("0e44");i["default"].use(SB["a"]);var PB={plugins:[Object(AB["a"])()],state:{remotes:{default:"local",connections:[{id:"local",name:"Local Instance",protocol:"http",host:"localhost",port:80}]},jwt:void 0,user:void 0,authToken:void 0,authTenants:null,settings:null,selectedTenant:void 0,currentSection:void 0,loading:!1,error:void 0,message:void 0},mutations:{remotes:function(e,t){e.remotes=t},protocol:function(e,t){e.protocol=t},server:function(e,t){e.server=t},port:function(e,t){e.port=t},jwt:function(e,t){e.jwt=t},user:function(e,t){e.user=t},authToken:function(e,t){e.authToken=t},authTenants:function(e,t){e.authTenants=t},settings:function(e,t){e.settings=t},selectedTenant:function(e,t){e.selectedTenant=t},currentSection:function(e,t){e.currentSection=t},startLoading:function(e){e.loading=!0},stopLoading:function(e){e.loading=!1},error:function(e,t){e.error=t},message:function(e,t){e.message=t},logOut:function(e){e.user=void 0,e.authToken=void 0,e.authTenants=void 0,e.selectedTenant=void 0,e.currentSection=void 0,e.error=void 0,e.message=void 0}},getters:{remotes:function(e){return e.remotes},protocol:function(e){return e.protocol},server:function(e){return e.server},port:function(e){return e.port},jwt:function(e){return e.jwt},user:function(e){return e.user},authToken:function(e){return e.authToken},authTenants:function(e){return e.authTenants},selectedTenant:function(e){return e.selectedTenant},currentSection:function(e){return e.currentSection},loading:function(e){return e.loading},error:function(e){return e.error},message:function(e){return e.message}}},EB=new SB["a"].Store(PB),LB=a("ecee"),UB=a("c074"),IB=a("ad3d"),qB=a("ce5b"),RB=a.n(qB),MB=a("458e"),FB=a.n(MB),NB=a("219c2"),zB=a.n(NB),BB=a("af88"),VB=a("998c"),GB=a.n(VB),ZB=a("c38f"),WB=a.n(ZB);function HB(e){var t=e.options;t.icon.options.iconSize=new Gy.a.Point(10,10),t.touchIcon=t.icon}i["default"].config.productionTip=!1,i["default"].use(RB.a,{theme:{primary:"#616161",secondary:"#333333",accent:"#8c9eff",error:"#b71c1c"}}),i["default"].use(wh.a),i["default"].use(Xe.a),i["default"].use(zB.a),i["default"].use(BB["a"]),i["default"].use(GB.a),i["default"].use(WB.a),LB["c"].add(UB["a"]),i["default"].component("font-awesome-icon",IB["a"]),i["default"].component("v-map",FB.a.Map),i["default"].component("v-tilelayer",FB.a.TileLayer),i["default"].component("v-marker",FB.a.Marker),console.log(fg.a),delete Gy.a.Icon.Default.prototype._getIconUrl,Gy.a.Icon.Default.mergeOptions({iconRetinaUrl:a("584d"),iconUrl:a("6397"),shadowUrl:a("e2b9")}),HB(Gy.a.Draw.Polyline.prototype),HB(Gy.a.Edit.PolyVerticesEdit.prototype),a("6c66"),i["default"].config.productionTip=!1,new i["default"]({el:"#app",router:wB,store:EB,components:{App:h},render:function(e){return e(h)}})},ce4e8:function(e,t,a){"use strict";var n=a("6bc6"),i=a.n(n);i.a},cfa6:function(e,t,a){},d297:function(e,t,a){"use strict";var n=a("fce8"),i=a.n(n);i.a},e49a:function(e,t,a){"use strict";var n=a("e80e"),i=a.n(n);i.a},e518:function(e,t,a){},e6d4:function(e,t,a){"use strict";var n=a("80b8"),i=a.n(n);i.a},e73d:function(e,t,a){},e80e:function(e,t,a){},e888:function(e,t,a){"use strict";var n=a("109b"),i=a.n(n);i.a},ee71:function(e,t,a){},efc5:function(e,t,a){"use strict";var n=a("fa27"),i=a.n(n);i.a},effc:function(e,t,a){"use strict";var n=a("cfa6"),i=a.n(n);i.a},f22d:function(e,t,a){},f59a:function(e,t,a){},f65c:function(e,t,a){},f8c4:function(e,t,a){"use strict";var n=a("e73d"),i=a.n(n);i.a},f978:function(e,t,a){},fa27:function(e,t,a){},fce8:function(e,t,a){}});
//# sourceMappingURL=app.99588c37.js.map